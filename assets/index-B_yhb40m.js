import{n as e}from"./rolldown-runtime-y2wrX6ue.js";import{_ as t,b as n,f as r,g as i,h as a,m as o,n as s,p as c,t as l,v as u,x as d,y as f}from"./react-vendor-C0MAxjsp.js";import{i as p,o as m}from"./mobx-vendor-6Io-QZit.js";import{t as h}from"./utils-vendor-CCgx0DNS.js";import{a as g,c as _,i as v,n as y,o as b,r as x,s as S,t as C}from"./firebase-vendor-CybnOqWq.js";import{i as w,n as T,r as E,t as D}from"./swiper-vendor-D8L3ggUO.js";(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var O=e(n()),k=e(d()),A=`admin_token`;const j=new class{constructor(){this.user={role:`user`,isAuthenticated:!1},this.loginModalOpen=!1,this.loadAuthState=()=>{try{localStorage.getItem(A)===`admin_authenticated`&&(this.user={role:`admin`,isAuthenticated:!0})}catch(e){console.error(`Failed to load auth state:`,e)}},this.saveAuthState=()=>{try{this.user.role===`admin`&&this.user.isAuthenticated?localStorage.setItem(A,`admin_authenticated`):localStorage.removeItem(A)}catch(e){console.error(`Failed to save auth state:`,e)}},this.openLoginModal=()=>{this.loginModalOpen=!0},this.closeLoginModal=()=>{this.loginModalOpen=!1},this.login=e=>{this.user={role:e,isAuthenticated:!0},this.saveAuthState(),this.loginModalOpen=!1},this.logout=()=>{this.user={role:`user`,isAuthenticated:!1},this.saveAuthState(),this.loginModalOpen=!1},this.isAdmin=()=>this.user.role===`admin`&&this.user.isAuthenticated,p(this),this.loadAuthState()}};var M=_({apiKey:`AIzaSyBTPDd82JYfMuvGDoFqVdsPx2ZN6-kUHqM`,authDomain:`tiodio324-4a8fa.firebaseapp.com`,databaseURL:`https://tiodio324-4a8fa-default-rtdb.firebaseio.com`,projectId:`tiodio324-4a8fa`,storageBucket:`tiodio324-4a8fa.firebasestorage.app`,messagingSenderId:`256080690383`,appId:`1:256080690383:web:263ffc95aed6fe465bcbba`});const N=x(M);C(M);var P=class{static async getData(e){let t=g(N,e);return new Promise(e=>{v(t,t=>{e(t.val())},{onlyOnce:!0})})}static async setData(e,t){let n=g(N,e);await b(n,t)}static async updateData(e,t){let n=g(N,e);await S(n,t)}static async getSnapshot(e){let t=g(N,e);return(await y(t)).val()}};const F=()=>({id:``,name:``,profession:``,slogan:``,specialization:``,grade:null,avatar:R,email:``,phone:``,location:``,bio:``,skills:[],experience:[],education:[],courses:[],certifications:[],tests:[],languages:[],desiredSalary:null,currentSalary:null,additionalPhones:[],employmentType:[],businessTrips:null,jobSearchRegions:[],birthDate:``,petProjects:[],personalProjects:[],commercialProjects:[],recommendations:[],contactInfo:{email:``,phone:``,telegram:``}}),ee=e=>e.reduce((e,t)=>{let n=new Date(t.startDate),r=t.isCurrentJob?new Date:new Date(t.endDate||t.startDate);if(isNaN(n.getTime())||isNaN(r.getTime()))return e;let i=(r.getFullYear()-n.getFullYear())*12+(r.getMonth()-n.getMonth());return e+Math.max(0,i)},0),te=e=>{if(e<=0)return`Нет опыта`;let t=Math.floor(e/12),n=e%12,r=ne(t),i=re(n);return t===0?i:n===0?r:`${r} ${i}`};var ne=e=>e%10==1&&e%100!=11?`${e} год`:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?`${e} года`:`${e} лет`,re=e=>e===1?`1 месяц`:e>=2&&e<=4?`${e} месяца`:`${e} месяцев`;const I=e=>{if(!e)return null;let t=new Date(e),n=new Date;if(isNaN(t.getTime()))return null;let r=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth();return(i<0||i===0&&n.getDate()<t.getDate())&&r--,r},ie=e=>e===null||e<0?``:e%10==1&&e%100!=11?`${e} год`:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?`${e} года`:`${e} лет`,L=e=>{switch(e){case`Завершён`:return`#4CAF50`;case`В разработке`:return`#2196F3`;case`На доработке`:return`#FF9800`;case`Заморожен`:return`#9E9E9E`;case`Заброшен`:return`#F44336`;case`В ожидании`:return`#9C27B0`;default:return`#666666`}},ae=e=>{switch(e){case`Завершён`:return`Проект завершён`;case`В разработке`:return`Проект в разработке`;case`На доработке`:return`Проект на доработке`;case`Заморожен`:return`Проект заморожен`;case`Заброшен`:return`Проект заброшен`;case`В ожидании`:return`Проект в ожидании`;default:return e}},R=`data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBmaWxsPSIjMzMzIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iMzgiIHI9IjEyIiBmaWxsPSIjZmZmIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNjIiIHI9IjE4IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPg==`,z=e=>e&&e.trim()!==``?e:R,B=e=>{if(!e||typeof e!=`string`)return``;let t=e.trim();if(!t)return``;let n=t.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/),r=t.match(/^(\d{1,2})\.(\d{4})$/);if(n){let e=parseInt(n[1],10),t=parseInt(n[2],10),r=parseInt(n[3],10);if(e<1||e>31||t<1||t>12||r<1900||r>2100)return``;let i=new Date(r,t-1,e);return isNaN(i.getTime())?``:i.toISOString()}else if(r){let e=parseInt(r[1],10),t=parseInt(r[2],10);if(e<1||e>12||t<1900||t>2100)return``;let n=new Date(t,e-1,1);return isNaN(n.getTime())?``:n.toISOString()}return``},V=(e,t=`full`)=>{if(!e)return``;let n=new Date(e);if(isNaN(n.getTime()))return``;let r=n.getDate(),i=n.getMonth()+1,a=n.getFullYear();return t===`month`?`${i.toString().padStart(2,`0`)}.${a}`:`${r.toString().padStart(2,`0`)}.${i.toString().padStart(2,`0`)}.${a}`},oe=(e,t,n)=>{let r=new Date(e),i=t?new Date(t):n?new Date:null;if(isNaN(r.getTime()))return``;let a=r.toLocaleDateString(`ru-RU`,{month:`short`,year:`numeric`});if(!i||isNaN(i.getTime()))return`${a} - настоящее время`;let o=i.toLocaleDateString(`ru-RU`,{month:`short`,year:`numeric`});return`${a} - ${o}`},H=new class{constructor(){this.resumeList=[],this.currentResume=null,this.loading=!1,this.error=null,this.loadResumeList=async()=>{try{m(()=>{this.loading=!0,this.error=null});let e=await P.getData(`/resume-list`);m(()=>{if(e){let t=Object.entries(e).map(([e,t])=>({id:e,...t}));this.resumeList=Array.from(new Map(t.map(e=>[e.id,e])).values())}else this.resumeList=[];this.loading=!1})}catch(e){m(()=>{this.error=e instanceof Error?e.message:`Failed to load resume list`,this.loading=!1})}},this.loadResume=async e=>{try{m(()=>{this.loading=!0,this.error=null});let t=await P.getData(`/resumes/${e}`),n=await P.getData(`/resumes/${e}/petProjects`)??{},r=await P.getData(`/resumes/${e}/personalProjects`)??{},i=await P.getData(`/resumes/${e}/commercialProjects`)??{};m(()=>{if(t){let a=F(),o=Object.values(n||{}),s=Object.values(r||{}),c=Object.values(i||{});this.currentResume={...a,...t,id:e,petProjects:o,personalProjects:s,commercialProjects:c,contactInfo:{...a.contactInfo,...t.contactInfo}}}else this.currentResume=null;this.loading=!1})}catch(e){m(()=>{this.error=e instanceof Error?e.message:`Failed to load resume`,this.loading=!1})}},this.loadResumeForEdit=async e=>{try{let t=await P.getData(`/resumes/${e}`);if(t){let n=await P.getData(`/resumes/${e}/petProjects`)??{},r=await P.getData(`/resumes/${e}/personalProjects`)??{},i=await P.getData(`/resumes/${e}/commercialProjects`)??{},a=F(),o=Object.values(n||{}),s=Object.values(r||{}),c=Object.values(i||{});return{...a,...t,id:e,petProjects:o,personalProjects:s,commercialProjects:c,contactInfo:{...a.contactInfo,...t.contactInfo}}}return null}catch(e){return console.error(`Failed to load resume for edit:`,e),null}},this.getFeaturedProjects=()=>this.currentResume?[...this.currentResume.petProjects,...this.currentResume.personalProjects,...this.currentResume.commercialProjects].filter(e=>e.featured):[],this.getLatestProjects=(e=6)=>this.currentResume?[...this.currentResume.petProjects,...this.currentResume.personalProjects,...this.currentResume.commercialProjects].sort((e,t)=>new Date(t.startDate).getTime()-new Date(e.startDate).getTime()).slice(0,e):[],this.getProjectsByCategory=e=>{if(!this.currentResume)return[];switch(e){case`pet`:return this.currentResume.petProjects;case`personal`:return this.currentResume.personalProjects;case`commercial`:return this.currentResume.commercialProjects;default:return[]}},this.updateProject=async(e,t,n)=>{if(!this.currentResume)return;let r=`${e}Projects`,i=this.currentResume[r],a=i.findIndex(e=>e.id===t);if(a!==-1)try{let o={...i[a],...n},s=i.map(e=>e.id===t?o:e),c={...this.currentResume,[r]:s};await P.setData(`/resumes/${this.currentResume.id}/${e}Projects/${t}`,o),m(()=>{this.currentResume=c})}catch(e){m(()=>{this.error=e instanceof Error?e.message:`Failed to update project`})}},this.updateResumeField=async(e,t)=>{if(this.currentResume)try{let n={...this.currentResume,[e]:t};if(e===`petProjects`||e===`personalProjects`||e===`commercialProjects`){let n=t,r=e.replace(`Projects`,``);for(let e of n)await P.setData(`/resumes/${this.currentResume.id}/${r}Projects/${e.id}`,e)}else{let e={...n,petProjects:[],personalProjects:[],commercialProjects:[]};await P.setData(`/resumes/${this.currentResume.id}`,e)}if(e===`name`||e===`profession`||e===`avatar`){let e={name:n.name,profession:n.profession,avatar:n.avatar};await P.setData(`/resume-list/${this.currentResume.id}`,e),m(()=>{let t=this.resumeList.findIndex(e=>e.id===this.currentResume.id);t===-1?this.resumeList.push({id:this.currentResume.id,...e}):this.resumeList[t]={id:this.currentResume.id,...e},this.resumeList=Array.from(new Map(this.resumeList.map(e=>[e.id,e])).values())})}m(()=>{this.currentResume=n})}catch(e){m(()=>{this.error=e instanceof Error?e.message:`Failed to update resume`})}},this.setData=async(e,t)=>{await P.setData(e,t)},this.saveResume=async e=>{try{m(()=>{this.loading=!0,this.error=null});let t={...e,petProjects:[],personalProjects:[],commercialProjects:[]};await P.setData(`/resumes/${e.id}`,t);for(let t of[`pet`,`personal`,`commercial`]){let n=e[`${t}Projects`];if(n&&n.length>0)for(let r of n)await P.setData(`/resumes/${e.id}/${t}Projects/${r.id}`,r)}let n={id:e.id,name:e.name,profession:e.profession,avatar:e.avatar};await P.setData(`/resume-list/${e.id}`,n),m(()=>{let t=this.resumeList.findIndex(t=>t.id===e.id);t===-1?this.resumeList.push(n):this.resumeList[t]=n,this.resumeList=Array.from(new Map(this.resumeList.map(e=>[e.id,e])).values()),this.loading=!1})}catch(e){throw m(()=>{this.error=e instanceof Error?e.message:`Failed to save resume`,this.loading=!1}),e}},p(this)}};new class{constructor(){this.authStore=j,this.resumeStore=H}};var U=e(r()),se=f(()=>{let e=t(),n=`K9@vN5_GDJkd-fDf3=24@`;(0,k.useEffect)(()=>{H.loadResumeList()},[]);let r=async t=>{await H.loadResume(t),e(`/main/${t}`)},i=()=>{j.openLoginModal()},a=async t=>{try{if(await H.loadResume(t),H.currentResume){let t={...H.currentResume,id:`resume_${h()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await H.saveResume(t),H.currentResume=null,e(`/resume/edit/${t.id}`)}}catch(e){console.error(`Ошибка при дублировании резюме:`,e),alert(`Ошибка при дублировании резюме`)}};return H.loading?(0,U.jsx)(`div`,{className:`resume-selection`,children:(0,U.jsxs)(`div`,{className:`loading`,children:[(0,U.jsx)(`div`,{className:`spinner`}),(0,U.jsx)(`p`,{children:`Загрузка резюме...`})]})}):H.error?(0,U.jsx)(`div`,{className:`resume-selection`,children:(0,U.jsxs)(`div`,{className:`error`,children:[(0,U.jsxs)(`p`,{children:[`Ошибка загрузки: `,H.error]}),(0,U.jsx)(`button`,{onClick:()=>H.loadResumeList(),children:`Попробовать снова`})]})}):(0,U.jsxs)(`div`,{className:`resume-selection`,children:[(0,U.jsxs)(`div`,{className:`resume-selection__container`,children:[(0,U.jsxs)(`header`,{className:`resume-selection__header`,children:[(0,U.jsx)(`h1`,{className:`resume-selection__title`,children:`Выберите резюме`}),(0,U.jsx)(`p`,{className:`resume-selection__subtitle`,children:`Выберите интересующее вас резюме для просмотра портфолио`})]}),(0,U.jsxs)(`div`,{className:`resume-selection__grid`,children:[H.resumeList.map(t=>(0,U.jsxs)(`div`,{className:`resume-card`,onClick:()=>r(t.id),children:[(0,U.jsx)(`div`,{className:`resume-card__avatar`,children:(0,U.jsx)(`img`,{src:z(t.avatar),alt:`${t.name} avatar`,className:`resume-card__avatar-img`})}),(0,U.jsxs)(`div`,{className:`resume-card__info`,children:[(0,U.jsx)(`h3`,{className:`resume-card__name`,children:t.name}),(0,U.jsx)(`p`,{className:`resume-card__profession`,children:t.profession})]}),(0,U.jsx)(`div`,{className:`resume-card__overlay`,children:(0,U.jsx)(`span`,{className:`resume-card__select-text`,children:`Выбрать`})}),j.isAdmin()&&(0,U.jsxs)(`div`,{className:`resume-card__admin-actions`,children:[(0,U.jsx)(`button`,{className:`resume-card__duplicate-btn`,onClick:e=>{e.stopPropagation(),a(t.id)},title:`Дублировать резюме`,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`path`,{d:`M8 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-3`}),(0,U.jsx)(`path`,{d:`M19 9V6a2 2 0 0 0-2-2H14`}),(0,U.jsx)(`line`,{x1:`12`,y1:`12`,x2:`20`,y2:`4`})]})}),(0,U.jsx)(`button`,{className:`resume-card__edit-btn`,onClick:n=>{n.stopPropagation(),e(`/resume/edit/${t.id}`)},title:`Редактировать резюме`,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`path`,{d:`M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7`}),(0,U.jsx)(`path`,{d:`M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z`})]})})]})]},t.id)),j.isAdmin()&&(0,U.jsxs)(`div`,{className:`resume-card resume-card--add`,onClick:()=>e(`/resume/edit/new`),children:[(0,U.jsx)(`div`,{className:`resume-card__avatar resume-card__avatar--add`,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`line`,{x1:`12`,y1:`5`,x2:`12`,y2:`19`}),(0,U.jsx)(`line`,{x1:`5`,y1:`12`,x2:`19`,y2:`12`})]})}),(0,U.jsxs)(`div`,{className:`resume-card__info`,children:[(0,U.jsx)(`h3`,{className:`resume-card__name`,children:`Добавить резюме`}),(0,U.jsx)(`p`,{className:`resume-card__profession`,children:`Создать новое портфолио`})]}),(0,U.jsx)(`div`,{className:`resume-card__overlay`,children:(0,U.jsx)(`span`,{className:`resume-card__select-text`,children:`Создать`})})]})]}),(0,U.jsx)(`div`,{className:`resume-selection__actions`,children:(0,U.jsx)(`button`,{className:`login-button`,onClick:i,title:`Войти в админ-панель`,children:(0,U.jsxs)(`svg`,{className:`login-icon`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`path`,{d:`M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2`}),(0,U.jsx)(`circle`,{cx:`12`,cy:`7`,r:`4`})]})})})]}),j.loginModalOpen&&(0,U.jsx)(`div`,{className:`login-modal-overlay`,onClick:j.closeLoginModal,children:(0,U.jsxs)(`div`,{className:`login-modal`,onClick:e=>e.stopPropagation(),children:[(0,U.jsxs)(`div`,{className:`login-modal__header`,children:[(0,U.jsx)(`h2`,{children:`Вход в админ-панель`}),(0,U.jsx)(`button`,{className:`login-modal__close`,onClick:j.closeLoginModal,children:`×`})]}),(0,U.jsxs)(`form`,{className:`login-modal__form`,onSubmit:e=>{e.preventDefault();let t=new FormData(e.currentTarget),r=t.get(`username`),i=t.get(`password`);r===`admin`&&typeof n==`string`&&n!==``&&i===n?(j.login(`admin`),alert(`Успешный вход в админ-панель!`)):alert(`Неверный логин или пароль`)},children:[(0,U.jsxs)(`div`,{className:`login-modal__field`,children:[(0,U.jsx)(`label`,{htmlFor:`username`,children:`Логин`}),(0,U.jsx)(`input`,{type:`text`,id:`username`,name:`username`,defaultValue:`admin`,required:!0})]}),(0,U.jsxs)(`div`,{className:`login-modal__field`,children:[(0,U.jsx)(`label`,{htmlFor:`password`,children:`Пароль`}),(0,U.jsx)(`input`,{type:`password`,id:`password`,name:`password`,required:!0})]}),(0,U.jsx)(`button`,{type:`submit`,className:`login-modal__submit`,children:`Войти`})]})]})})]})}),W=f(({value:e,onSave:t,type:n=`input`,placeholder:r=``,className:i=``,multiline:a=!1,rows:o=3})=>{let[s,c]=(0,k.useState)(!1),[l,u]=(0,k.useState)(e),d=(0,k.useRef)(null),f=(0,k.useRef)(r);(0,k.useEffect)(()=>{r===``&&j.isAdmin()&&(f.current=`Введите текст...`)},[r]),(0,k.useEffect)(()=>{u(e)},[e]),(0,k.useEffect)(()=>{s&&d.current&&(d.current.focus(),d.current instanceof HTMLInputElement&&d.current.type===`text`&&d.current.select())},[s]);let p=e=>{e?.preventDefault(),e?.stopPropagation(),j.isAdmin()&&c(!0)},m=e=>{e?.preventDefault(),e?.stopPropagation(),t(l),c(!1)},h=t=>{t?.preventDefault(),t?.stopPropagation(),u(e),c(!1)},g=e=>{e.key===`Enter`&&!a?m():e.key===`Escape`&&h()};return j.isAdmin()?(0,U.jsx)(`div`,{className:`editable-field ${i} ${s?`editable-field--editing`:``}`,children:s?(0,U.jsxs)(`div`,{className:`editable-field__edit-container`,children:[n===`textarea`||a?(0,U.jsx)(`textarea`,{ref:d,value:l,onChange:e=>u(e.target.value),onKeyDown:g,onClick:e=>{e.preventDefault(),e.stopPropagation()},placeholder:f.current,rows:o,className:`editable-field__textarea`}):(0,U.jsx)(`input`,{ref:d,type:`text`,value:l,onChange:e=>u(e.target.value),onKeyDown:g,onClick:e=>{e.preventDefault(),e.stopPropagation()},placeholder:f.current,className:`editable-field__input`}),(0,U.jsxs)(`div`,{className:`editable-field__actions`,children:[(0,U.jsx)(`button`,{onClick:m,className:`editable-field__save-btn`,title:`Сохранить`,children:(0,U.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,U.jsx)(`polyline`,{points:`20,6 9,17 4,12`})})}),(0,U.jsx)(`button`,{onClick:h,className:`editable-field__cancel-btn`,title:`Отменить`,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,U.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})})]})]}):(0,U.jsxs)(`div`,{className:`editable-field__display`,onClick:p,children:[(0,U.jsx)(`span`,{className:`editable-field__value ${n===`textarea`||a?`editable-field__value--textarea`:``}`,children:e||(0,U.jsx)(`span`,{className:`editable-field__placeholder`,children:f.current})}),(0,U.jsx)(`button`,{className:`editable-field__edit-btn`,title:`Редактировать`,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`path`,{d:`M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7`}),(0,U.jsx)(`path`,{d:`M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z`})]})})]})}):(0,U.jsx)(`div`,{className:`editable-field ${i}`,children:(0,U.jsx)(`span`,{className:`editable-field__value`,children:e||f.current})})}),G=f(({onAdd:e,placeholder:t=`Введите значение...`,className:n=``,type:r=`input`,maxLength:i=50})=>{let[a,o]=(0,k.useState)(!1),[s,c]=(0,k.useState)(``),l=e=>{e?.preventDefault(),e?.stopPropagation(),j.isAdmin()&&o(!0)},u=t=>{t?.preventDefault(),t?.stopPropagation(),s.trim()&&(e(s.trim()),c(``),o(!1))},d=e=>{e?.preventDefault(),e?.stopPropagation(),c(``),o(!1)},f=e=>{e.key===`Enter`&&!e.shiftKey?u():e.key===`Escape`&&d()};return j.isAdmin()?(0,U.jsx)(`div`,{className:`add-button ${n}`,children:a?(0,U.jsxs)(`div`,{className:`add-button__input-container`,children:[r===`textarea`?(0,U.jsx)(`textarea`,{value:s,onChange:e=>c(e.target.value),onKeyDown:f,onClick:e=>{e.preventDefault(),e.stopPropagation()},placeholder:t,maxLength:i,className:`add-button__textarea`,rows:2,autoFocus:!0}):(0,U.jsx)(`input`,{type:`text`,value:s,onChange:e=>c(e.target.value),onKeyDown:f,onClick:e=>{e.preventDefault(),e.stopPropagation()},placeholder:t,maxLength:i,className:`add-button__input`,autoFocus:!0}),(0,U.jsxs)(`div`,{className:`add-button__actions`,children:[(0,U.jsx)(`button`,{onClick:u,className:`add-button__add-btn`,title:`Добавить`,disabled:!s.trim(),children:(0,U.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,U.jsx)(`polyline`,{points:`20,6 9,17 4,12`})})}),(0,U.jsx)(`button`,{onClick:d,className:`add-button__cancel-btn`,title:`Отменить`,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,U.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})})]})]}):(0,U.jsx)(`button`,{className:`add-button__trigger`,onClick:l,title:`Добавить новый элемент`,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`line`,{x1:`12`,y1:`5`,x2:`12`,y2:`19`}),(0,U.jsx)(`line`,{x1:`5`,y1:`12`,x2:`19`,y2:`12`})]})})}):null}),K=({onClick:e,className:t=``,title:n=`Удалить`,disabled:r=!1})=>(0,U.jsx)(`button`,{className:`remove-btn ${t}`,onClick:e,disabled:r,title:n,type:`button`,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`polyline`,{points:`3,6 5,6 21,6`}),(0,U.jsx)(`path`,{d:`M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2`}),(0,U.jsx)(`line`,{x1:`10`,y1:`11`,x2:`10`,y2:`17`}),(0,U.jsx)(`line`,{x1:`14`,y1:`11`,x2:`14`,y2:`17`})]})}),q=f(({onFileSelect:e,currentValue:t,accept:n=`image/*`,maxSize:r=5,className:i=``,label:a=`Выберите файл`})=>{let o=(0,k.useRef)(null),[s,c]=(0,k.useState)(!1),[l,u]=(0,k.useState)(null);return j.isAdmin()?(0,U.jsxs)(`div`,{className:`file-upload ${i}`,children:[(0,U.jsx)(`div`,{className:`file-upload__preview`,children:t?(0,U.jsx)(`img`,{src:t,alt:`Preview`,className:`file-upload__image`}):(0,U.jsxs)(`div`,{className:`file-upload__placeholder`,children:[(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`,ry:`2`}),(0,U.jsx)(`circle`,{cx:`8.5`,cy:`8.5`,r:`1.5`}),(0,U.jsx)(`polyline`,{points:`21,15 16,10 5,21`})]}),(0,U.jsx)(`span`,{children:`Нет изображения`})]})}),(0,U.jsxs)(`div`,{className:`file-upload__controls`,children:[(0,U.jsx)(`input`,{ref:o,type:`file`,accept:n,onChange:t=>{let n=t.target.files?.[0];if(!n)return;if(n.size>r*1024*1024){u(`Файл слишком большой. Максимальный размер: ${r}MB`);return}u(null),c(!0);let i=new FileReader;i.onload=t=>{let r=t.target?.result;e(r,n.name),c(!1)},i.onerror=()=>{u(`Ошибка при чтении файла`),c(!1)},i.readAsDataURL(n)},className:`file-upload__input`,disabled:s}),(0,U.jsx)(`button`,{type:`button`,className:`file-upload__button`,onClick:()=>{j.isAdmin()&&o.current?.click()},disabled:s,children:s?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(`div`,{className:`file-upload__spinner`}),`Загрузка...`]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`}),(0,U.jsx)(`polyline`,{points:`7,10 12,15 17,10`}),(0,U.jsx)(`line`,{x1:`12`,y1:`15`,x2:`12`,y2:`3`})]}),a]})}),t&&(0,U.jsx)(`button`,{type:`button`,className:`file-upload__remove`,onClick:()=>e(``,``),title:`Удалить изображение`,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`polyline`,{points:`3,6 5,6 21,6`}),(0,U.jsx)(`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`}),(0,U.jsx)(`line`,{x1:`10`,y1:`11`,x2:`10`,y2:`17`}),(0,U.jsx)(`line`,{x1:`14`,y1:`11`,x2:`14`,y2:`17`})]})}),l&&(0,U.jsx)(`div`,{className:`file-upload__error`,children:l})]})]}):(0,U.jsx)(`div`,{className:`file-upload ${i}`,children:(0,U.jsx)(`div`,{className:`file-upload__preview`,children:t?(0,U.jsx)(`img`,{src:t,alt:`Preview`,className:`file-upload__image`}):(0,U.jsxs)(`div`,{className:`file-upload__placeholder`,children:[(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`,ry:`2`}),(0,U.jsx)(`circle`,{cx:`8.5`,cy:`8.5`,r:`1.5`}),(0,U.jsx)(`polyline`,{points:`21,15 16,10 5,21`})]}),(0,U.jsx)(`span`,{children:`Нет изображения`})]})})})}),J=({checked:e=!1,onChange:t,label:n,disabled:r=!1,className:i=``,id:a})=>(0,U.jsxs)(`label`,{className:`checkbox ${i} ${r?`checkbox--disabled`:``}`,htmlFor:a,children:[(0,U.jsx)(`input`,{type:`checkbox`,checked:e,onChange:e=>{t&&t(e.target.checked)},disabled:r,id:a,className:`checkbox__input`}),(0,U.jsx)(`span`,{className:`checkbox__checkmark`}),n&&(0,U.jsx)(`span`,{className:`checkbox__label`,children:n})]}),Y=({value:e,onChange:t,options:n,placeholder:r=`Выберите опцию`,disabled:i=!1,className:a=``,id:o})=>{let[s,c]=(0,k.useState)(!1),[l,u]=(0,k.useState)(``),d=(0,k.useRef)(null);(0,k.useEffect)(()=>{if(e==null||e===``)u(``);else{let t=n.find(t=>t.value===e);u(t?.label||``)}},[e,n]),(0,k.useEffect)(()=>{let e=e=>{d.current&&!d.current.contains(e.target)&&c(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},[]);let f=e=>{t&&t(e),c(!1)};return(0,U.jsxs)(`div`,{className:`select ${a} ${i?`select--disabled`:``}`,ref:d,children:[(0,U.jsxs)(`div`,{className:`select__trigger ${s?`select__trigger--open`:``}`,onClick:()=>{i||c(!s)},id:o,children:[(0,U.jsx)(`span`,{className:`select__value ${l?``:`select__value--placeholder`}`,children:l||r}),(0,U.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,className:`select__arrow ${s?`select__arrow--rotated`:``}`,children:(0,U.jsx)(`polyline`,{points:`6,9 12,15 18,9`})})]}),s&&(0,U.jsx)(`div`,{className:`select__dropdown`,children:n.map(t=>(0,U.jsxs)(`div`,{className:`select__option ${t.disabled?`select__option--disabled`:``} ${t.value===e||t.value===``&&e===null?`select__option--selected`:``}`,onClick:()=>!t.disabled&&f(t.value===``?null:t.value),children:[t.label,(t.value===e||t.value===``&&e===null)&&(0,U.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,className:`select__check`,children:(0,U.jsx)(`polyline`,{points:`20,6 9,17 4,12`})})]},t.value))})]})},ce=({isOpen:e,onClose:t,onConfirm:n,title:r,children:i,confirmText:a=`Подтвердить`,cancelText:o=`Отмена`,type:s=`default`})=>((0,k.useEffect)(()=>{let n=e=>{e.key===`Escape`&&t()};return e&&(document.addEventListener(`keydown`,n),document.body.style.overflow=`hidden`),()=>{document.removeEventListener(`keydown`,n),document.body.style.overflow=`unset`}},[e,t]),e?(0,U.jsx)(`div`,{className:`modal-backdrop`,onClick:e=>{e.target===e.currentTarget&&t()},children:(0,U.jsxs)(`div`,{className:`modal`,children:[(0,U.jsxs)(`div`,{className:`modal__header`,children:[(0,U.jsx)(`h2`,{className:`modal__title`,children:r}),(0,U.jsx)(`button`,{className:`modal__close`,onClick:t,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,U.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})})]}),(0,U.jsx)(`div`,{className:`modal__body`,children:i}),(0,U.jsxs)(`div`,{className:`modal__footer`,children:[(0,U.jsx)(`button`,{className:`modal__btn modal__btn--cancel`,onClick:t,children:o}),n&&(0,U.jsx)(`button`,{className:`modal__btn modal__btn--confirm ${s===`danger`?`modal__btn--danger`:``}`,onClick:n,children:a})]})]})}):null),X=({title:e,isVisible:t,onToggle:n})=>(0,U.jsxs)(`div`,{className:`section-header`,children:[(0,U.jsx)(`h2`,{children:e}),(0,U.jsx)(`button`,{className:`section-toggle`,onClick:n,title:t?`Скрыть`:`Показать`,children:(0,U.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,className:`section-toggle__icon ${t?`section-toggle__icon--expanded`:``}`,children:(0,U.jsx)(`path`,{d:`M19 9l-7 7-7-7`})})})]}),Z=({title:e,isVisible:t,onToggle:n})=>(0,U.jsxs)(`div`,{className:`project-subsection-header`,children:[(0,U.jsx)(`h3`,{children:e}),(0,U.jsx)(`button`,{className:`project-subsection-toggle`,onClick:n,title:t?`Скрыть`:`Показать`,children:(0,U.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,className:`project-subsection-toggle__icon ${t?`project-subsection-toggle__icon--expanded`:``}`,children:(0,U.jsx)(`path`,{d:`M19 9l-7 7-7-7`})})})]}),le=f(()=>{let e=t(),{resumeId:n}=u(),[r,i]=(0,k.useState)(null),[a,o]=(0,k.useState)(!0),[s,c]=(0,k.useState)(!1),[l,d]=(0,k.useState)(!1),[f,p]=(0,k.useState)({skills:!1,experience:!1,recommendations:!1,education:!1,courses:!1,certifications:!1,tests:!1,languages:!1,projects:!1}),[m,g]=(0,k.useState)({petProjects:!1,personalProjects:!1,commercialProjects:!1}),_=()=>r?!!(r.name?.trim()&&r.profession?.trim()&&r.phone?.trim()&&r.contactInfo?.phone?.trim()):!1,v=e=>{if(!r)return!1;let t=r[e];return typeof t==`string`?!t.trim():!t},y=()=>!r||!r.contactInfo?!0:!r.contactInfo.phone?.trim(),b=n===`new`,x=e=>{p(t=>({...t,[e]:!t[e]}))},S=e=>{g(t=>({...t,[e]:!t[e]}))};return(0,k.useEffect)(()=>{if(!j.isAdmin()){e(`/`);return}if(b){let e=F();i(e),o(!1)}else H.loadResume(n).then(()=>{H.currentResume?i(H.currentResume):e(`/`),o(!1)})},[n,b,e]),a?(0,U.jsx)(`div`,{className:`resume-edit`,children:(0,U.jsxs)(`div`,{className:`loading`,children:[(0,U.jsx)(`div`,{className:`spinner`}),(0,U.jsx)(`p`,{children:`Загрузка данных резюме...`})]})}):r?(0,U.jsxs)(`div`,{className:`resume-edit`,children:[(0,U.jsx)(`nav`,{className:`resume-edit__nav`,children:(0,U.jsxs)(`div`,{className:`nav-container`,children:[(0,U.jsxs)(`button`,{className:`nav__back`,onClick:()=>e(`/`),children:[(0,U.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,U.jsx)(`path`,{d:`M19 12H5M12 19l-7-7 7-7`})}),`Назад`]}),(0,U.jsx)(`h1`,{className:`nav__title`,children:b?`Создание нового резюме`:`Редактирование: ${r.profession}`}),(0,U.jsxs)(`div`,{className:`nav__actions`,children:[!b&&(0,U.jsxs)(`button`,{className:`nav__delete`,onClick:()=>d(!0),disabled:s,title:`Удалить резюме`,children:[(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`polyline`,{points:`3,6 5,6 21,6`}),(0,U.jsx)(`path`,{d:`M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2`}),(0,U.jsx)(`line`,{x1:`10`,y1:`11`,x2:`10`,y2:`17`}),(0,U.jsx)(`line`,{x1:`14`,y1:`11`,x2:`14`,y2:`17`})]}),`Удалить`]}),(0,U.jsx)(`button`,{className:`nav__save`,onClick:async()=>{if(r){c(!0);try{if(b){let e=`resume_${h()}`,t={...r,id:e};await H.loadResumeList();let n={name:t.name,profession:t.profession,avatar:t.avatar};await H.setData(`/resume-list/${e}`,n);let i={...t,petProjects:[],personalProjects:[],commercialProjects:[]};await H.setData(`/resumes/${e}`,i);for(let n of t.petProjects)await H.setData(`/resumes/${e}/petProjects/${n.id}`,n);for(let n of t.personalProjects)await H.setData(`/resumes/${e}/personalProjects/${n.id}`,n);for(let n of t.commercialProjects)await H.setData(`/resumes/${e}/commercialProjects/${n.id}`,n)}else{let e={...r,petProjects:[],personalProjects:[],commercialProjects:[]};await H.setData(`/resumes/${r.id}`,e);let t={name:r.name,profession:r.profession,avatar:r.avatar};await H.setData(`/resume-list/${r.id}`,t);for(let e of r.petProjects)await H.setData(`/resumes/${r.id}/petProjects/${e.id}`,e);for(let e of r.personalProjects)await H.setData(`/resumes/${r.id}/personalProjects/${e.id}`,e);for(let e of r.commercialProjects)await H.setData(`/resumes/${r.id}/commercialProjects/${e.id}`,e)}e(`/`)}catch(e){console.error(`Ошибка сохранения резюме:`,e),alert(`Ошибка при сохранении резюме`)}finally{c(!1)}}},disabled:s||!_(),title:_()?``:`Заполните обязательные поля`,children:s?`Сохранение...`:`Сохранить`})]})]})}),(0,U.jsx)(`main`,{className:`resume-edit__content`,children:(0,U.jsxs)(`div`,{className:`container`,children:[(0,U.jsxs)(`section`,{className:`section`,children:[(0,U.jsx)(`h2`,{children:`Базовая информация`}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group ${v(`name`)?`form-group--required`:``}`,children:[(0,U.jsx)(`label`,{className:`form-group__label`,children:`Имя`}),(0,U.jsx)(W,{value:r.name,onSave:e=>i({...r,name:e}),placeholder:`Введите имя`})]}),(0,U.jsxs)(`div`,{className:`form-group ${v(`profession`)?`form-group--required`:``}`,children:[(0,U.jsx)(`label`,{className:`form-group__label`,children:`Профессия`}),(0,U.jsx)(W,{value:r.profession,onSave:e=>i({...r,profession:e}),placeholder:`Frontend Developer`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Email`}),(0,U.jsx)(W,{value:r.email,onSave:e=>i({...r,email:e}),placeholder:`email@example.com`})]}),(0,U.jsxs)(`div`,{className:`form-group ${v(`phone`)?`form-group--required`:``}`,children:[(0,U.jsx)(`label`,{className:`form-group__label`,children:`Телефон`}),(0,U.jsx)(W,{value:r.phone,onSave:e=>i({...r,phone:e}),placeholder:`+7 (999) 123-45-67`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Расположение`}),(0,U.jsx)(W,{value:r.location,onSave:e=>i({...r,location:e}),placeholder:`Москва, Россия`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Аватар`}),(0,U.jsx)(q,{currentValue:r.avatar,onFileSelect:e=>i({...r,avatar:e||`data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBmaWxsPSIjMzMzIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iMzgiIHI9IjEyIiBmaWxsPSIjZmZmIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNjIiIHI9IjE4IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPg==`}),accept:`image/*`,label:`Выберите аватар`})]})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Биография`}),(0,U.jsx)(W,{value:r.bio,onSave:e=>i({...r,bio:e}),type:`textarea`,multiline:!0,rows:4,placeholder:`Краткое описание опыта и специализации`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Лозунг резюме`}),(0,U.jsx)(W,{value:r.slogan||``,onSave:e=>i({...r,slogan:e}),placeholder:`Всегда открыт для амбициозных вызовов`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Специализация`}),(0,U.jsx)(W,{value:r.specialization||``,onSave:e=>i({...r,specialization:e}),placeholder:`Информационные системы и программирование`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Грейд`}),(0,U.jsx)(Y,{value:r.grade??``,onChange:e=>i({...r,grade:e}),options:[{value:``,label:`Выберите грейд`},{value:`Junior`,label:`Junior`},{value:`Middle`,label:`Middle`},{value:`Senior`,label:`Senior`}],placeholder:`Выберите грейд`})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Желаемая зарплата (в месяц)`}),(0,U.jsx)(W,{value:r.desiredSalary?.toString()||``,onSave:e=>i({...r,desiredSalary:e?parseInt(e):null}),placeholder:`100000`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Текущая зарплата (в месяц)`}),(0,U.jsx)(W,{value:r.currentSalary?.toString()||``,onSave:e=>i({...r,currentSalary:e?parseInt(e):null}),placeholder:`80000`})]})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Тип занятости`}),(0,U.jsx)(`div`,{className:`checkbox-group`,children:[`Постоянная работа`,`Подработка`,`Стажировка`,`Волонтёрство`].map(e=>(0,U.jsx)(J,{label:e,checked:r.employmentType?.includes(e)||!1,onChange:t=>{let n=r.employmentType||[];i(t?{...r,employmentType:[...n,e]}:{...r,employmentType:n.filter(t=>t!==e)})}},e))})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Командировки`}),(0,U.jsx)(Y,{value:r.businessTrips??``,onChange:e=>i({...r,businessTrips:e}),options:[{value:``,label:`Выберите готовность к командировкам`},{value:`Не могу`,label:`Не могу`},{value:`Могу`,label:`Могу`},{value:`Могу иногда`,label:`Могу иногда`}],placeholder:`Выберите готовность к командировкам`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Дата рождения`}),(0,U.jsxs)(`div`,{className:`birth-date-container`,children:[(0,U.jsx)(W,{value:V(r.birthDate||``,`full`),onSave:e=>i({...r,birthDate:B(e)}),placeholder:`23.01.1993`}),r.birthDate&&(0,U.jsxs)(`span`,{className:`age-display`,children:[`(`,ie(I(r.birthDate)),`)`]})]})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Регионы поиска работы`}),(0,U.jsxs)(`div`,{className:`regions-list`,children:[(r.jobSearchRegions||[]).map((e,t)=>(0,U.jsxs)(`div`,{className:`region-item`,children:[(0,U.jsx)(W,{value:e,onSave:e=>{let n=[...r.jobSearchRegions||[]];n[t]=e,i({...r,jobSearchRegions:n})},className:`region-tag`}),(0,U.jsx)(K,{onClick:()=>{let e=(r.jobSearchRegions||[]).filter((e,n)=>n!==t);i({...r,jobSearchRegions:e})},className:`region-remove-btn`,title:`Удалить регион`})]},t)),(0,U.jsx)(G,{onAdd:e=>{i({...r,jobSearchRegions:[...r.jobSearchRegions||[],e]})},placeholder:`Новый регион`,className:`regions-add-btn`})]})]})]}),(0,U.jsxs)(`section`,{className:`section`,children:[(0,U.jsx)(X,{title:`Навыки`,isVisible:f.skills,onToggle:()=>x(`skills`)}),f.skills&&(0,U.jsxs)(`div`,{className:`skills-list`,children:[(r.skills||[]).map((e,t)=>(0,U.jsxs)(`div`,{className:`skill-item`,children:[(0,U.jsx)(W,{value:e,onSave:e=>{let n=[...r.skills];n[t]=e,i({...r,skills:n})},className:`skill-tag`}),(0,U.jsx)(K,{onClick:()=>{let e=r.skills.filter((e,n)=>n!==t);i({...r,skills:e})},className:`skill-remove-btn`,title:`Удалить навык`})]},t)),(0,U.jsx)(G,{onAdd:e=>{i({...r,skills:[...r.skills,e]})},placeholder:`Новый навык`,className:`skills-add-btn`})]})]}),(0,U.jsxs)(`section`,{className:`section`,children:[(0,U.jsx)(X,{title:`Опыт работы`,isVisible:f.experience,onToggle:()=>x(`experience`)}),f.experience&&(0,U.jsxs)(`div`,{className:`experience-list`,children:[(r.experience||[]).map((e,t)=>(0,U.jsxs)(`div`,{className:`experience-item`,children:[(0,U.jsxs)(`div`,{className:`item-header`,children:[(0,U.jsxs)(`h4`,{children:[`Опыт работы #`,t+1]}),(0,U.jsx)(K,{onClick:()=>{let e=r.experience.filter((e,n)=>n!==t);i({...r,experience:e})},className:`item-remove-btn`,title:`Удалить опыт работы`})]}),(0,U.jsxs)(`div`,{className:`experience-header`,children:[(0,U.jsx)(W,{value:e.company,onSave:n=>{let a=[...r.experience];a[t]={...e,company:n},i({...r,experience:a})},className:`experience-company`}),(0,U.jsx)(W,{value:e.position,onSave:n=>{let a=[...r.experience];a[t]={...e,position:n},i({...r,experience:a})},className:`experience-position`})]}),(0,U.jsxs)(`div`,{className:`experience-dates`,children:[(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Дата начала`}),(0,U.jsx)(W,{value:V(e.startDate,`month`)||``,onSave:n=>{let a=[...r.experience];a[t]={...e,startDate:B(n)},i({...r,experience:a})},placeholder:`01.2020`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Дата окончания`}),e.isCurrentJob?(0,U.jsx)(`div`,{className:`readonly-field`,children:`Работаю сейчас`}):(0,U.jsx)(W,{value:V(e.endDate||``,`month`)||``,onSave:n=>{let a=[...r.experience];a[t]={...e,endDate:B(n)},i({...r,experience:a})},placeholder:`12.2023`})]})]}),(0,U.jsx)(J,{label:`Работаю сейчас`,checked:e.isCurrentJob||!1,onChange:n=>{let a=[...r.experience];a[t]={...e,isCurrentJob:n,endDate:n?null:e.endDate},i({...r,experience:a})}})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Зарплата на этом месте (в месяц)`}),(0,U.jsx)(W,{value:e.salary?.toString()||``,onSave:n=>{let a=[...r.experience];a[t]={...e,salary:n?parseInt(n):null},i({...r,experience:a})},placeholder:`80000`})]}),(0,U.jsx)(W,{value:e.description,onSave:n=>{let a=[...r.experience];a[t]={...e,description:n},i({...r,experience:a})},type:`textarea`,multiline:!0,rows:2,className:`experience-description`,placeholder:`Обязанности и достижения`}),(0,U.jsxs)(`div`,{className:`experience-technologies`,children:[(e.technologies||[]).map((n,a)=>(0,U.jsxs)(`div`,{className:`tech-item`,children:[(0,U.jsx)(W,{value:n,onSave:n=>{let o=[...r.experience];o[t]={...e,technologies:(e.technologies||[]).map((e,t)=>t===a?n:e)},i({...r,experience:o})},className:`experience-tech`}),(0,U.jsx)(K,{onClick:()=>{let n=[...r.experience];n[t]={...e,technologies:e.technologies.filter((e,t)=>t!==a)},i({...r,experience:n})},className:`tech-remove-btn`,title:`Удалить технологию`})]},a)),(0,U.jsx)(G,{onAdd:n=>{let a=[...r.experience];a[t]={...e,technologies:[...e.technologies,n]},i({...r,experience:a})},placeholder:`Новая технология`,className:`experience-add-tech`})]})]},e.id)),(0,U.jsx)(G,{onAdd:e=>{let t={id:`exp_${h()}`,company:e,position:``,startDate:``,endDate:``,isCurrentJob:!1,description:``,technologies:[],salary:null};i({...r,experience:[...r.experience,t]})},placeholder:`Название компании`,className:`experience-add-btn`})]})]}),(0,U.jsxs)(`section`,{className:`section`,children:[(0,U.jsx)(`h2`,{children:`Общий опыт работы`}),(0,U.jsxs)(`div`,{className:`total-experience`,children:[(0,U.jsx)(`div`,{className:`total-experience__display`,children:te(ee(r.experience))}),(0,U.jsx)(`div`,{className:`total-experience__note`,children:`* рассчитывается автоматически на основе опыта работы`})]})]}),(0,U.jsxs)(`section`,{className:`section`,children:[(0,U.jsx)(X,{title:`Рекомендации`,isVisible:f.recommendations,onToggle:()=>x(`recommendations`)}),f.recommendations&&(0,U.jsxs)(`div`,{className:`recommendations-list`,children:[(r.recommendations||[]).map((e,t)=>(0,U.jsxs)(`div`,{className:`recommendation-item`,children:[(0,U.jsxs)(`div`,{className:`item-header`,children:[(0,U.jsxs)(`h4`,{children:[`Рекомендация #`,t+1]}),(0,U.jsx)(K,{onClick:()=>{let e=r.recommendations.filter((e,n)=>n!==t);i({...r,recommendations:e})},className:`item-remove-btn`,title:`Удалить рекомендацию`})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Имя`}),(0,U.jsx)(W,{value:e.name,onSave:n=>{let a=[...r.recommendations];a[t]={...e,name:n},i({...r,recommendations:a})},placeholder:`Имя рекомендателя`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Должность`}),(0,U.jsx)(W,{value:e.position,onSave:n=>{let a=[...r.recommendations];a[t]={...e,position:n},i({...r,recommendations:a})},placeholder:`Должность рекомендателя`})]})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Организация`}),(0,U.jsx)(W,{value:e.organization,onSave:n=>{let a=[...r.recommendations];a[t]={...e,organization:n},i({...r,recommendations:a})},placeholder:`Название компании`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Аватар`}),(0,U.jsx)(q,{currentValue:e.avatar,onFileSelect:n=>{let a=[...r.recommendations];a[t]={...e,avatar:n||`data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBmaWxsPSIjMzMzIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iMzgiIHI9IjEyIiBmaWxsPSIjZmZmIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNjIiIHI9IjE4IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPg==`},i({...r,recommendations:a})},accept:`image/*`,label:`Выберите аватар рекомендателя`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Telegram URL`}),(0,U.jsx)(W,{value:e.telegramUrl,onSave:n=>{let a=[...r.recommendations];a[t]={...e,telegramUrl:n},i({...r,recommendations:a})},placeholder:`https://t.me/username`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Текст рекомендации`}),(0,U.jsx)(W,{value:e.message,onSave:n=>{let a=[...r.recommendations];a[t]={...e,message:n},i({...r,recommendations:a})},type:`textarea`,multiline:!0,rows:4,placeholder:`Текст рекомендации`})]})]},e.id)),(0,U.jsx)(G,{onAdd:e=>{let t={id:`rec_${h()}`,name:e,position:``,organization:``,avatar:`data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBmaWxsPSIjMzMzIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iMzgiIHI9IjEyIiBmaWxsPSIjZmZmIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNjIiIHI9IjE4IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPg==`,telegramUrl:``,message:``};i({...r,recommendations:[...r.recommendations,t]})},placeholder:`Имя рекомендателя`,className:`recommendations-add-btn`})]})]}),(0,U.jsxs)(`section`,{className:`section`,children:[(0,U.jsx)(X,{title:`Образование`,isVisible:f.education,onToggle:()=>x(`education`)}),f.education&&(0,U.jsxs)(`div`,{className:`education-list`,children:[(r.education||[]).map((e,t)=>(0,U.jsxs)(`div`,{className:`education-item`,children:[(0,U.jsxs)(`div`,{className:`item-header`,children:[(0,U.jsxs)(`h4`,{children:[`Образование #`,t+1]}),(0,U.jsx)(K,{onClick:()=>{let e=r.education.filter((e,n)=>n!==t);i({...r,education:e})},className:`item-remove-btn`,title:`Удалить образование`})]}),(0,U.jsxs)(`div`,{className:`education-header`,children:[(0,U.jsx)(W,{value:e.institution,onSave:n=>{let a=[...r.education];a[t]={...e,institution:n},i({...r,education:a})},className:`education-institution`}),(0,U.jsx)(W,{value:e.graduationYear?.toString()||``,onSave:n=>{let a=[...r.education];a[t]={...e,graduationYear:n?parseInt(n):null},i({...r,education:a})},className:`education-year`,placeholder:`2020`})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Факультет`}),(0,U.jsx)(W,{value:e.faculty||``,onSave:n=>{let a=[...r.education];a[t]={...e,faculty:n},i({...r,education:a})},placeholder:`Факультет информатики`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Специализация`}),(0,U.jsx)(W,{value:e.specialization,onSave:n=>{let a=[...r.education];a[t]={...e,specialization:n},i({...r,education:a})},placeholder:`Программная инженерия`})]})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Уровень образования`}),(0,U.jsx)(Y,{value:e.degree,onChange:n=>{let a=[...r.education];a[t]={...e,degree:n},i({...r,education:a})},options:[{value:``,label:`Выберите уровень образования`},{value:`Среднее`,label:`Среднее`},{value:`Среднее специальное`,label:`Среднее специальное`},{value:`Неоконченное высшее`,label:`Неоконченное высшее`},{value:`Высшее`,label:`Высшее`},{value:`Бакалавр`,label:`Бакалавр`},{value:`Магистр`,label:`Магистр`},{value:`Кандидат наук`,label:`Кандидат наук`},{value:`Доктор наук`,label:`Доктор наук`}],placeholder:`Выберите уровень образования`})]}),(0,U.jsx)(W,{value:e.description||``,onSave:n=>{let a=[...r.education];a[t]={...e,description:n},i({...r,education:a})},type:`textarea`,multiline:!0,rows:2,className:`education-description`,placeholder:`Дополнительная информация`})]},e.id)),(0,U.jsx)(G,{onAdd:e=>{let t={id:`edu_${h()}`,institution:e,faculty:``,degree:`Высшее`,specialization:``,graduationYear:null,description:``};i({...r,education:[...r.education,t]})},placeholder:`Название учебного заведения`,className:`education-add-btn`})]})]}),(0,U.jsxs)(`section`,{className:`section`,children:[(0,U.jsx)(X,{title:`Курсы`,isVisible:f.courses,onToggle:()=>x(`courses`)}),f.courses&&(0,U.jsxs)(`div`,{className:`courses-list`,children:[r.courses?.map((e,t)=>(0,U.jsxs)(`div`,{className:`course-item`,children:[(0,U.jsxs)(`div`,{className:`item-header`,children:[(0,U.jsxs)(`h4`,{children:[`Курс #`,t+1]}),(0,U.jsx)(K,{onClick:()=>{let e=(r.courses||[]).filter((e,n)=>n!==t);i({...r,courses:e})},className:`item-remove-btn`,title:`Удалить курс`})]}),(0,U.jsxs)(`div`,{className:`course-header`,children:[(0,U.jsx)(W,{value:e.name,onSave:n=>{let a=[...r.courses||[]];a[t]={...e,name:n},i({...r,courses:a})},className:`course-name`}),(0,U.jsx)(W,{value:e.completionYear?.toString()||``,onSave:n=>{let a=[...r.courses||[]];a[t]={...e,completionYear:n?parseInt(n):null},i({...r,courses:a})},className:`course-year`,placeholder:`2023`})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Организация`}),(0,U.jsx)(W,{value:e.organization,onSave:n=>{let a=[...r.courses||[]];a[t]={...e,organization:n},i({...r,courses:a})},placeholder:`Название организации`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Специализация`}),(0,U.jsx)(W,{value:e.specialization,onSave:n=>{let a=[...r.courses||[]];a[t]={...e,specialization:n},i({...r,courses:a})},placeholder:`React, Node.js и т.д.`})]})]})]},e.id))||[],(0,U.jsx)(G,{onAdd:e=>{let t={id:`course_${h()}`,name:e,organization:``,specialization:``,completionYear:null};i({...r,courses:[...r.courses||[],t]})},placeholder:`Название курса`,className:`courses-add-btn`})]})]}),(0,U.jsxs)(`section`,{className:`section`,children:[(0,U.jsx)(X,{title:`Проекты`,isVisible:f.projects,onToggle:()=>x(`projects`)}),f.projects&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(`div`,{className:`projects-section`,children:[(0,U.jsx)(Z,{title:`Пет-проекты`,isVisible:m.petProjects,onToggle:()=>S(`petProjects`)}),m.petProjects&&(0,U.jsxs)(`div`,{className:`projects-list`,children:[(r.petProjects||[]).map((e,t)=>(0,U.jsxs)(`div`,{className:`project-item`,children:[(0,U.jsxs)(`div`,{className:`project-header`,children:[(0,U.jsxs)(`div`,{className:`project-title-row`,children:[(0,U.jsx)(W,{value:e.title,onSave:n=>{let a=[...r.petProjects];a[t]={...e,title:n},i({...r,petProjects:a})},className:`project-title`}),(0,U.jsxs)(`div`,{className:`project-actions`,children:[(0,U.jsx)(J,{label:`Избранное`,checked:e.featured||!1,onChange:n=>{let a=[...r.petProjects];a[t]={...e,featured:n},i({...r,petProjects:a})}}),(0,U.jsx)(K,{onClick:()=>{let e=r.petProjects.filter((e,n)=>n!==t);i({...r,petProjects:e})},className:`project-delete`,title:`Удалить проект`})]})]}),(0,U.jsx)(`div`,{className:`project-category`,children:(0,U.jsx)(`span`,{className:`category-badge category-pet`,children:`Пет-проект`})})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Краткое описание`}),(0,U.jsx)(W,{value:e.description,onSave:n=>{let a=[...r.petProjects];a[t]={...e,description:n},i({...r,petProjects:a})},type:`textarea`,multiline:!0,rows:2,placeholder:`Краткое описание проекта`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Подробное описание`}),(0,U.jsx)(W,{value:e.longDescription,onSave:n=>{let a=[...r.petProjects];a[t]={...e,longDescription:n},i({...r,petProjects:a})},type:`textarea`,multiline:!0,rows:4,placeholder:`Подробное описание проекта, особенности реализации`})]})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Дата начала`}),(0,U.jsx)(W,{value:V(e.startDate,`month`)||``,onSave:n=>{let a=[...r.petProjects];a[t]={...e,startDate:B(n)},i({...r,petProjects:a})},placeholder:`01.2023`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Дата окончания`}),(0,U.jsx)(W,{value:V(e.endDate||``,`month`)||``,onSave:n=>{let a=[...r.petProjects];a[t]={...e,endDate:B(n)},i({...r,petProjects:a})},placeholder:`12.2023`})]})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`GitHub URL`}),(0,U.jsx)(W,{value:e.githubUrl||``,onSave:n=>{let a=[...r.petProjects];a[t]={...e,githubUrl:n},i({...r,petProjects:a})},placeholder:`https://github.com/username/project`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Website URL`}),(0,U.jsx)(W,{value:e.websiteUrl||``,onSave:n=>{let a=[...r.petProjects];a[t]={...e,websiteUrl:n},i({...r,petProjects:a})},placeholder:`https://project-demo.com`})]})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Статус`}),(0,U.jsx)(Y,{value:e.status,onChange:n=>{let a=[...r.petProjects];a[t]={...e,status:n},i({...r,petProjects:a})},options:[{value:`В разработке`,label:`В разработке`},{value:`Завершён`,label:`Завершён`},{value:`Заморожен`,label:`Заморожен`},{value:`Заброшен`,label:`Заброшен`},{value:`На доработке`,label:`На доработке`},{value:`В ожидании`,label:`В ожидании`}],placeholder:`Выберите статус проекта`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Технологии`}),(0,U.jsxs)(`div`,{className:`technologies-list`,children:[(e.technologies||[]).map((n,a)=>(0,U.jsxs)(`div`,{className:`tech-item`,children:[(0,U.jsx)(W,{value:n,onSave:n=>{let o=[...r.petProjects];o[t]={...e,technologies:(e.technologies||[]).map((e,t)=>t===a?n:e)},i({...r,petProjects:o})},className:`technology-tag`}),(0,U.jsx)(K,{onClick:()=>{let n=[...r.petProjects];n[t]={...e,technologies:e.technologies.filter((e,t)=>t!==a)},i({...r,petProjects:n})},className:`tech-remove-btn`,title:`Удалить технологию`})]},a)),(0,U.jsx)(G,{onAdd:n=>{let a=[...r.petProjects];a[t]={...e,technologies:[...e.technologies,n]},i({...r,petProjects:a})},placeholder:`Новая технология`,className:`technology-add-btn`})]})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Изображения`}),(0,U.jsxs)(`div`,{className:`images-upload`,children:[(e.images||[]).map((n,a)=>(0,U.jsxs)(`div`,{className:`image-item`,children:[(0,U.jsx)(`img`,{src:n,alt:`Project ${a+1}`,className:`project-image`}),(0,U.jsx)(`button`,{className:`image-delete`,onClick:()=>{let n=[...r.petProjects];n[t]={...e,images:e.images.filter((e,t)=>t!==a)},i({...r,petProjects:n})},title:`Удалить изображение`,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,U.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})})]},a)),(0,U.jsx)(q,{currentValue:``,onFileSelect:n=>{if(n){let a=[...r.petProjects];a[t]={...e,images:[...e.images,n]},i({...r,petProjects:a})}},accept:`image/*`,label:`Добавить изображение`,className:`image-upload-btn`})]})]})]},e.id)),(0,U.jsx)(G,{onAdd:e=>{let t={id:`pet_${h()}`,title:e,description:``,longDescription:``,technologies:[],status:`В разработке`,startDate:``,endDate:``,githubUrl:``,websiteUrl:``,images:[],featured:!1,category:`pet`};i({...r,petProjects:[...r.petProjects,t]})},placeholder:`Название пет-проекта`,className:`projects-add-btn`})]})]}),(0,U.jsxs)(`div`,{className:`projects-section`,children:[(0,U.jsx)(Z,{title:`Личные проекты`,isVisible:m.personalProjects,onToggle:()=>S(`personalProjects`)}),m.personalProjects&&(0,U.jsxs)(`div`,{className:`projects-list`,children:[(r.personalProjects||[]).map((e,t)=>(0,U.jsxs)(`div`,{className:`project-item`,children:[(0,U.jsxs)(`div`,{className:`project-header`,children:[(0,U.jsxs)(`div`,{className:`project-title-row`,children:[(0,U.jsx)(W,{value:e.title,onSave:n=>{let a=[...r.personalProjects];a[t]={...e,title:n},i({...r,personalProjects:a})},className:`project-title`}),(0,U.jsxs)(`div`,{className:`project-actions`,children:[(0,U.jsx)(J,{label:`Избранное`,checked:e.featured||!1,onChange:n=>{let a=[...r.personalProjects];a[t]={...e,featured:n},i({...r,personalProjects:a})}}),(0,U.jsx)(K,{onClick:()=>{let e=r.personalProjects.filter((e,n)=>n!==t);i({...r,personalProjects:e})},className:`project-delete`,title:`Удалить проект`})]})]}),(0,U.jsx)(`div`,{className:`project-category`,children:(0,U.jsx)(`span`,{className:`category-badge category-personal`,children:`Личный проект`})})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Краткое описание`}),(0,U.jsx)(W,{value:e.description,onSave:n=>{let a=[...r.personalProjects];a[t]={...e,description:n},i({...r,personalProjects:a})},type:`textarea`,multiline:!0,rows:2,placeholder:`Краткое описание проекта`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Подробное описание`}),(0,U.jsx)(W,{value:e.longDescription,onSave:n=>{let a=[...r.personalProjects];a[t]={...e,longDescription:n},i({...r,personalProjects:a})},type:`textarea`,multiline:!0,rows:4,placeholder:`Подробное описание проекта, особенности реализации`})]})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Дата начала`}),(0,U.jsx)(W,{value:V(e.startDate,`month`)||``,onSave:n=>{let a=[...r.personalProjects];a[t]={...e,startDate:B(n)},i({...r,personalProjects:a})},placeholder:`01.2023`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Дата окончания`}),(0,U.jsx)(W,{value:V(e.endDate||``,`month`)||``,onSave:n=>{let a=[...r.personalProjects];a[t]={...e,endDate:B(n)},i({...r,personalProjects:a})},placeholder:`12.2023`})]})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`GitHub URL`}),(0,U.jsx)(W,{value:e.githubUrl||``,onSave:n=>{let a=[...r.personalProjects];a[t]={...e,githubUrl:n},i({...r,personalProjects:a})},placeholder:`https://github.com/username/project`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Website URL`}),(0,U.jsx)(W,{value:e.websiteUrl||``,onSave:n=>{let a=[...r.personalProjects];a[t]={...e,websiteUrl:n},i({...r,personalProjects:a})},placeholder:`https://project-demo.com`})]})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Статус`}),(0,U.jsx)(Y,{value:e.status,onChange:n=>{let a=[...r.personalProjects];a[t]={...e,status:n},i({...r,personalProjects:a})},options:[{value:`В разработке`,label:`В разработке`},{value:`Завершён`,label:`Завершён`},{value:`Заморожен`,label:`Заморожен`},{value:`Заброшен`,label:`Заброшен`},{value:`На доработке`,label:`На доработке`},{value:`В ожидании`,label:`В ожидании`}],placeholder:`Выберите статус проекта`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Технологии`}),(0,U.jsxs)(`div`,{className:`technologies-list`,children:[(e.technologies||[]).map((n,a)=>(0,U.jsxs)(`div`,{className:`tech-item`,children:[(0,U.jsx)(W,{value:n,onSave:n=>{let o=[...r.personalProjects];o[t]={...e,technologies:(e.technologies||[]).map((e,t)=>t===a?n:e)},i({...r,personalProjects:o})},className:`technology-tag`}),(0,U.jsx)(K,{onClick:()=>{let n=[...r.personalProjects];n[t]={...e,technologies:e.technologies.filter((e,t)=>t!==a)},i({...r,personalProjects:n})},className:`tech-remove-btn`,title:`Удалить технологию`})]},a)),(0,U.jsx)(G,{onAdd:n=>{let a=[...r.personalProjects];a[t]={...e,technologies:[...e.technologies,n]},i({...r,personalProjects:a})},placeholder:`Новая технология`,className:`technology-add-btn`})]})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Изображения`}),(0,U.jsxs)(`div`,{className:`images-upload`,children:[(e.images||[]).map((n,a)=>(0,U.jsxs)(`div`,{className:`image-item`,children:[(0,U.jsx)(`img`,{src:n,alt:`Project ${a+1}`,className:`project-image`}),(0,U.jsx)(`button`,{className:`image-delete`,onClick:()=>{let n=[...r.personalProjects];n[t]={...e,images:e.images.filter((e,t)=>t!==a)},i({...r,personalProjects:n})},title:`Удалить изображение`,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,U.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})})]},a)),(0,U.jsx)(q,{currentValue:``,onFileSelect:n=>{if(n){let a=[...r.personalProjects];a[t]={...e,images:[...e.images,n]},i({...r,personalProjects:a})}},accept:`image/*`,label:`Добавить изображение`,className:`image-upload-btn`})]})]})]},e.id)),(0,U.jsx)(G,{onAdd:e=>{let t={id:`personal_${h()}`,title:e,description:``,longDescription:``,technologies:[],status:`В разработке`,startDate:``,endDate:``,githubUrl:``,websiteUrl:``,images:[],featured:!1,category:`personal`};i({...r,personalProjects:[...r.personalProjects,t]})},placeholder:`Название личного проекта`,className:`projects-add-btn`})]})]}),(0,U.jsxs)(`div`,{className:`projects-section`,children:[(0,U.jsx)(Z,{title:`Коммерческие проекты`,isVisible:m.commercialProjects,onToggle:()=>S(`commercialProjects`)}),m.commercialProjects&&(0,U.jsxs)(`div`,{className:`projects-list`,children:[(r.commercialProjects||[]).map((e,t)=>(0,U.jsxs)(`div`,{className:`project-item`,children:[(0,U.jsxs)(`div`,{className:`project-header`,children:[(0,U.jsxs)(`div`,{className:`project-title-row`,children:[(0,U.jsx)(W,{value:e.title,onSave:n=>{let a=[...r.commercialProjects];a[t]={...e,title:n},i({...r,commercialProjects:a})},className:`project-title`}),(0,U.jsxs)(`div`,{className:`project-actions`,children:[(0,U.jsx)(J,{label:`Избранное`,checked:e.featured||!1,onChange:n=>{let a=[...r.commercialProjects];a[t]={...e,featured:n},i({...r,commercialProjects:a})}}),(0,U.jsx)(K,{onClick:()=>{let e=r.commercialProjects.filter((e,n)=>n!==t);i({...r,commercialProjects:e})},className:`project-delete`,title:`Удалить проект`})]})]}),(0,U.jsx)(`div`,{className:`project-category`,children:(0,U.jsx)(`span`,{className:`category-badge category-commercial`,children:`Коммерческий проект`})})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Краткое описание`}),(0,U.jsx)(W,{value:e.description,onSave:n=>{let a=[...r.commercialProjects];a[t]={...e,description:n},i({...r,commercialProjects:a})},type:`textarea`,multiline:!0,rows:2,placeholder:`Краткое описание проекта`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Подробное описание`}),(0,U.jsx)(W,{value:e.longDescription,onSave:n=>{let a=[...r.commercialProjects];a[t]={...e,longDescription:n},i({...r,commercialProjects:a})},type:`textarea`,multiline:!0,rows:4,placeholder:`Подробное описание проекта, особенности реализации`})]})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Дата начала`}),(0,U.jsx)(W,{value:V(e.startDate,`month`)||``,onSave:n=>{let a=[...r.commercialProjects];a[t]={...e,startDate:B(n)},i({...r,commercialProjects:a})},placeholder:`01.2023`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Дата окончания`}),(0,U.jsx)(W,{value:V(e.endDate||``,`month`)||``,onSave:n=>{let a=[...r.commercialProjects];a[t]={...e,endDate:B(n)},i({...r,commercialProjects:a})},placeholder:`12.2023`})]})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`GitHub URL`}),(0,U.jsx)(W,{value:e.githubUrl||``,onSave:n=>{let a=[...r.commercialProjects];a[t]={...e,githubUrl:n},i({...r,commercialProjects:a})},placeholder:`https://github.com/username/project`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Website URL`}),(0,U.jsx)(W,{value:e.websiteUrl||``,onSave:n=>{let a=[...r.commercialProjects];a[t]={...e,websiteUrl:n},i({...r,commercialProjects:a})},placeholder:`https://project-demo.com`})]})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Статус`}),(0,U.jsx)(Y,{value:e.status,onChange:n=>{let a=[...r.commercialProjects];a[t]={...e,status:n},i({...r,commercialProjects:a})},options:[{value:`В разработке`,label:`В разработке`},{value:`Завершён`,label:`Завершён`},{value:`Заморожен`,label:`Заморожен`},{value:`Заброшен`,label:`Заброшен`},{value:`На доработке`,label:`На доработке`},{value:`В ожидании`,label:`В ожидании`}],placeholder:`Выберите статус проекта`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Технологии`}),(0,U.jsxs)(`div`,{className:`technologies-list`,children:[(e.technologies||[]).map((n,a)=>(0,U.jsxs)(`div`,{className:`tech-item`,children:[(0,U.jsx)(W,{value:n,onSave:n=>{let o=[...r.commercialProjects];o[t]={...e,technologies:(e.technologies||[]).map((e,t)=>t===a?n:e)},i({...r,commercialProjects:o})},className:`technology-tag`}),(0,U.jsx)(K,{onClick:()=>{let n=[...r.commercialProjects];n[t]={...e,technologies:e.technologies.filter((e,t)=>t!==a)},i({...r,commercialProjects:n})},className:`tech-remove-btn`,title:`Удалить технологию`})]},a)),(0,U.jsx)(G,{onAdd:n=>{let a=[...r.commercialProjects];a[t]={...e,technologies:[...e.technologies,n]},i({...r,commercialProjects:a})},placeholder:`Новая технология`,className:`technology-add-btn`})]})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Изображения`}),(0,U.jsxs)(`div`,{className:`images-upload`,children:[(e.images||[]).map((n,a)=>(0,U.jsxs)(`div`,{className:`image-item`,children:[(0,U.jsx)(`img`,{src:n,alt:`Project ${a+1}`,className:`project-image`}),(0,U.jsx)(`button`,{className:`image-delete`,onClick:()=>{let n=[...r.commercialProjects];n[t]={...e,images:e.images.filter((e,t)=>t!==a)},i({...r,commercialProjects:n})},title:`Удалить изображение`,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,U.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})})]},a)),(0,U.jsx)(q,{currentValue:``,onFileSelect:n=>{if(n){let a=[...r.commercialProjects];a[t]={...e,images:[...e.images,n]},i({...r,commercialProjects:a})}},accept:`image/*`,label:`Добавить изображение`,className:`image-upload-btn`})]})]})]},e.id)),(0,U.jsx)(G,{onAdd:e=>{let t={id:`commercial_${h()}`,title:e,description:``,longDescription:``,technologies:[],status:`В разработке`,startDate:``,endDate:``,githubUrl:``,websiteUrl:``,images:[],featured:!1,category:`commercial`};i({...r,commercialProjects:[...r.commercialProjects,t]})},placeholder:`Название коммерческого проекта`,className:`projects-add-btn`})]})]})]})]}),(0,U.jsxs)(`section`,{className:`section`,children:[(0,U.jsx)(X,{title:`Сертификаты`,isVisible:f.certifications,onToggle:()=>x(`certifications`)}),f.certifications&&(0,U.jsxs)(`div`,{className:`certifications-list`,children:[(r.certifications||[]).map((e,t)=>(0,U.jsxs)(`div`,{className:`certification-item`,children:[(0,U.jsxs)(`div`,{className:`item-header`,children:[(0,U.jsxs)(`h4`,{children:[`Сертификат #`,t+1]}),(0,U.jsx)(K,{onClick:()=>{let e=(r.certifications||[]).filter((e,n)=>n!==t);i({...r,certifications:e})},className:`item-remove-btn`,title:`Удалить сертификат`})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Название сертификата`}),(0,U.jsx)(W,{value:e.name,onSave:n=>{let a=[...r.certifications||[]];a[t]={...e,name:n},i({...r,certifications:a})},placeholder:`Название сертификата`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Год получения`}),(0,U.jsx)(W,{value:e.year?.toString()||``,onSave:n=>{let a=[...r.certifications||[]];a[t]={...e,year:n?parseInt(n):null},i({...r,certifications:a})},placeholder:`2023`})]})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Ссылка на верификацию`}),(0,U.jsx)(W,{value:e.verificationUrl||``,onSave:n=>{let a=[...r.certifications||[]];a[t]={...e,verificationUrl:n},i({...r,certifications:a})},placeholder:`https://verify.example.com/certificate/123`})]})]},e.id)),(0,U.jsx)(G,{onAdd:e=>{let t={id:`cert_${h()}`,name:e,year:null,verificationUrl:``};i({...r,certifications:[...r.certifications||[],t]})},placeholder:`Название сертификата`,className:`certifications-add-btn`})]})]}),(0,U.jsxs)(`section`,{className:`section`,children:[(0,U.jsx)(X,{title:`Тесты и экзамены`,isVisible:f.tests,onToggle:()=>x(`tests`)}),f.tests&&(0,U.jsxs)(`div`,{className:`tests-list`,children:[(r.tests||[]).map((e,t)=>(0,U.jsxs)(`div`,{className:`test-item`,children:[(0,U.jsxs)(`div`,{className:`item-header`,children:[(0,U.jsxs)(`h4`,{children:[`Тест #`,t+1]}),(0,U.jsx)(K,{onClick:()=>{let e=(r.tests||[]).filter((e,n)=>n!==t);i({...r,tests:e})},className:`item-remove-btn`,title:`Удалить тест`})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Название теста`}),(0,U.jsx)(W,{value:e.name,onSave:n=>{let a=[...r.tests||[]];a[t]={...e,name:n},i({...r,tests:a})},placeholder:`Название теста`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Организация`}),(0,U.jsx)(W,{value:e.organization,onSave:n=>{let a=[...r.tests||[]];a[t]={...e,organization:n},i({...r,tests:a})},placeholder:`Название организации`})]})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Специализация`}),(0,U.jsx)(W,{value:e.specialization,onSave:n=>{let a=[...r.tests||[]];a[t]={...e,specialization:n},i({...r,tests:a})},placeholder:`Специализация теста`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Год прохождения`}),(0,U.jsx)(W,{value:e.completionYear?.toString()||``,onSave:n=>{let a=[...r.tests||[]];a[t]={...e,completionYear:n?parseInt(n):null},i({...r,tests:a})},placeholder:`2023`})]})]})]},e.id)),(0,U.jsx)(G,{onAdd:e=>{let t={id:`test_${h()}`,name:e,organization:``,specialization:``,completionYear:null};i({...r,tests:[...r.tests||[],t]})},placeholder:`Название теста`,className:`tests-add-btn`})]})]}),(0,U.jsxs)(`section`,{className:`section`,children:[(0,U.jsx)(X,{title:`Языки`,isVisible:f.languages,onToggle:()=>x(`languages`)}),f.languages&&(0,U.jsxs)(`div`,{className:`languages-list`,children:[(r.languages||[]).map((e,t)=>(0,U.jsxs)(`div`,{className:`language-item`,children:[(0,U.jsxs)(`div`,{className:`item-header`,children:[(0,U.jsxs)(`h4`,{children:[`Язык #`,t+1]}),(0,U.jsx)(K,{onClick:()=>{let e=(r.languages||[]).filter((e,n)=>n!==t);i({...r,languages:e})},className:`item-remove-btn`,title:`Удалить язык`})]}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Название языка`}),(0,U.jsx)(W,{value:e.name,onSave:n=>{let a=[...r.languages||[]];a[t]={...e,name:n},i({...r,languages:a})},placeholder:`Русский`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Уровень владения`}),(0,U.jsx)(Y,{value:e.level,onChange:n=>{let a=[...r.languages||[]];a[t]={...e,level:n},i({...r,languages:a})},options:[{value:`A1 — Начальный`,label:`A1 — Начальный`},{value:`A2 — Элементарный`,label:`A2 — Элементарный`},{value:`B1 — Средний`,label:`B1 — Средний`},{value:`B2 — Средне-продвинутый`,label:`B2 — Средне-продвинутый`},{value:`C1 — Продвинутый`,label:`C1 — Продвинутый`},{value:`C2 — В совершенстве`,label:`C2 — В совершенстве`}],placeholder:`Выберите уровень владения`})]})]}),(0,U.jsx)(`div`,{className:`form-group`,children:(0,U.jsx)(J,{label:`Родной язык`,checked:e.isNative||!1,onChange:n=>{let a=[...r.languages||[]];a[t]={...e,isNative:n},i({...r,languages:a})}})})]},t)),(0,U.jsx)(G,{onAdd:e=>{let t={name:e,level:`B1 — Средний`,isNative:!1};i({...r,languages:[...r.languages||[],t]})},placeholder:`Название языка`,className:`languages-add-btn`})]})]}),(0,U.jsxs)(`section`,{className:`section`,children:[(0,U.jsx)(`h2`,{children:`Контактная информация`}),(0,U.jsxs)(`div`,{className:`form-grid`,children:[(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Email`}),(0,U.jsx)(W,{value:r.contactInfo.email,onSave:e=>i({...r,contactInfo:{...r.contactInfo,email:e}}),placeholder:`email@example.com`})]}),(0,U.jsxs)(`div`,{className:`form-group ${y()?`form-group--required`:``}`,children:[(0,U.jsx)(`label`,{className:`form-group__label`,children:`Телефон`}),(0,U.jsx)(W,{value:r.contactInfo.phone,onSave:e=>i({...r,contactInfo:{...r.contactInfo,phone:e}}),placeholder:`+7 (999) 123-45-67`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`Telegram`}),(0,U.jsx)(W,{value:r.contactInfo.telegram,onSave:e=>i({...r,contactInfo:{...r.contactInfo,telegram:e}}),placeholder:`https://t.me/username`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`GitHub`}),(0,U.jsx)(W,{value:r.contactInfo.github||``,onSave:e=>i({...r,contactInfo:{...r.contactInfo,github:e}}),placeholder:`https://github.com/username`})]}),(0,U.jsxs)(`div`,{className:`form-group`,children:[(0,U.jsx)(`label`,{children:`LinkedIn`}),(0,U.jsx)(W,{value:r.contactInfo.linkedin||``,onSave:e=>i({...r,contactInfo:{...r.contactInfo,linkedin:e}}),placeholder:`https://linkedin.com/in/username`})]})]})]})]})}),(0,U.jsxs)(ce,{isOpen:l,onClose:()=>d(!1),onConfirm:async()=>{if(!(!r||b)){c(!0);try{await H.loadResumeList();let t=H.resumeList.filter(e=>e.id!==r.id);await H.setData(`/resume-list`,t),await H.setData(`/resumes/${r.id}`,null);for(let e of r.petProjects)await H.setData(`/resumes/${r.id}/petProjects/${e.id}`,null);for(let e of r.personalProjects)await H.setData(`/resumes/${r.id}/personalProjects/${e.id}`,null);for(let e of r.commercialProjects)await H.setData(`/resumes/${r.id}/commercialProjects/${e.id}`,null);e(`/`)}catch(e){console.error(`Ошибка удаления резюме:`,e),alert(`Ошибка при удалении резюме`)}finally{c(!1),d(!1)}}},title:`Удаление резюме`,confirmText:`Удалить`,cancelText:`Отмена`,type:`danger`,children:[(0,U.jsxs)(`p`,{children:[`Вы уверены, что хотите удалить резюме `,(0,U.jsx)(`strong`,{children:r?.profession}),`?`]}),(0,U.jsx)(`p`,{className:`text--muted`,children:`Это действие нельзя отменить. Резюме будет удалено из базы данных навсегда.`})]})]}):(0,U.jsx)(`div`,{className:`resume-edit`,children:(0,U.jsxs)(`div`,{className:`error`,children:[(0,U.jsx)(`p`,{children:`Резюме не найдено`}),(0,U.jsx)(`button`,{onClick:()=>e(`/`),children:`Вернуться на главную`})]})})}),Q=f(({type:e=`main`,category:n,projectTitle:r,resumeId:i,resume:a})=>{let o=t();if(!a)return null;let s=()=>{switch(e){case`projects`:o(`/main/${i}`);break;case`project`:o(-1);break;default:o(`/`)}},c=()=>(0,U.jsxs)(`div`,{className:`nav__brand`,children:[(0,U.jsx)(`button`,{className:`nav__back`,onClick:s,children:(0,U.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,U.jsx)(`path`,{d:`M19 12H5M12 19l-7-7 7-7`})})}),(0,U.jsx)(`img`,{src:z(a.avatar),alt:`Avatar`,className:`nav__avatar`}),(0,U.jsxs)(`div`,{className:`nav__info`,children:[(0,U.jsx)(`h3`,{className:`nav__name`,children:a.name}),(0,U.jsx)(`p`,{className:`nav__profession`,children:a.profession})]})]}),l=()=>(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(`div`,{className:`nav__menu`,children:[(0,U.jsx)(`button`,{className:`nav__item active`,onClick:()=>o(`/main/${i}`),children:`Главная`}),(0,U.jsx)(`button`,{className:`nav__item`,onClick:()=>o(`/main/${i}/projects/pet`),children:`Пет проекты`}),(0,U.jsx)(`button`,{className:`nav__item`,onClick:()=>o(`/main/${i}/projects/personal`),children:`Личные проекты`}),(0,U.jsx)(`button`,{className:`nav__item`,onClick:()=>o(`/main/${i}/projects/commercial`),children:`Коммерческие проекты`})]}),(0,U.jsx)(Y,{className:`nav__category-select-mobile`,value:null,onChange:e=>{e&&o(e===`main`?`/main/${i}`:`/main/${i}/projects/${e}`)},options:[{value:`main`,label:`Главная`},{value:`pet`,label:`Пет проекты`},{value:`personal`,label:`Личные проекты`},{value:`commercial`,label:`Коммерческие проекты`}],placeholder:`Выберите категорию`})]}),u=()=>(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(`div`,{className:`nav__menu`,children:[(0,U.jsx)(`button`,{className:`nav__item ${n?``:`active`}`,onClick:()=>o(`/main/${i}`),children:`Главная`}),(0,U.jsx)(`button`,{className:`nav__item ${n===`pet`?`active`:``}`,onClick:()=>o(`/main/${i}/projects/pet`),children:`Пет проекты`}),(0,U.jsx)(`button`,{className:`nav__item ${n===`personal`?`active`:``}`,onClick:()=>o(`/main/${i}/projects/personal`),children:`Личные проекты`}),(0,U.jsx)(`button`,{className:`nav__item ${n===`commercial`?`active`:``}`,onClick:()=>o(`/main/${i}/projects/commercial`),children:`Коммерческие проекты`})]}),(0,U.jsx)(Y,{className:`nav__category-select-mobile`,value:n||null,onChange:e=>{e&&o(e===`main`?`/main/${i}`:`/main/${i}/projects/${e}`)},options:[{value:`main`,label:`Главная`},{value:`pet`,label:`Пет проекты`},{value:`personal`,label:`Личные проекты`},{value:`commercial`,label:`Коммерческие проекты`}],placeholder:`Выберите категорию`})]}),d=()=>(0,U.jsx)(`div`,{className:`nav__project`,children:(0,U.jsx)(`h2`,{className:`nav__project-title`,children:r})}),f=()=>(0,U.jsx)(`div`,{className:`nav__actions`,children:p()}),p=()=>j.isAdmin()&&(0,U.jsxs)(`div`,{className:`nav__admin`,children:[(0,U.jsx)(`span`,{className:`admin-badge`,children:`Admin`}),(0,U.jsx)(`button`,{className:`logout-btn`,onClick:j.logout,title:`Выйти из админ-панели`,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`}),(0,U.jsx)(`polyline`,{points:`16,17 21,12 16,7`}),(0,U.jsx)(`line`,{x1:`21`,y1:`12`,x2:`9`,y2:`12`})]})})]});return(0,U.jsx)(`nav`,{className:(()=>{switch(e){case`projects`:return`projects-nav`;case`project`:return`project-nav`;default:return`main__nav`}})(),children:(0,U.jsxs)(`div`,{className:`nav-container`,children:[c(),e===`main`&&l(),e===`projects`&&u(),e===`project`&&d(),f()]})})}),ue=f(()=>{let e=t(),{resumeId:n}=u();if((0,k.useEffect)(()=>{if(!n){e(`/`);return}(!H.currentResume||H.currentResume.id!==n)&&H.loadResume(n)},[n,e]),!H.currentResume||H.currentResume.id!==n)return(0,U.jsx)(`div`,{className:`main`,children:(0,U.jsxs)(`div`,{className:`loading`,children:[(0,U.jsx)(`div`,{className:`spinner`}),(0,U.jsx)(`p`,{children:`Загрузка данных резюме...`})]})});let r=H.currentResume,i=H.getFeaturedProjects(),a=H.getLatestProjects(6);return(0,U.jsxs)(`div`,{className:`main`,children:[(0,U.jsx)(Q,{type:`main`,resumeId:n,resume:r}),(0,U.jsx)(`section`,{className:`main__about`,children:(0,U.jsx)(`div`,{className:`container`,children:(0,U.jsxs)(`div`,{className:`about__content`,children:[(0,U.jsx)(`div`,{className:`about__avatar`,children:(0,U.jsx)(`img`,{src:z(r.avatar),alt:`Avatar`,className:`about__avatar-img`})}),(0,U.jsxs)(`div`,{className:`about__info`,children:[(0,U.jsxs)(`h1`,{className:`about__title`,children:[(0,U.jsx)(W,{value:r.name,onSave:e=>H.updateResumeField(`name`,e),className:`about__name`}),(0,U.jsx)(W,{value:r.slogan||``,onSave:e=>H.updateResumeField(`slogan`,e),className:`resume__name-subtitle`}),(0,U.jsx)(W,{value:r.profession,onSave:e=>H.updateResumeField(`profession`,e),className:`about__profession`,type:`input`})]}),(0,U.jsx)(W,{value:r.bio,onSave:e=>H.updateResumeField(`bio`,e),className:`about__bio`,type:`textarea`,multiline:!0,rows:3}),r.specialization&&(0,U.jsx)(`div`,{className:`about__specialization`,children:(0,U.jsx)(W,{value:r.specialization,onSave:e=>H.updateResumeField(`specialization`,e),className:`about__specialization-text`})}),r.grade&&(0,U.jsx)(`div`,{className:`about__grade`,children:(0,U.jsx)(`span`,{className:`grade-badge grade-${r.grade.toLowerCase()}`,children:r.grade})}),(0,U.jsxs)(`div`,{className:`about__details`,children:[r.birthDate&&(0,U.jsxs)(`div`,{className:`about__detail`,children:[(0,U.jsx)(`strong`,{children:`Дата рождения:`}),` `,(0,U.jsx)(W,{value:V(r.birthDate,`full`),onSave:e=>H.updateResumeField(`birthDate`,B(e)),className:`inline-editable`}),(0,U.jsx)(`br`,{}),(0,U.jsxs)(`span`,{className:`age-display`,children:[`(`,ie(I(r.birthDate)),`)`]})]}),(0,U.jsxs)(`div`,{className:`about__detail`,children:[(0,U.jsx)(`strong`,{children:`Расположение:`}),` `,(0,U.jsx)(W,{value:r.location,onSave:e=>H.updateResumeField(`location`,e),className:`inline-editable`})]}),(0,U.jsxs)(`div`,{className:`about__detail`,children:[(0,U.jsx)(`strong`,{children:`Email:`}),` `,(0,U.jsx)(W,{value:r.email,onSave:e=>H.updateResumeField(`email`,e),className:`inline-editable`})]}),(0,U.jsxs)(`div`,{className:`about__detail`,children:[(0,U.jsx)(`strong`,{children:`Телефон:`}),` `,(0,U.jsx)(W,{value:r.phone,onSave:e=>H.updateResumeField(`phone`,e),className:`inline-editable`}),r.contactInfo.additionalPhones&&r.contactInfo.additionalPhones.length>0&&(0,U.jsx)(`div`,{className:`additional-phones`,children:r.contactInfo.additionalPhones.map((e,t)=>(0,U.jsx)(`div`,{className:`additional-phone`,children:(0,U.jsx)(W,{value:e,onSave:e=>{let n=[...r.contactInfo.additionalPhones];n[t]=e,H.updateResumeField(`contactInfo`,{...r.contactInfo,additionalPhones:n})},className:`inline-editable`})},t))})]}),(r.desiredSalary||r.currentSalary)&&(0,U.jsxs)(`div`,{className:`about__detail`,children:[(0,U.jsx)(`strong`,{children:`Зарплата:`}),` `,r.currentSalary&&(0,U.jsxs)(`span`,{children:[`текущая: `,r.currentSalary.toLocaleString(),` ₽`]}),r.currentSalary&&r.desiredSalary&&`, `,r.desiredSalary&&(0,U.jsxs)(`span`,{children:[`желаемая: `,r.desiredSalary.toLocaleString(),` ₽`]})]}),r.employmentType&&r.employmentType.length>0&&(0,U.jsxs)(`div`,{className:`about__detail`,children:[(0,U.jsx)(`strong`,{children:`Тип занятости:`}),` `,(0,U.jsx)(`span`,{children:r.employmentType.join(`, `)})]}),r.businessTrips&&(0,U.jsxs)(`div`,{className:`about__detail`,children:[(0,U.jsx)(`strong`,{children:`Командировки:`}),` `,(0,U.jsx)(`span`,{children:r.businessTrips})]}),r.jobSearchRegions&&r.jobSearchRegions.length>0&&(0,U.jsxs)(`div`,{className:`about__detail`,children:[(0,U.jsx)(`strong`,{children:`Регионы поиска:`}),` `,(0,U.jsx)(`span`,{children:r.jobSearchRegions.join(`, `)})]})]})]})]})})}),(0,U.jsx)(`section`,{className:`main__experience`,children:(0,U.jsxs)(`div`,{className:`container`,children:[(0,U.jsx)(`h2`,{className:`section__title`,children:`Опыт работы`}),(0,U.jsx)(`div`,{className:`experience__list`,children:r.experience.map(e=>(0,U.jsxs)(`div`,{className:`experience__item`,children:[(0,U.jsxs)(`div`,{className:`experience__header`,children:[(0,U.jsx)(`div`,{className:`experience__company`,children:(0,U.jsx)(W,{value:e.company,onSave:t=>{let n=r.experience.map(n=>n.id===e.id?{...n,company:t}:n);H.updateResumeField(`experience`,n)},className:`experience__company-text`})}),(0,U.jsx)(`div`,{className:`experience__period`,children:(0,U.jsx)(`div`,{className:`experience__period-text`,children:oe(e.startDate,e.endDate??void 0,e.isCurrentJob)})})]}),(0,U.jsx)(`div`,{className:`experience__position`,children:(0,U.jsx)(W,{value:e.position,onSave:t=>{let n=r.experience.map(n=>n.id===e.id?{...n,position:t}:n);H.updateResumeField(`experience`,n)},className:`experience__position-text`})}),(0,U.jsx)(W,{value:e.description,onSave:t=>{let n=r.experience.map(n=>n.id===e.id?{...n,description:t}:n);H.updateResumeField(`experience`,n)},className:`experience__description`,type:`textarea`,multiline:!0,rows:2}),(0,U.jsx)(`div`,{className:`experience__technologies`,children:e.technologies.map((t,n)=>(0,U.jsx)(W,{value:t,onSave:t=>{let i=r.experience.map(r=>r.id===e.id?{...r,technologies:r.technologies.map((e,r)=>r===n?t:e)}:r);H.updateResumeField(`experience`,i)},className:`experience__tech`},n))})]},e.id))})]})}),(0,U.jsx)(`section`,{className:`main__skills`,children:(0,U.jsxs)(`div`,{className:`container`,children:[(0,U.jsx)(`h2`,{className:`section__title`,children:`Навыки`}),(0,U.jsxs)(`div`,{className:`skills__list`,children:[r.skills.map((e,t)=>(0,U.jsx)(W,{value:e,onSave:e=>{let n=[...r.skills];n[t]=e,H.updateResumeField(`skills`,n)},className:`skill__tag`},t)),(0,U.jsx)(G,{onAdd:e=>{let t=[...r.skills,e];H.updateResumeField(`skills`,t)},placeholder:`Новый навык...`,className:`skills__add-btn`})]})]})}),r.languages&&r.languages.length>0&&(0,U.jsx)(`section`,{className:`main__languages`,children:(0,U.jsxs)(`div`,{className:`container`,children:[(0,U.jsx)(`h2`,{className:`section__title`,children:`Языки`}),(0,U.jsx)(`div`,{className:`languages__list`,children:r.languages.map((e,t)=>(0,U.jsxs)(`div`,{className:`language__item`,children:[(0,U.jsx)(`div`,{className:`language__name`,children:(0,U.jsx)(W,{value:e.name,onSave:n=>{let i=[...r.languages||[]];i[t]={...e,name:n},H.updateResumeField(`languages`,i)},className:`language__name-text`})}),(0,U.jsxs)(`div`,{className:`language__details`,children:[(0,U.jsx)(`span`,{className:`language__level`,children:e.level}),e.isNative&&(0,U.jsx)(`span`,{className:`language__native`,children:`(родной)`})]})]},t))})]})}),(0,U.jsx)(`section`,{className:`main__featured`,children:(0,U.jsxs)(`div`,{className:`container`,children:[(0,U.jsx)(`h2`,{className:`section__title`,children:`Избранные проекты`}),(0,U.jsx)(l,{modules:[w,E,T],spaceBetween:30,slidesPerView:1,navigation:!0,pagination:{clickable:!0},autoplay:{delay:5e3},breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:3}},className:`featured__swiper`,children:i.map(e=>(0,U.jsx)(s,{children:(0,U.jsx)($,{project:e,onUpdateProject:(t,n)=>H.updateProject(e.category,t,n)})},e.id))})]})}),(0,U.jsx)(`section`,{className:`main__latest`,children:(0,U.jsxs)(`div`,{className:`container`,children:[(0,U.jsx)(`h2`,{className:`section__title`,children:`Последние проекты`}),(0,U.jsx)(l,{modules:[w,E,T],spaceBetween:20,slidesPerView:1,navigation:!0,pagination:{clickable:!0},autoplay:{delay:4e3},breakpoints:{640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4}},className:`latest__swiper`,children:a.map(e=>(0,U.jsx)(s,{children:(0,U.jsx)($,{project:e,compact:!0,onUpdateProject:(t,n)=>H.updateProject(e.category,t,n)})},e.id))})]})}),r.courses&&r.courses.length>0&&(0,U.jsx)(`section`,{className:`main__courses`,children:(0,U.jsxs)(`div`,{className:`container`,children:[(0,U.jsx)(`h2`,{className:`section__title`,children:`Курсы`}),(0,U.jsx)(l,{modules:[T],spaceBetween:20,slidesPerView:1,autoplay:{delay:4e3},breakpoints:{640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4}},className:`courses__swiper`,children:r.courses.map(e=>(0,U.jsx)(s,{children:(0,U.jsxs)(`div`,{className:`course-item`,children:[(0,U.jsx)(`div`,{className:`course-item__icon`,children:`📚`}),(0,U.jsxs)(`div`,{className:`course-item__content`,children:[(0,U.jsx)(`h4`,{className:`course-item__title`,children:(0,U.jsx)(W,{value:e.name,onSave:t=>{let n=r.courses?.map(n=>n.id===e.id?{...n,name:t}:n);H.updateResumeField(`courses`,n||[])},className:`course-item__title-text`})}),(0,U.jsxs)(`div`,{className:`course-item__meta`,children:[(0,U.jsx)(`span`,{className:`course-item__org`,children:e.organization}),e.completionYear&&(0,U.jsx)(`span`,{className:`course-item__year`,children:e.completionYear})]})]})]})},e.id))})]})}),r.certifications&&r.certifications.length>0&&(0,U.jsx)(`section`,{className:`main__certifications`,children:(0,U.jsxs)(`div`,{className:`container`,children:[(0,U.jsx)(`h2`,{className:`section__title`,children:`Сертификаты`}),(0,U.jsx)(l,{modules:[T],spaceBetween:20,slidesPerView:1,autoplay:{delay:4e3},breakpoints:{640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4}},className:`certifications__swiper`,children:r.certifications.map(e=>(0,U.jsx)(s,{children:(0,U.jsxs)(`div`,{className:`certification-item`,children:[(0,U.jsx)(`div`,{className:`certification-item__icon`,children:`🏆`}),(0,U.jsxs)(`div`,{className:`certification-item__content`,children:[(0,U.jsx)(`h4`,{className:`certification-item__title`,children:(0,U.jsx)(W,{value:e.name,onSave:t=>{let n=r.certifications?.map(n=>n.id===e.id?{...n,name:t}:n);H.updateResumeField(`certifications`,n||[])},className:`certification-item__title-text`})}),(0,U.jsxs)(`div`,{className:`certification-item__meta`,children:[e.year&&(0,U.jsx)(`span`,{className:`certification-item__year`,children:e.year}),e.verificationUrl&&(0,U.jsx)(`a`,{href:e.verificationUrl,target:`_blank`,rel:`noopener noreferrer`,className:`certification-item__verify`,children:`Проверить`})]})]})]})},e.id))})]})}),r.tests&&r.tests.length>0&&(0,U.jsx)(`section`,{className:`main__tests`,children:(0,U.jsxs)(`div`,{className:`container`,children:[(0,U.jsx)(`h2`,{className:`section__title`,children:`Тесты и экзамены`}),(0,U.jsx)(l,{modules:[T],spaceBetween:20,slidesPerView:1,autoplay:{delay:4e3},breakpoints:{640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4}},className:`tests__swiper`,children:r.tests.map(e=>(0,U.jsx)(s,{children:(0,U.jsxs)(`div`,{className:`test-item`,children:[(0,U.jsx)(`div`,{className:`test-item__icon`,children:`📝`}),(0,U.jsxs)(`div`,{className:`test-item__content`,children:[(0,U.jsx)(`h4`,{className:`test-item__title`,children:(0,U.jsx)(W,{value:e.name,onSave:t=>{let n=r.tests?.map(n=>n.id===e.id?{...n,name:t}:n);H.updateResumeField(`tests`,n||[])},className:`test-item__title-text`})}),(0,U.jsxs)(`div`,{className:`test-item__meta`,children:[(0,U.jsx)(`span`,{className:`test-item__org`,children:e.organization}),e.specialization&&(0,U.jsx)(`span`,{className:`test-item__spec`,children:e.specialization}),e.completionYear&&(0,U.jsx)(`span`,{className:`test-item__year`,children:e.completionYear})]})]})]})},e.id))})]})}),(0,U.jsx)(`section`,{className:`main__recommendations`,children:(0,U.jsxs)(`div`,{className:`container`,children:[(0,U.jsx)(`h2`,{className:`section__title`,children:`Рекомендации`}),(0,U.jsx)(`div`,{className:`recommendations__grid`,children:r.recommendations.map(e=>(0,U.jsx)(de,{recommendation:e},e.id))})]})}),(0,U.jsx)(`section`,{className:`main__contact`,children:(0,U.jsxs)(`div`,{className:`container`,children:[(0,U.jsx)(`h2`,{className:`section__title`,children:`Связаться со мной`}),(0,U.jsx)(`div`,{className:`contact__content`,children:(0,U.jsxs)(`div`,{className:`contact__info`,children:[(0,U.jsx)(`p`,{children:`Готов обсудить интересные проекты и возможности сотрудничества.`}),(0,U.jsxs)(`div`,{className:`contact__links`,children:[(0,U.jsxs)(`a`,{href:`mailto:${r.contactInfo.email||`email@example.com`}`,className:`contact__link`,children:[(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`path`,{d:`M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z`}),(0,U.jsx)(`polyline`,{points:`22,6 12,13 2,6`})]}),r.contactInfo.email?(0,U.jsx)(W,{value:r.contactInfo.email,onSave:e=>H.updateResumeField(`contactInfo`,{...r.contactInfo,email:e}),className:`inline-editable`}):(0,U.jsx)(G,{onAdd:e=>H.updateResumeField(`contactInfo`,{...r.contactInfo,email:e}),placeholder:`email@example.com`,className:`contact__add-btn`})]}),(0,U.jsxs)(`a`,{href:`tel:${r.contactInfo.phone||`+`}`,className:`contact__link`,children:[(0,U.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,U.jsx)(`path`,{d:`M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z`})}),r.contactInfo.phone?(0,U.jsx)(W,{value:r.contactInfo.phone,onSave:e=>H.updateResumeField(`contactInfo`,{...r.contactInfo,phone:e}),className:`inline-editable`}):(0,U.jsx)(G,{onAdd:e=>H.updateResumeField(`contactInfo`,{...r.contactInfo,phone:e}),placeholder:`+7 (999) 123-45-67`,className:`contact__add-btn`})]}),(0,U.jsxs)(`a`,{href:r.contactInfo.telegram,className:`contact__link contact__link__primary`,target:`_blank`,rel:`noopener noreferrer`,children:[(0,U.jsxs)(`svg`,{width:`800px`,height:`800px`,viewBox:`0 0 48 48`,id:`Layer_2`,"data-name":`Layer 2`,xmlns:`http://www.w3.org/2000/svg`,fill:`#ffffff`,stroke:`#ffffff`,children:[(0,U.jsx)(`g`,{id:`SVGRepo_bgCarrier`,strokeWidth:`0`}),(0,U.jsx)(`g`,{id:`SVGRepo_tracerCarrier`,strokeLinecap:`round`,strokeLinejoin:`round`}),(0,U.jsxs)(`g`,{id:`SVGRepo_iconCarrier`,children:[(0,U.jsx)(`defs`,{children:(0,U.jsx)(`style`,{children:`.cls-1{fill:none;stroke:#ffffff;strokeLinecap:round;strokeLinejoin:round;}`})}),(0,U.jsx)(`path`,{className:`cls-1`,d:`M40.83,8.48c1.14,0,2,1,1.54,2.86l-5.58,26.3c-.39,1.87-1.52,2.32-3.08,1.45L20.4,29.26a.4.4,0,0,1,0-.65L35.77,14.73c.7-.62-.15-.92-1.07-.36L15.41,26.54a.46.46,0,0,1-.4.05L6.82,24C5,23.47,5,22.22,7.23,21.33L40,8.69a2.16,2.16,0,0,1,.83-.21Z`})]})]}),(0,U.jsx)(W,{value:r.contactInfo.telegram,onSave:e=>H.updateResumeField(`contactInfo`,{...r.contactInfo,telegram:e}),className:`inline-editable`})]})]})]})})]})})]})});const $=({project:e,compact:n=!1,onUpdateProject:r})=>{let i=t(),{resumeId:a}=u();return(0,U.jsxs)(`div`,{className:`project-card ${n?`project-card--compact`:``}`,onClick:()=>{i(`/main/${a}/project/${e.id}`)},children:[(0,U.jsxs)(`div`,{className:`project-card__image`,children:[e.images&&e.images.length>0&&(0,U.jsx)(`img`,{src:e.images[0],alt:e.title,className:`project-card__img`}),(0,U.jsx)(`div`,{className:`project-card__status`,style:{backgroundColor:L(e.status)},children:e.status})]}),(0,U.jsxs)(`div`,{className:`project-card__content`,children:[(0,U.jsx)(`h3`,{className:`project-card__title`,children:e.title}),!n&&(0,U.jsx)(`p`,{className:`project-card__description`,children:e.description}),(0,U.jsxs)(`div`,{className:`project-card__technologies`,children:[(e.technologies||[]).slice(0,n?2:3).map((e,t)=>(0,U.jsx)(`span`,{className:`project-card__tech`,children:e},t)),e.technologies&&e.technologies.length>(n?2:3)&&(0,U.jsxs)(`span`,{className:`project-card__tech-more`,children:[`+`,e.technologies.length-(n?2:3)]}),j.isAdmin()&&r&&(0,U.jsx)(G,{onAdd:t=>{r(e.id,{technologies:[...e.technologies||[],t]})},placeholder:`Новая технология...`,className:`project-card__add-tech`})]}),(0,U.jsxs)(`div`,{className:`project-card__links`,children:[e.githubUrl&&(0,U.jsx)(`a`,{href:e.githubUrl,className:`project-card__link`,target:`_blank`,rel:`noopener noreferrer`,onClick:t=>{t.preventDefault(),t.stopPropagation(),window.open(e.githubUrl,`_blank`,`noopener,noreferrer`)},children:`GitHub`}),e.websiteUrl&&(0,U.jsx)(`a`,{href:e.websiteUrl,className:`project-card__link`,target:`_blank`,rel:`noopener noreferrer`,onClick:t=>{t.preventDefault(),t.stopPropagation(),window.open(e.websiteUrl,`_blank`,`noopener,noreferrer`)},children:`Website`})]})]})]})},de=({recommendation:e})=>(0,U.jsxs)(`div`,{className:`recommendation-card`,children:[(0,U.jsx)(`div`,{className:`recommendation-card__avatar`,children:(0,U.jsx)(`img`,{src:z(e.avatar),alt:e.name,className:`recommendation-card__avatar-img`})}),(0,U.jsxs)(`div`,{className:`recommendation-card__content`,children:[(0,U.jsx)(`h4`,{className:`recommendation-card__name`,children:e.name}),(0,U.jsx)(`p`,{className:`recommendation-card__position`,children:e.position}),(0,U.jsx)(`p`,{className:`recommendation-card__organization`,children:e.organization}),e.message&&(0,U.jsxs)(`p`,{className:`recommendation-card__message`,children:[`"`,e.message,`"`]}),(0,U.jsx)(`a`,{href:e.telegramUrl,className:`recommendation-card__telegram`,target:`_blank`,rel:`noopener noreferrer`,children:`Написать в Telegram`})]})]});var fe=ue,pe=f(()=>{let e=t(),{resumeId:n,category:r}=u(),i=r;if((0,k.useEffect)(()=>{if(!n){H.currentResume?e(`/main/${H.currentResume.id}/projects/${r}`,{replace:!0}):e(`/`);return}(!H.currentResume||H.currentResume.id!==n)&&H.loadResume(n)},[n,r,e]),!H.currentResume||H.currentResume.id!==n)return(0,U.jsx)(`div`,{className:`projects-page`,children:(0,U.jsxs)(`div`,{className:`loading`,children:[(0,U.jsx)(`div`,{className:`spinner`}),(0,U.jsx)(`p`,{children:`Загрузка данных резюме...`})]})});let a=H.getProjectsByCategory(i),o=H.currentResume;return(0,U.jsxs)(`div`,{className:`projects-page`,children:[(0,U.jsx)(Q,{type:`projects`,category:i,resumeId:n,resume:o}),(0,U.jsx)(`header`,{className:`projects-header category-title`,children:(0,U.jsx)(`div`,{className:`container`,children:(0,U.jsx)(`h1`,{className:`projects-title`,children:(e=>{switch(e){case`pet`:return`Пет проекты`;case`personal`:return`Личные проекты`;case`commercial`:return`Коммерческие проекты`;default:return`Проекты`}})(i)})})}),(0,U.jsx)(`main`,{className:`projects-content`,children:(0,U.jsx)(`div`,{className:`container`,children:a.length===0?(0,U.jsx)(`div`,{className:`projects-empty`,children:(0,U.jsx)(`p`,{children:`Проекты в этой категории пока отсутствуют.`})}):(0,U.jsx)(`div`,{className:`projects-grid`,children:a.map(e=>(0,U.jsx)(me,{project:e},e.id))})})})]})}),me=({project:e})=>{let n=t(),{resumeId:r}=u();return(0,U.jsxs)(`div`,{className:`project-card`,onClick:()=>{n(`/main/${r}/project/${e.id}`)},children:[(0,U.jsxs)(`div`,{className:`project-card__image`,children:[e.images&&e.images.length>0&&(0,U.jsx)(`img`,{src:e.images[0],alt:e.title,className:`project-card__img`}),(0,U.jsx)(`div`,{className:`project-card__status`,style:{backgroundColor:L(e.status)},children:e.status})]}),(0,U.jsxs)(`div`,{className:`project-card__content`,children:[(0,U.jsx)(`h3`,{className:`project-card__title`,children:e.title}),(0,U.jsx)(`p`,{className:`project-card__description`,children:e.description}),(0,U.jsxs)(`div`,{className:`project-card__technologies`,children:[(e.technologies||[]).slice(0,4).map((e,t)=>(0,U.jsx)(`span`,{className:`project-card__tech`,children:e},t)),e.technologies&&e.technologies.length>4&&(0,U.jsxs)(`span`,{className:`project-card__tech-more`,children:[`+`,e.technologies.length-4]})]}),(0,U.jsxs)(`div`,{className:`project-card__date`,children:[e.startDate&&`Начало: ${V(e.startDate,`month`)}`,e.endDate&&` • Завершение: ${V(e.endDate,`month`)}`]}),(0,U.jsxs)(`div`,{className:`project-card__links`,children:[e.githubUrl&&(0,U.jsx)(`a`,{href:e.githubUrl,className:`project-card__link`,target:`_blank`,rel:`noopener noreferrer`,onClick:t=>{t.preventDefault(),t.stopPropagation(),window.open(e.githubUrl,`_blank`,`noopener,noreferrer`)},children:`GitHub`}),e.websiteUrl&&(0,U.jsx)(`a`,{href:e.websiteUrl,className:`project-card__link`,target:`_blank`,rel:`noopener noreferrer`,onClick:t=>{t.preventDefault(),t.stopPropagation(),window.open(e.websiteUrl,`_blank`,`noopener,noreferrer`)},children:`Website`})]})]})]})},he=pe,ge=f(()=>{let e=t(),{resumeId:n,projectId:r}=u(),[i,a]=(0,k.useState)(null),[o,c]=(0,k.useState)(!0),[d,f]=(0,k.useState)(null),[p,m]=(0,k.useState)(null),[h,g]=(0,k.useState)(0),[_,v]=(0,k.useState)(1),[y,b]=(0,k.useState)({x:0,y:0}),x=(0,k.useCallback)((e,t)=>{m(e),g(t),v(1),b({x:0,y:0})},[]),S=(0,k.useCallback)(()=>{m(null),g(0),v(1),b({x:0,y:0})},[]),C=(0,k.useCallback)(()=>{if(i?.images&&h<i.images.length-1){let e=h+1;g(e),m(i.images[e]),v(1),b({x:0,y:0})}},[i?.images,h]),T=(0,k.useCallback)(()=>{if(i?.images&&h>0){let e=h-1;g(e),m(i.images[e]),v(1),b({x:0,y:0})}},[i?.images,h]);if((0,k.useEffect)(()=>{if(!n||!r){H.currentResume?e(`/main/${H.currentResume.id}/project/${r}`,{replace:!0}):e(`/`);return}if(!H.currentResume||H.currentResume.id!==n){H.loadResume(n);return}let t=[...H.currentResume.petProjects,...H.currentResume.personalProjects,...H.currentResume.commercialProjects].find(e=>e.id===r);t?a(t):e(`/main/${n}`),c(!1)},[n,r,e]),(0,k.useEffect)(()=>{let e=e=>{if(p)switch(e.key){case`Escape`:S();break;case`ArrowLeft`:T();break;case`ArrowRight`:C();break}};return document.addEventListener(`keydown`,e),()=>document.removeEventListener(`keydown`,e)},[p,h,i?.images,C,T,S]),(0,k.useEffect)(()=>{let e=e=>{if(!p)return;e.preventDefault();let t=e.deltaY,n=.1;v(e=>{let r=e+(t>0?-n:n);return Math.max(.5,Math.min(3,r))})};if(p)return document.addEventListener(`wheel`,e,{passive:!1}),()=>document.removeEventListener(`wheel`,e)},[p]),o||!H.currentResume||H.currentResume.id!==n)return(0,U.jsx)(`div`,{className:`project-detail`,children:(0,U.jsxs)(`div`,{className:`loading`,children:[(0,U.jsx)(`div`,{className:`spinner`}),(0,U.jsx)(`p`,{children:`Загрузка проекта...`})]})});if(!i)return(0,U.jsx)(`div`,{className:`project-detail`,children:(0,U.jsxs)(`div`,{className:`error`,children:[(0,U.jsx)(`p`,{children:`Проект не найден`}),(0,U.jsx)(`button`,{onClick:()=>e(`/main/${n}`),children:`Вернуться на главную`})]})});let O=H.currentResume;return(0,U.jsxs)(`div`,{className:`project-detail`,children:[(0,U.jsx)(Q,{type:`project`,projectTitle:i.title,resumeId:n,resume:O}),(0,U.jsx)(`main`,{className:`project-content`,children:(0,U.jsxs)(`div`,{className:`container`,children:[i.images&&i.images.length>0&&(0,U.jsxs)(`section`,{className:`project-gallery`,children:[(0,U.jsx)(l,{modules:[w,E,D],spaceBetween:10,slidesPerView:1,navigation:!0,pagination:{clickable:!0},thumbs:{swiper:d},className:`gallery-main`,children:(i.images||[]).map((e,t)=>(0,U.jsx)(s,{children:(0,U.jsx)(`img`,{src:e,alt:`${i.title} - изображение ${t+1}`,className:`gallery-image`,onClick:()=>x(e,t),style:{cursor:`pointer`}})},t))}),i.images&&i.images.length>1&&(0,U.jsx)(l,{modules:[D],onSwiper:f,spaceBetween:10,slidesPerView:4,watchSlidesProgress:!0,className:`gallery-thumbs`,children:(i.images||[]).map((e,t)=>(0,U.jsx)(s,{children:(0,U.jsx)(`img`,{src:e,alt:`${i.title} - миниатюра ${t+1}`,className:`thumb-image`,onClick:()=>x(e,t),style:{cursor:`pointer`}})},t))})]}),(0,U.jsxs)(`section`,{className:`project-info`,children:[(0,U.jsxs)(`div`,{className:`project-header`,children:[(0,U.jsxs)(`div`,{className:`project-title-section`,children:[(0,U.jsx)(W,{value:i.title,onSave:e=>{H.updateProject(i.category,i.id,{title:e}),a({...i,title:e})},className:`project-title`}),(0,U.jsx)(`div`,{className:`project-status`,style:{backgroundColor:L(i.status)},children:ae(i.status)})]}),(i.startDate||i.endDate)&&(0,U.jsxs)(`div`,{className:`project-meta`,children:[i.startDate&&(0,U.jsxs)(`div`,{className:`project-date`,children:[(0,U.jsx)(`strong`,{children:`Дата начала:`}),` `,V(i.startDate,`month`)]}),i.endDate&&(0,U.jsxs)(`div`,{className:`project-date`,children:[(0,U.jsx)(`strong`,{children:`Дата завершения:`}),` `,V(i.endDate,`month`)]})]})]}),(0,U.jsxs)(`div`,{className:`project-description`,children:[(0,U.jsx)(`h2`,{children:`Описание проекта`}),(0,U.jsx)(W,{value:i.longDescription||i.description,onSave:e=>{H.updateProject(i.category,i.id,{longDescription:e}),a({...i,longDescription:e})},className:`project-description-text`,type:`textarea`,multiline:!0,rows:4})]}),(0,U.jsxs)(`div`,{className:`project-technologies`,children:[(0,U.jsx)(`h2`,{children:`Используемые технологии`}),(0,U.jsxs)(`div`,{className:`technologies-list`,children:[(i.technologies||[]).map((e,t)=>(0,U.jsx)(W,{value:e,onSave:e=>{let n=[...i.technologies||[]];n[t]=e,H.updateProject(i.category,i.id,{technologies:n}),a({...i,technologies:n})},className:`technology-tag`},t)),(0,U.jsx)(G,{onAdd:e=>{let t=[...i.technologies||[],e];H.updateProject(i.category,i.id,{technologies:t}),a({...i,technologies:t})},placeholder:`Новая технология...`,className:`technologies-add-btn`})]})]}),(0,U.jsxs)(`div`,{className:`project-links`,children:[(0,U.jsx)(`h2`,{children:`Ссылки`}),(0,U.jsxs)(`div`,{className:`links-list`,children:[(0,U.jsxs)(`div`,{className:`link-item`,children:[(0,U.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,U.jsx)(`path`,{d:`M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22`})}),(0,U.jsxs)(`div`,{className:`link-content`,children:[i.githubUrl?(0,U.jsx)(W,{value:i.githubUrl,onSave:e=>{H.updateProject(i.category,i.id,{githubUrl:e}),a({...i,githubUrl:e})},className:`link-url`,placeholder:`https://github.com/...`}):(0,U.jsx)(G,{onAdd:e=>{H.updateProject(i.category,i.id,{githubUrl:e}),a({...i,githubUrl:e})},placeholder:`https://github.com/...`,className:`link-add-btn`}),(0,U.jsx)(`span`,{className:`link-label`,children:`GitHub репозиторий`})]})]}),(0,U.jsxs)(`div`,{className:`link-item`,children:[(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`path`,{d:`M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6`}),(0,U.jsx)(`polyline`,{points:`15,3 21,3 21,9`}),(0,U.jsx)(`line`,{x1:`10`,y1:`14`,x2:`21`,y2:`3`})]}),(0,U.jsxs)(`div`,{className:`link-content`,children:[i.websiteUrl?(0,U.jsx)(W,{value:i.websiteUrl,onSave:e=>{H.updateProject(i.category,i.id,{websiteUrl:e}),a({...i,websiteUrl:e})},className:`link-url`,placeholder:`https://demo.example.com`}):(0,U.jsx)(G,{onAdd:e=>{H.updateProject(i.category,i.id,{websiteUrl:e}),a({...i,websiteUrl:e})},placeholder:`https://demo.example.com`,className:`link-add-btn`}),(0,U.jsx)(`span`,{className:`link-label`,children:`Website`})]})]})]})]})]})]})}),p&&(0,U.jsx)(`div`,{className:`image-modal`,onClick:S,children:(0,U.jsx)(`div`,{className:`image-modal__overlay`,children:(0,U.jsxs)(`div`,{className:`image-modal__content`,onClick:e=>e.stopPropagation(),children:[(0,U.jsx)(`button`,{className:`image-modal__close`,onClick:S,children:(0,U.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,U.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,U.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})}),i?.images&&i.images.length>1&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(`button`,{className:`image-modal__nav image-modal__nav--prev`,onClick:T,disabled:h===0,children:(0,U.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,U.jsx)(`polyline`,{points:`15,18 9,12 15,6`})})}),(0,U.jsx)(`button`,{className:`image-modal__nav image-modal__nav--next`,onClick:C,disabled:h===i.images.length-1,children:(0,U.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,U.jsx)(`polyline`,{points:`9,18 15,12 9,6`})})})]}),(0,U.jsx)(`img`,{src:p,alt:`${i?.title} - изображение ${h+1}`,className:`image-modal__image`,style:{transform:`scale(${_}) translate(${y.x}px, ${y.y}px)`,transformOrigin:`center center`,transition:`transform 0.1s ease-out`}}),i?.images&&i.images.length>1&&(0,U.jsxs)(`div`,{className:`image-modal__counter`,children:[h+1,` / `,i.images.length]}),_!==1&&(0,U.jsxs)(`div`,{className:`image-modal__zoom`,children:[Math.round(_*100),`%`]})]})})})]})}),_e=f(()=>(0,U.jsx)(c,{children:(0,U.jsxs)(i,{children:[(0,U.jsx)(a,{path:`/`,element:(0,U.jsx)(se,{})}),(0,U.jsx)(a,{path:`/resume/edit/:resumeId`,element:(0,U.jsx)(le,{})}),(0,U.jsx)(a,{path:`/main/:resumeId`,element:(0,U.jsx)(fe,{})}),(0,U.jsx)(a,{path:`/main/:resumeId/projects/:category`,element:(0,U.jsx)(he,{})}),(0,U.jsx)(a,{path:`/main/:resumeId/project/:projectId`,element:(0,U.jsx)(ge,{})}),(0,U.jsx)(a,{path:`*`,element:(0,U.jsx)(o,{to:`/`,replace:!0})})]})})),ve=f(()=>(0,U.jsx)(_e,{}));(0,O.createRoot)(document.getElementById(`root`)).render((0,U.jsx)(k.StrictMode,{children:(0,U.jsx)(ve,{})}));