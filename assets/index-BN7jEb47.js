import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{A as t,D as n,F as r,I as i,L as a,M as o,N as s,O as c,P as l,_ as u,a as d,c as f,d as p,f as m,g as h,h as g,i as _,j as v,k as y,l as b,m as x,n as S,o as C,p as w,r as T,s as E,t as ee,u as te}from"./react-vendor-CTM8s7FM.js";import{i as ne,o as D}from"./mobx-vendor-6Io-QZit.js";import{t as O}from"./utils-vendor-CCgx0DNS.js";import{a as k,c as re,i as ie,l as ae,n as oe,o as se,r as ce,s as le,t as ue,u as de}from"./firebase-vendor-DjbcDng5.js";import{i as A,n as j,r as fe,t as pe}from"./swiper-vendor-D5ISoirw.js";(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var me=e(i()),M=e(a()),N=`admin_token`;const P=new class{constructor(){this.user={role:`user`,isAuthenticated:!1},this.loginModalOpen=!1,this.loadAuthState=()=>{try{localStorage.getItem(N)===`admin_authenticated`&&(this.user={role:`admin`,isAuthenticated:!0})}catch(e){console.error(`Failed to load auth state:`,e)}},this.saveAuthState=()=>{try{this.user.role===`admin`&&this.user.isAuthenticated?localStorage.setItem(N,`admin_authenticated`):localStorage.removeItem(N)}catch(e){console.error(`Failed to save auth state:`,e)}},this.openLoginModal=()=>{this.loginModalOpen=!0},this.closeLoginModal=()=>{this.loginModalOpen=!1},this.login=e=>{this.user={role:e,isAuthenticated:!0},this.saveAuthState(),this.loginModalOpen=!1},this.logout=()=>{this.user={role:`user`,isAuthenticated:!1},this.saveAuthState(),this.loginModalOpen=!1},this.isAdmin=()=>this.user.role===`admin`&&this.user.isAuthenticated,ne(this),this.loadAuthState()}};var F=de({apiKey:`AIzaSyBTPDd82JYfMuvGDoFqVdsPx2ZN6-kUHqM`,authDomain:`tiodio324-4a8fa.firebaseapp.com`,databaseURL:`https://tiodio324-4a8fa-default-rtdb.firebaseio.com`,projectId:`tiodio324-4a8fa`,storageBucket:`tiodio324-4a8fa.firebasestorage.app`,messagingSenderId:`256080690383`,appId:`1:256080690383:web:263ffc95aed6fe465bcbba`});const I=ce(F);ue(F);const he=re(F);var L=class{static async getData(e){let t=k(I,e);return new Promise(e=>{ie(t,t=>{e(t.val())},{onlyOnce:!0})})}static async setData(e,t){let n=k(I,e);await se(n,t)}static async updateData(e,t){let n=k(I,e);await le(n,t)}static async getSnapshot(e){let t=k(I,e);return(await oe(t)).val()}};const R=()=>({id:``,name:``,profession:``,slogan:``,specialization:``,grade:null,avatar:we,email:``,phone:``,location:``,bio:``,skills:[],experience:[],education:[],courses:[],certifications:[],tests:[],languages:[],desiredSalary:null,desiredSalaryUnit:`₽/мес`,additionalPhones:[],employmentType:[],businessTrips:null,jobSearchRegions:[],birthDate:``,petProjects:[],personalProjects:[],commercialProjects:[],recommendations:[],contactInfo:{email:``,phone:``,telegram:``},visible:!0}),ge=e=>e.reduce((e,t)=>{let n=new Date(t.startDate),r=t.isCurrentJob?new Date:new Date(t.endDate||t.startDate);if(isNaN(n.getTime())||isNaN(r.getTime()))return e;let i=(r.getFullYear()-n.getFullYear())*12+(r.getMonth()-n.getMonth());return e+Math.max(0,i)},0),_e=e=>{if(e<=0)return`Нет опыта`;let t=Math.floor(e/12),n=e%12,r=ve(t),i=ye(n);return t===0?i:n===0?r:`${r} ${i}`};var ve=e=>e%10==1&&e%100!=11?`${e} год`:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?`${e} года`:`${e} лет`,ye=e=>e===1?`1 месяц`:e>=2&&e<=4?`${e} месяца`:`${e} месяцев`;const be=e=>{if(!e)return null;let t=new Date(e),n=new Date;if(isNaN(t.getTime()))return null;let r=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth();return(i<0||i===0&&n.getDate()<t.getDate())&&r--,r},xe=e=>e===null||e<0?``:e%10==1&&e%100!=11?`${e} год`:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?`${e} года`:`${e} лет`,Se=e=>{switch(e){case`Завершён`:return`#4CAF50`;case`В разработке`:return`#2196F3`;case`На доработке`:return`#FF9800`;case`Заморожен`:return`#9E9E9E`;case`Заброшен`:return`#F44336`;case`В ожидании`:return`#9C27B0`;default:return`#666666`}},Ce=e=>{switch(e){case`Завершён`:return`Проект завершён`;case`В разработке`:return`Проект в разработке`;case`На доработке`:return`Проект на доработке`;case`Заморожен`:return`Проект заморожен`;case`Заброшен`:return`Проект заброшен`;case`В ожидании`:return`Проект в ожидании`;default:return e}},we=`data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBmaWxsPSIjMzMzIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iMzgiIHI9IjEyIiBmaWxsPSIjZmZmIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNjIiIHI9IjE4IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPg==`,z=e=>e&&e.trim()!==``?e:we,B=e=>{if(!e||typeof e!=`string`)return``;let t=e.trim();if(!t)return``;let n=t.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/),r=t.match(/^(\d{1,2})\.(\d{4})$/);if(n){let e=parseInt(n[1],10),t=parseInt(n[2],10),r=parseInt(n[3],10);if(e<1||e>31||t<1||t>12||r<1900||r>2100)return``;let i=new Date(r,t-1,e);return isNaN(i.getTime())?``:i.toISOString()}else if(r){let e=parseInt(r[1],10),t=parseInt(r[2],10);if(e<1||e>12||t<1900||t>2100)return``;let n=new Date(t,e-1,1);return isNaN(n.getTime())?``:n.toISOString()}return``},V=(e,t=`full`)=>{if(!e)return``;let n=new Date(e);if(isNaN(n.getTime()))return``;let r=n.getDate(),i=n.getMonth()+1,a=n.getFullYear();return t===`month`?`${i.toString().padStart(2,`0`)}.${a}`:`${r.toString().padStart(2,`0`)}.${i.toString().padStart(2,`0`)}.${a}`},Te=(e,t,n)=>{let r=new Date(e);if(isNaN(r.getTime()))return``;let i=r.toLocaleDateString(`ru-RU`,{month:`short`,year:`numeric`});if(n)return`${i} - н. в.`;if(t){let e=new Date(t);if(!isNaN(e.getTime())){let t=e.toLocaleDateString(`ru-RU`,{month:`short`,year:`numeric`});return`${i} - ${t}`}}return`${i} - н. в.`},H=(e,t=`₽/мес`)=>!e||e===null?``:`${e.toLocaleString()} ${t}`,Ee=e=>{if(!e||typeof e!=`string`)return null;let t=e.replace(/[^\d]/g,``);if(!t)return null;let n=parseInt(t,10);return isNaN(n)?null:n},De=e=>{if(!e||e===null)return``;let t=e.filter(e=>e.isCurrentJob===!0).map(e=>!e.salary||e.salary===null?0:e.salaryUnit===`₽/мес`?e.salary:e.salaryUnit===`₽/час`&&typeof e.monthlyHours==`number`&&e.monthlyHours>0?e.salary*e.monthlyHours:0).reduce((e,t)=>e+t,0);return t===0?`Не указан`:`${t.toLocaleString()} ₽/мес`},Oe=e=>e.map(e=>({...e,technologies:Array.isArray(e.technologies)?e.technologies:[]})),U=new class{constructor(){this.resumeList=[],this.currentResume=null,this.loading=!1,this.error=null,this.loadResumeList=async()=>{try{D(()=>{this.loading=!0,this.error=null});let e=await L.getData(`/resume-list`);D(()=>{if(e){let t=Object.entries(e).map(([e,t])=>({id:e,...t}));this.resumeList=Array.from(new Map(t.map(e=>[e.id,e])).values())}else this.resumeList=[];this.loading=!1})}catch(e){D(()=>{this.error=e instanceof Error?e.message:`Failed to load resume list`,this.loading=!1})}},this.loadResume=async e=>{try{D(()=>{this.loading=!0,this.error=null});let t=await L.getData(`/resumes/${e}`),n=await L.getData(`/resumes/${e}/petProjects`)??{},r=await L.getData(`/resumes/${e}/personalProjects`)??{},i=await L.getData(`/resumes/${e}/commercialProjects`)??{};D(()=>{if(t){let a=R(),o=Object.values(n||{}).map(e=>({...e,updatedAt:e.updatedAt||new Date().toISOString()})).sort((e,t)=>(e.order??1/0)-(t.order??1/0)),s=Object.values(r||{}).map(e=>({...e,updatedAt:e.updatedAt||new Date().toISOString()})).sort((e,t)=>(e.order??1/0)-(t.order??1/0)),c=Object.values(i||{}).map(e=>({...e,updatedAt:e.updatedAt||new Date().toISOString()})).sort((e,t)=>(e.order??1/0)-(t.order??1/0)),{petProjects:l,personalProjects:u,commercialProjects:d,...f}=t;this.currentResume={...a,...f,id:e,experience:f.experience?Oe(f.experience):[],petProjects:o,personalProjects:s,commercialProjects:c,contactInfo:{...a.contactInfo,...f.contactInfo}}}else this.currentResume=null;this.loading=!1})}catch(e){D(()=>{this.error=e instanceof Error?e.message:`Failed to load resume`,this.loading=!1})}},this.loadResumeForEdit=async e=>{try{let t=await L.getData(`/resumes/${e}`);if(t){let n=await L.getData(`/resumes/${e}/petProjects`)??{},r=await L.getData(`/resumes/${e}/personalProjects`)??{},i=await L.getData(`/resumes/${e}/commercialProjects`)??{},a=R(),o=Object.values(n||{}).map(e=>({...e,updatedAt:e.updatedAt||new Date().toISOString()})).sort((e,t)=>(e.order??1/0)-(t.order??1/0)),s=Object.values(r||{}).map(e=>({...e,updatedAt:e.updatedAt||new Date().toISOString()})).sort((e,t)=>(e.order??1/0)-(t.order??1/0)),c=Object.values(i||{}).map(e=>({...e,updatedAt:e.updatedAt||new Date().toISOString()})).sort((e,t)=>(e.order??1/0)-(t.order??1/0)),{petProjects:l,personalProjects:u,commercialProjects:d,...f}=t;return{...a,...f,id:e,experience:f.experience?Oe(f.experience):[],petProjects:o,personalProjects:s,commercialProjects:c,contactInfo:{...a.contactInfo,...f.contactInfo}}}return null}catch(e){return console.error(`Failed to load resume for edit:`,e),null}},this.getFeaturedProjects=()=>this.currentResume?[...this.currentResume.petProjects,...this.currentResume.personalProjects,...this.currentResume.commercialProjects].filter(e=>e.featured).sort((e,t)=>e.order!==void 0&&t.order!==void 0?e.order-t.order:e.order===void 0?t.order===void 0?new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime():1:-1):[],this.getLatestProjects=(e=6)=>this.currentResume?[...this.currentResume.petProjects,...this.currentResume.personalProjects,...this.currentResume.commercialProjects].slice().sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime()).slice(0,e):[],this.getProjectsByCategory=e=>{if(!this.currentResume)return[];let t=[];switch(e){case`pet`:t=this.currentResume.petProjects;break;case`personal`:t=this.currentResume.personalProjects;break;case`commercial`:t=this.currentResume.commercialProjects;break;default:return[]}return t.slice().sort((e,t)=>e.order!==void 0&&t.order!==void 0?e.order-t.order:e.order===void 0?t.order===void 0?new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime():1:-1)},this.updateProject=async(e,t,n)=>{if(!this.currentResume)return;let r=`${e}Projects`,i=this.currentResume[r],a=i.findIndex(e=>e.id===t);if(a!==-1)try{let o=!n.startDate||!n.endDate||!n.status,s={...i[a],...n,...o&&{updatedAt:new Date().toISOString()}},c=i.map(e=>e.id===t?s:e),l={...this.currentResume,[r]:c};await L.setData(`/resumes/${this.currentResume.id}/${e}Projects/${t}`,s),D(()=>{this.currentResume=l})}catch(e){D(()=>{this.error=e instanceof Error?e.message:`Failed to update project`})}},this.updateResumeField=async(e,t)=>{if(this.currentResume)try{let n={...this.currentResume,[e]:t};if(e===`petProjects`||e===`personalProjects`||e===`commercialProjects`){let n=t,r=e.replace(`Projects`,``);for(let e of n)await L.setData(`/resumes/${this.currentResume.id}/${r}Projects/${e.id}`,e)}else{let n={[e]:t};await L.updateData(`/resumes/${this.currentResume.id}`,n)}if(e===`name`||e===`profession`||e===`avatar`){let e={name:n.name,profession:n.profession,avatar:n.avatar};await L.setData(`/resume-list/${this.currentResume.id}`,e),D(()=>{let t=this.resumeList.findIndex(e=>e.id===this.currentResume.id);t===-1?this.resumeList.push({id:this.currentResume.id,...e}):this.resumeList[t]={id:this.currentResume.id,...e},this.resumeList=Array.from(new Map(this.resumeList.map(e=>[e.id,e])).values())})}D(()=>{this.currentResume=n})}catch(e){D(()=>{this.error=e instanceof Error?e.message:`Failed to update resume`})}},this.setData=async(e,t)=>{await L.setData(e,t)},this.saveResume=async e=>{try{D(()=>{this.loading=!0,this.error=null});let t={...e,petProjects:[],personalProjects:[],commercialProjects:[]};await L.setData(`/resumes/${e.id}`,t);for(let t of[`pet`,`personal`,`commercial`]){let n=e[`${t}Projects`];if(n&&n.length>0)for(let r of n)await L.setData(`/resumes/${e.id}/${t}Projects/${r.id}`,r)}let n={id:e.id,name:e.name,profession:e.profession,avatar:e.avatar};await L.setData(`/resume-list/${e.id}`,n),D(()=>{let t=this.resumeList.findIndex(t=>t.id===e.id);t===-1?this.resumeList.push(n):this.resumeList[t]=n,this.resumeList=Array.from(new Map(this.resumeList.map(e=>[e.id,e])).values()),this.loading=!1})}catch(e){throw D(()=>{this.error=e instanceof Error?e.message:`Failed to save resume`,this.loading=!1}),e}},ne(this)}};new class{constructor(){this.authStore=P,this.resumeStore=U}};const W=new class{isAdmin(){return P.isAdmin()}async logEventToFirebase(e,t){if(!this.isAdmin())try{he&&ae(he,e,t)}catch(e){console.error(`Error logging event to Firebase Analytics: `,e)}}async saveEventToDatabase(e){if(!this.isAdmin())try{let t=`event_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;await L.setData(`/analytics/events/${t}`,e)}catch(e){console.error(`Error saving event to database: `,e)}}async logPageView(e,t){let n={eventType:`page_view`,timestamp:Date.now(),pagePath:e,pageTitle:t||e};await Promise.all([this.logEventToFirebase(`page_view`,{page_path:e,page_title:t||e}),this.saveEventToDatabase(n)])}async logResumeView(e,t){if(this.isAdmin())return;let n={eventType:`resume_view`,timestamp:Date.now(),resumeId:e,resumeName:t},r={resumeId:e,resumeName:t,timestamp:Date.now()};await Promise.all([this.logEventToFirebase(`resume_view`,{resume_id:e,resume_name:t}),this.saveEventToDatabase(n),L.setData(`/analytics/resumeViews/${e}/${Date.now()}`,r)])}async logResumeSelect(e,t){if(this.isAdmin())return;let n={eventType:`resume_select`,timestamp:Date.now(),resumeId:e,resumeName:t};await Promise.all([this.logEventToFirebase(`resume_select`,{resume_id:e,resume_name:t}),this.saveEventToDatabase(n)])}async logProjectView(e,t,n){if(this.isAdmin())return;let r={eventType:`project_view`,timestamp:Date.now(),projectId:e,projectTitle:t,resumeId:n},i={projectId:e,projectTitle:t,resumeId:n,timestamp:Date.now()};await Promise.all([this.logEventToFirebase(`project_view`,{project_id:e,project_title:t,resume_id:n}),this.saveEventToDatabase(r),L.setData(`/analytics/projectViews/${e}/${Date.now()}`,i)])}async logPerformanceMetric(e){if(this.isAdmin())return;let t={eventType:`performance_metric`,timestamp:e.timestamp,pagePath:e.pagePath,loadTime:e.loadTime,domContentLoaded:e.domContentLoaded,firstPaint:e.firstPaint,firstContentfulPaint:e.firstContentfulPaint};await Promise.all([this.logEventToFirebase(`performance_metric`,{page_path:e.pagePath,load_time:e.loadTime,dom_content_loaded:e.domContentLoaded,first_paint:e.firstPaint,first_contentful_paint:e.firstContentfulPaint}),this.saveEventToDatabase(t),L.setData(`/analytics/performance/${e.timestamp}`,e)])}async getResumeViews(){try{let e=await L.getData(`/analytics/resumeViews`);if(!e)return[];let t=[];for(let n in e)for(let r in e[n])t.push(e[n][r]);return t.sort((e,t)=>t.timestamp-e.timestamp)}catch(e){return console.error(`Error getting resume views: `,e),[]}}async getProjectViews(){try{let e=await L.getData(`/analytics/projectViews`);if(!e)return[];let t=[];for(let n in e)for(let r in e[n])t.push(e[n][r]);return t.sort((e,t)=>t.timestamp-e.timestamp)}catch(e){return console.error(`Error getting project views: `,e),[]}}async getPerformanceMetrics(){try{let e=await L.getData(`/analytics/performance`);return e?Object.values(e).sort((e,t)=>t.timestamp-e.timestamp):[]}catch(e){return console.error(`Error getting performance metrics: `,e),[]}}async getResumeViewStats(){let e=await this.getResumeViews(),t={};return e.forEach(e=>{t[e.resumeId]||(t[e.resumeId]={count:0,name:e.resumeName,views:[]}),t[e.resumeId].count++,t[e.resumeId].views.push(e)}),t}async getProjectViewStats(){let e=await this.getProjectViews(),t={};return e.forEach(e=>{t[e.projectId]||(t[e.projectId]={title:e.projectTitle,resumeId:e.resumeId,count:0,views:[]}),t[e.projectId].count++,t[e.projectId].views.push(e)}),Object.entries(t).map(([e,t])=>({id:e,...t})).sort((e,t)=>t.count-e.count)}async logContactClick(e,t){if(this.isAdmin())return;let n={eventType:`contact_click`,timestamp:Date.now(),resumeId:t,contactType:e},r={contactType:e,resumeId:t,timestamp:Date.now()};await Promise.all([this.logEventToFirebase(`contact_click`,{contact_type:e,resume_id:t}),this.saveEventToDatabase(n),L.setData(`/analytics/contactClicks/${t}/${e}/${Date.now()}`,r)])}async getContactClicks(){try{let e=await L.getData(`/analytics/contactClicks`);if(!e)return[];let t=[];for(let n in e)for(let r in e[n])for(let i in e[n][r])t.push(e[n][r][i]);return t.sort((e,t)=>t.timestamp-e.timestamp)}catch(e){return console.error(`Error getting contact clicks: `,e),[]}}async cleanupOldData(){try{let e=Date.now()-365*24*60*60*1e3,t=await L.getData(`/analytics/resumeViews`);if(t)for(let n in t)for(let r in t[n])parseInt(r)<e&&await L.setData(`/analytics/resumeViews/${n}/${r}`,null);let n=await L.getData(`/analytics/projectViews`);if(n)for(let t in n)for(let r in n[t])parseInt(r)<e&&await L.setData(`/analytics/projectViews/${t}/${r}`,null);let r=await L.getData(`/analytics/performance`);if(r)for(let t in r)parseInt(t)<e&&await L.setData(`/analytics/performance/${t}`,null);let i=await L.getData(`/analytics/contactClicks`);if(i)for(let t in i)for(let n in i[t])for(let r in i[t][n])parseInt(r)<e&&await L.setData(`/analytics/contactClicks/${t}/${n}/${r}`,null);let a=await L.getData(`/analytics/events`);if(a)for(let t in a)a[t].timestamp<e&&await L.setData(`/analytics/events/${t}`,null)}catch(e){console.error(`Error cleaning up old data: `,e)}}};var G=e(c()),ke=r(()=>{let e=s(),t=`K9@vN5_GDJkd-fDf3=24@`;(0,M.useEffect)(()=>{U.loadResumeList(),W.logPageView(`/myResume/`,`Выбор резюме`)},[]);let n=U.resumeList.filter(e=>P.isAdmin()||e.visible),r=async t=>{await U.loadResume(t);let n=U.resumeList.find(e=>e.id===t);n&&(await W.logResumeView(t,n.name),await W.logResumeSelect(t,n.name)),e(`/myResume/main/${t}`)},i=()=>{P.openLoginModal()},a=async t=>{try{if(await U.loadResume(t),U.currentResume){let t={...U.currentResume,id:`resume_${O()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await U.saveResume(t),U.currentResume=null,e(`/myResume/resume/edit/${t.id}`)}}catch(e){console.error(`Ошибка при дублировании резюме:`,e),alert(`Ошибка при дублировании резюме`)}};return U.loading?(0,G.jsx)(`div`,{className:`resume-selection`,children:(0,G.jsxs)(`div`,{className:`loading`,children:[(0,G.jsx)(`div`,{className:`spinner`}),(0,G.jsx)(`p`,{children:`Оптимизация покинула чат...`})]})}):U.error?(0,G.jsx)(`div`,{className:`resume-selection`,children:(0,G.jsxs)(`div`,{className:`error`,children:[(0,G.jsxs)(`p`,{children:[`Ошибка загрузки: `,U.error]}),(0,G.jsx)(`button`,{onClick:()=>U.loadResumeList(),children:`Попробовать снова`})]})}):(0,G.jsxs)(`div`,{className:`resume-selection`,children:[(0,G.jsxs)(`div`,{className:`resume-selection__container`,children:[(0,G.jsxs)(`header`,{className:`resume-selection__header`,children:[(0,G.jsx)(`h1`,{className:`resume-selection__title`,children:`Выберите резюме`}),(0,G.jsx)(`p`,{className:`resume-selection__subtitle`,children:`Выберите интересующее вас резюме для просмотра портфолио`})]}),(0,G.jsx)(`div`,{className:`resume-selection__grid`,children:n.length>0?(0,G.jsxs)(G.Fragment,{children:[n.map(t=>(0,G.jsxs)(`div`,{className:`resume-card`,onClick:()=>r(t.id),children:[(0,G.jsx)(`div`,{className:`resume-card__avatar`,children:(0,G.jsx)(`img`,{src:z(t.avatar),alt:`${t.name} avatar`,className:`resume-card__avatar-img`})}),(0,G.jsxs)(`div`,{className:`resume-card__info`,children:[(0,G.jsx)(`h3`,{className:`resume-card__name`,children:t.name}),(0,G.jsx)(`p`,{className:`resume-card__profession`,children:t.profession}),P.isAdmin()&&!t.visible&&(0,G.jsx)(`span`,{className:`resume-card__status resume-card__status--hidden`,children:`Скрыто`})]}),(0,G.jsx)(`div`,{className:`resume-card__overlay`,children:(0,G.jsx)(`span`,{className:`resume-card__select-text`,children:`Выбрать`})}),P.isAdmin()&&(0,G.jsxs)(`div`,{className:`resume-card__admin-actions`,children:[(0,G.jsx)(`button`,{className:`resume-card__duplicate-btn`,onClick:e=>{e.stopPropagation(),a(t.id)},title:`Дублировать резюме`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`path`,{d:`M8 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-3`}),(0,G.jsx)(`path`,{d:`M19 9V6a2 2 0 0 0-2-2H14`}),(0,G.jsx)(`line`,{x1:`12`,y1:`12`,x2:`20`,y2:`4`})]})}),(0,G.jsx)(`button`,{className:`resume-card__edit-btn`,onClick:n=>{n.stopPropagation(),e(`/myResume/resume/edit/${t.id}`)},title:`Редактировать резюме`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`path`,{d:`M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7`}),(0,G.jsx)(`path`,{d:`M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z`})]})})]})]},t.id)),P.isAdmin()&&(0,G.jsxs)(`div`,{className:`resume-card resume-card--add`,onClick:()=>e(`/myResume/resume/edit/new`),children:[(0,G.jsx)(`div`,{className:`resume-card__avatar resume-card__avatar--add`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`line`,{x1:`12`,y1:`5`,x2:`12`,y2:`19`}),(0,G.jsx)(`line`,{x1:`5`,y1:`12`,x2:`19`,y2:`12`})]})}),(0,G.jsxs)(`div`,{className:`resume-card__info`,children:[(0,G.jsx)(`h3`,{className:`resume-card__name`,children:`Добавить резюме`}),(0,G.jsx)(`p`,{className:`resume-card__profession`,children:`Создать новое портфолио`})]}),(0,G.jsx)(`div`,{className:`resume-card__overlay`,children:(0,G.jsx)(`span`,{className:`resume-card__select-text`,children:`Создать`})})]})]}):P.isAdmin()?(0,G.jsxs)(`div`,{className:`resume-card resume-card--add`,onClick:()=>e(`/myResume/resume/edit/new`),children:[(0,G.jsx)(`div`,{className:`resume-card__avatar resume-card__avatar--add`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`line`,{x1:`12`,y1:`5`,x2:`12`,y2:`19`}),(0,G.jsx)(`line`,{x1:`5`,y1:`12`,x2:`19`,y2:`12`})]})}),(0,G.jsxs)(`div`,{className:`resume-card__info`,children:[(0,G.jsx)(`h3`,{className:`resume-card__name`,children:`Добавить резюме`}),(0,G.jsx)(`p`,{className:`resume-card__profession`,children:`Создать новое портфолио`})]}),(0,G.jsx)(`div`,{className:`resume-card__overlay`,children:(0,G.jsx)(`span`,{className:`resume-card__select-text`,children:`Создать`})})]}):(0,G.jsxs)(`div`,{className:`resume-selection__empty`,children:[(0,G.jsx)(`div`,{className:`resume-selection__empty-icon`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`path`,{d:`M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z`}),(0,G.jsx)(`polyline`,{points:`14,2 14,8 20,8`}),(0,G.jsx)(`line`,{x1:`16`,y1:`13`,x2:`8`,y2:`13`}),(0,G.jsx)(`line`,{x1:`16`,y1:`17`,x2:`8`,y2:`17`}),(0,G.jsx)(`polyline`,{points:`10,9 9,9 8,9`})]})}),(0,G.jsx)(`h3`,{className:`resume-selection__empty-title`,children:`Резюме не найдено`}),(0,G.jsx)(`p`,{className:`resume-selection__empty-description`,children:`Пока нет доступных резюме для просмотра`})]})}),(0,G.jsxs)(`div`,{className:`resume-selection__actions`,children:[P.isAdmin()&&(0,G.jsx)(`button`,{className:`analytics-button`,onClick:()=>e(`/myResume/analytics`),title:`Аналитика`,children:(0,G.jsxs)(`svg`,{className:`analytics-icon`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`path`,{d:`M3 3v18h18`}),(0,G.jsx)(`path`,{d:`M18 7l-5 5-4-4-6 6`})]})}),(0,G.jsx)(`button`,{className:`login-button`,onClick:i,title:`Войти в админ-панель`,children:(0,G.jsxs)(`svg`,{className:`login-icon`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`path`,{d:`M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2`}),(0,G.jsx)(`circle`,{cx:`12`,cy:`7`,r:`4`})]})})]})]}),P.loginModalOpen&&(0,G.jsx)(`div`,{className:`login-modal-overlay`,onClick:P.closeLoginModal,children:(0,G.jsxs)(`div`,{className:`login-modal`,onClick:e=>e.stopPropagation(),children:[(0,G.jsxs)(`div`,{className:`login-modal__header`,children:[(0,G.jsx)(`h2`,{children:`Вход в админ-панель`}),(0,G.jsx)(`button`,{className:`login-modal__close`,onClick:P.closeLoginModal,children:`×`})]}),(0,G.jsxs)(`form`,{className:`login-modal__form`,onSubmit:e=>{e.preventDefault();let n=new FormData(e.currentTarget),r=n.get(`username`),i=n.get(`password`);r===`admin`&&typeof t==`string`&&t!==``&&i===t?(P.login(`admin`),alert(`Успешный вход в админ-панель!`)):alert(`Неверный логин или пароль`)},children:[(0,G.jsxs)(`div`,{className:`login-modal__field`,children:[(0,G.jsx)(`label`,{htmlFor:`username`,children:`Логин`}),(0,G.jsx)(`input`,{type:`text`,id:`username`,name:`username`,defaultValue:`admin`,required:!0})]}),(0,G.jsxs)(`div`,{className:`login-modal__field`,children:[(0,G.jsx)(`label`,{htmlFor:`password`,children:`Пароль`}),(0,G.jsx)(`input`,{type:`password`,id:`password`,name:`password`,required:!0})]}),(0,G.jsx)(`button`,{type:`submit`,className:`login-modal__submit`,children:`Войти`})]})]})})]})}),K=e(n()),q=r(({value:e,onSave:t,type:n=`input`,placeholder:r=``,className:i=``,multiline:a=!1,rows:o=3,linkType:s})=>{let[c,l]=(0,M.useState)(!1),[u,d]=(0,M.useState)(e),f=(0,M.useRef)(null),p=(0,M.useRef)(r);(0,M.useEffect)(()=>{r===``&&P.isAdmin()&&(p.current=`Введите текст...`)},[r]),(0,M.useEffect)(()=>{d(e)},[e]),(0,M.useEffect)(()=>{c&&f.current&&(f.current.focus(),f.current instanceof HTMLInputElement&&f.current.type===`text`&&f.current.select())},[c]);let m=e=>{e?.preventDefault(),e?.stopPropagation(),P.isAdmin()&&l(!0)},h=e=>{e?.preventDefault(),e?.stopPropagation(),t(u),l(!1)},g=t=>{t?.preventDefault(),t?.stopPropagation(),d(e),l(!1)},_=e=>{e.key===`Enter`&&!a?h():e.key===`Escape`&&g()};return P.isAdmin()?(0,G.jsx)(`div`,{className:`editable-field ${i} ${c?`editable-field--editing`:``}`,children:c?(0,G.jsxs)(`div`,{className:`editable-field__edit-container`,children:[n===`textarea`||a?(0,G.jsx)(`textarea`,{ref:f,value:u,onChange:e=>d(e.target.value),onKeyDown:_,onClick:e=>{e.preventDefault(),e.stopPropagation()},placeholder:p.current,rows:o,className:`editable-field__textarea`}):(0,G.jsx)(`input`,{ref:f,type:`text`,value:u,onChange:e=>d(e.target.value),onKeyDown:_,onClick:e=>{e.preventDefault(),e.stopPropagation()},placeholder:p.current,className:`editable-field__input`}),(0,G.jsxs)(`div`,{className:`editable-field__actions`,children:[(0,G.jsx)(`button`,{onClick:h,className:`editable-field__save-btn`,title:`Сохранить`,children:(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,G.jsx)(`polyline`,{points:`20,6 9,17 4,12`})})}),(0,G.jsx)(`button`,{onClick:g,className:`editable-field__cancel-btn`,title:`Отменить`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,G.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})})]})]}):(0,G.jsxs)(`div`,{className:`editable-field__display`,onClick:m,children:[s?(0,G.jsx)(`a`,{href:`${s}${e}`,className:`editable-field__value ${n===`textarea`||a?`editable-field__value--textarea`:``}`,onClick:e=>e.stopPropagation(),children:e||(0,G.jsx)(`span`,{className:`editable-field__placeholder`,children:p.current})}):(0,G.jsx)(`span`,{className:`editable-field__value ${n===`textarea`||a?`editable-field__value--textarea`:``}`,children:e||(0,G.jsx)(`span`,{className:`editable-field__placeholder`,children:p.current})}),(0,G.jsx)(`button`,{className:`editable-field__edit-btn`,title:`Редактировать`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`path`,{d:`M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7`}),(0,G.jsx)(`path`,{d:`M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z`})]})})]})}):(0,G.jsx)(`div`,{className:`editable-field ${i}`,children:s?(0,G.jsx)(`a`,{href:`${s}${e}`,className:`editable-field__value ${n===`textarea`||a?`editable-field__value--textarea`:``}`,children:e||(0,G.jsx)(`span`,{className:`editable-field__placeholder`,children:p.current})}):(0,G.jsx)(`span`,{className:`editable-field__value ${n===`textarea`||a?`editable-field__value--textarea`:``}`,children:e||(0,G.jsx)(`span`,{className:`editable-field__placeholder`,children:p.current})})})}),J=r(({onAdd:e,placeholder:t=`Введите значение...`,className:n=``,type:r=`input`,maxLength:i=50})=>{let[a,o]=(0,M.useState)(!1),[s,c]=(0,M.useState)(``),l=e=>{e?.preventDefault(),e?.stopPropagation(),P.isAdmin()&&o(!0)},u=t=>{t?.preventDefault(),t?.stopPropagation(),s.trim()&&(e(s.trim()),c(``),o(!1))},d=e=>{e?.preventDefault(),e?.stopPropagation(),c(``),o(!1)},f=e=>{e.key===`Enter`&&!e.shiftKey?u():e.key===`Escape`&&d()};return P.isAdmin()?(0,G.jsx)(`div`,{className:`add-button ${n}`,children:a?(0,G.jsxs)(`div`,{className:`add-button__input-container`,children:[r===`textarea`?(0,G.jsx)(`textarea`,{value:s,onChange:e=>c(e.target.value),onKeyDown:f,onClick:e=>{e.preventDefault(),e.stopPropagation()},placeholder:t,maxLength:i,className:`add-button__textarea`,rows:2,autoFocus:!0}):(0,G.jsx)(`input`,{type:`text`,value:s,onChange:e=>c(e.target.value),onKeyDown:f,onClick:e=>{e.preventDefault(),e.stopPropagation()},placeholder:t,maxLength:i,className:`add-button__input`,autoFocus:!0}),(0,G.jsxs)(`div`,{className:`add-button__actions`,children:[(0,G.jsx)(`button`,{onClick:u,className:`add-button__add-btn`,title:`Добавить`,disabled:!s.trim(),children:(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,G.jsx)(`polyline`,{points:`20,6 9,17 4,12`})})}),(0,G.jsx)(`button`,{onClick:d,className:`add-button__cancel-btn`,title:`Отменить`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,G.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})})]})]}):(0,G.jsx)(`button`,{className:`add-button__trigger`,onClick:l,title:`Добавить новый элемент`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`line`,{x1:`12`,y1:`5`,x2:`12`,y2:`19`}),(0,G.jsx)(`line`,{x1:`5`,y1:`12`,x2:`19`,y2:`12`})]})})}):null}),Y=({onClick:e,className:t=``,title:n=`Удалить`,disabled:r=!1})=>(0,G.jsx)(`button`,{className:`remove-btn ${t}`,onClick:e,disabled:r,title:n,type:`button`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`polyline`,{points:`3,6 5,6 21,6`}),(0,G.jsx)(`path`,{d:`M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2`}),(0,G.jsx)(`line`,{x1:`10`,y1:`11`,x2:`10`,y2:`17`}),(0,G.jsx)(`line`,{x1:`14`,y1:`11`,x2:`14`,y2:`17`})]})}),X=r(({onFileSelect:e,currentValue:t,accept:n=`image/*`,maxSize:r=5,className:i=``,label:a=`Выберите файл`})=>{let o=(0,M.useRef)(null),[s,c]=(0,M.useState)(!1),[l,u]=(0,M.useState)(null);return P.isAdmin()?(0,G.jsxs)(`div`,{className:`file-upload ${i}`,children:[(0,G.jsx)(`div`,{className:`file-upload__preview`,children:t?(0,G.jsx)(`img`,{src:t,alt:`Preview`,className:`file-upload__image`}):(0,G.jsxs)(`div`,{className:`file-upload__placeholder`,children:[(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`,ry:`2`}),(0,G.jsx)(`circle`,{cx:`8.5`,cy:`8.5`,r:`1.5`}),(0,G.jsx)(`polyline`,{points:`21,15 16,10 5,21`})]}),(0,G.jsx)(`span`,{children:`Нет изображения`})]})}),(0,G.jsxs)(`div`,{className:`file-upload__controls`,children:[(0,G.jsx)(`input`,{ref:o,type:`file`,accept:n,onChange:t=>{let n=t.target.files?.[0];if(!n)return;if(n.size>r*1024*1024){u(`Файл слишком большой. Максимальный размер: ${r}MB`);return}u(null),c(!0);let i=new FileReader;i.onload=t=>{let r=t.target?.result;e(r,n.name),c(!1)},i.onerror=()=>{u(`Ошибка при чтении файла`),c(!1)},i.readAsDataURL(n)},className:`file-upload__input`,disabled:s}),(0,G.jsx)(`button`,{type:`button`,className:`file-upload__button`,onClick:()=>{P.isAdmin()&&o.current?.click()},disabled:s,children:s?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(`div`,{className:`file-upload__spinner`}),`Загрузка...`]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`}),(0,G.jsx)(`polyline`,{points:`7,10 12,15 17,10`}),(0,G.jsx)(`line`,{x1:`12`,y1:`15`,x2:`12`,y2:`3`})]}),a]})}),t&&(0,G.jsx)(`button`,{type:`button`,className:`file-upload__remove`,onClick:()=>e(``,``),title:`Удалить изображение`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`polyline`,{points:`3,6 5,6 21,6`}),(0,G.jsx)(`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`}),(0,G.jsx)(`line`,{x1:`10`,y1:`11`,x2:`10`,y2:`17`}),(0,G.jsx)(`line`,{x1:`14`,y1:`11`,x2:`14`,y2:`17`})]})}),l&&(0,G.jsx)(`div`,{className:`file-upload__error`,children:l})]})]}):(0,G.jsx)(`div`,{className:`file-upload ${i}`,children:(0,G.jsx)(`div`,{className:`file-upload__preview`,children:t?(0,G.jsx)(`img`,{src:t,alt:`Preview`,className:`file-upload__image`}):(0,G.jsxs)(`div`,{className:`file-upload__placeholder`,children:[(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`,ry:`2`}),(0,G.jsx)(`circle`,{cx:`8.5`,cy:`8.5`,r:`1.5`}),(0,G.jsx)(`polyline`,{points:`21,15 16,10 5,21`})]}),(0,G.jsx)(`span`,{children:`Нет изображения`})]})})})}),Z=({checked:e=!1,onChange:t,label:n,disabled:r=!1,className:i=``,id:a})=>(0,G.jsxs)(`label`,{className:`checkbox ${i} ${r?`checkbox--disabled`:``}`,htmlFor:a,children:[(0,G.jsx)(`input`,{type:`checkbox`,checked:e,onChange:e=>{t&&t(e.target.checked)},disabled:r,id:a,className:`checkbox__input`}),(0,G.jsx)(`span`,{className:`checkbox__checkmark`}),n&&(0,G.jsx)(`span`,{className:`checkbox__label`,children:n})]}),Q=({value:e,onChange:t,options:n,placeholder:r=`Выберите опцию`,disabled:i=!1,className:a=``,id:o})=>{let[s,c]=(0,M.useState)(!1),[l,u]=(0,M.useState)(``),d=(0,M.useRef)(null);(0,M.useEffect)(()=>{if(e==null||e===``)u(``);else{let t=n.find(t=>t.value===e);u(t?.label||``)}},[e,n]),(0,M.useEffect)(()=>{let e=e=>{d.current&&!d.current.contains(e.target)&&c(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},[]);let f=e=>{t&&t(e),c(!1)};return(0,G.jsxs)(`div`,{className:`select ${a} ${i?`select--disabled`:``}`,ref:d,children:[(0,G.jsxs)(`div`,{className:`select__trigger ${s?`select__trigger--open`:``}`,onClick:()=>{i||c(!s)},id:o,children:[(0,G.jsx)(`span`,{className:`select__value ${l?``:`select__value--placeholder`}`,children:l||r}),(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,className:`select__arrow ${s?`select__arrow--rotated`:``}`,children:(0,G.jsx)(`polyline`,{points:`6,9 12,15 18,9`})})]}),s&&(0,G.jsx)(`div`,{className:`select__dropdown`,children:n.map(t=>(0,G.jsxs)(`div`,{className:`select__option ${t.disabled?`select__option--disabled`:``} ${t.value===e||t.value===``&&e===null?`select__option--selected`:``}`,onClick:()=>!t.disabled&&f(t.value===``?null:t.value),children:[t.label,(t.value===e||t.value===``&&e===null)&&(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,className:`select__check`,children:(0,G.jsx)(`polyline`,{points:`20,6 9,17 4,12`})})]},t.value))})]})},Ae=({isOpen:e,onClose:t,onConfirm:n,title:r,children:i,confirmText:a=`Подтвердить`,cancelText:o=`Отмена`,type:s=`default`})=>((0,M.useEffect)(()=>{let n=e=>{e.key===`Escape`&&t()};return e&&(document.addEventListener(`keydown`,n),document.body.style.overflow=`hidden`),()=>{document.removeEventListener(`keydown`,n),document.body.style.overflow=`unset`}},[e,t]),e?(0,G.jsx)(`div`,{className:`modal-backdrop`,onClick:e=>{e.target===e.currentTarget&&t()},children:(0,G.jsxs)(`div`,{className:`modal`,children:[(0,G.jsxs)(`div`,{className:`modal__header`,children:[(0,G.jsx)(`h2`,{className:`modal__title`,children:r}),(0,G.jsx)(`button`,{className:`modal__close`,onClick:t,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,G.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})})]}),(0,G.jsx)(`div`,{className:`modal__body`,children:i}),(0,G.jsxs)(`div`,{className:`modal__footer`,children:[(0,G.jsx)(`button`,{className:`modal__btn modal__btn--cancel`,onClick:t,children:o}),n&&(0,G.jsx)(`button`,{className:`modal__btn modal__btn--confirm ${s===`danger`?`modal__btn--danger`:``}`,onClick:n,children:a})]})]})}):null),$=({title:e,isVisible:t,onToggle:n})=>(0,G.jsxs)(`div`,{className:`section-header`,children:[(0,G.jsx)(`h2`,{children:e}),(0,G.jsx)(`button`,{className:`section-toggle`,onClick:n,title:t?`Скрыть`:`Показать`,children:(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,className:`section-toggle__icon ${t?`section-toggle__icon--expanded`:``}`,children:(0,G.jsx)(`path`,{d:`M19 9l-7 7-7-7`})})})]}),je=({title:e,isVisible:t,onToggle:n})=>(0,G.jsxs)(`div`,{className:`project-subsection-header`,children:[(0,G.jsx)(`h3`,{children:e}),(0,G.jsx)(`button`,{className:`project-subsection-toggle`,onClick:n,title:t?`Скрыть`:`Показать`,children:(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,className:`project-subsection-toggle__icon ${t?`project-subsection-toggle__icon--expanded`:``}`,children:(0,G.jsx)(`path`,{d:`M19 9l-7 7-7-7`})})})]}),Me=({title:e,isExpanded:t,onToggle:n})=>(0,G.jsxs)(`button`,{className:`project-item-header`,onClick:n,style:{display:`flex`,alignItems:`center`,gap:`8px`,background:`none`,border:`none`,cursor:`pointer`,padding:`0`,font:`inherit`,color:`inherit`,textAlign:`left`,width:`100%`},children:[(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,className:`project-item-toggle__icon ${t?`project-item-toggle__icon--expanded`:``}`,style:{width:`20px`,height:`20px`,flexShrink:0,transition:`transform 0.2s ease`,transform:t?`rotate(0deg)`:`rotate(-90deg)`},children:(0,G.jsx)(`path`,{d:`M19 9l-7 7-7-7`})}),(0,G.jsx)(`span`,{style:{flex:1,fontWeight:500},children:e})]}),Ne=r(()=>{let e=s(),{resumeId:t}=l(),[n,r]=(0,M.useState)(null),[i,a]=(0,M.useState)(!0),[o,c]=(0,M.useState)(!1),[u,d]=(0,M.useState)(!1),[f,p]=(0,M.useState)({skills:!1,experience:!1,recommendations:!1,education:!1,courses:!1,certifications:!1,tests:!1,languages:!1,projects:!1}),[m,h]=(0,M.useState)({petProjects:!1,personalProjects:!1,commercialProjects:!1}),[g,_]=(0,M.useState)({petProjects:new Set,personalProjects:new Set,commercialProjects:new Set}),v=()=>{if(!n)return!1;let e=!!(n.name?.trim()&&n.profession?.trim()&&n.phone?.trim()&&n.contactInfo?.phone?.trim()),t=n.experience.every(e=>e.salaryUnit===`₽/час`?typeof e.monthlyHours==`number`&&e.monthlyHours>=0:!0);return e&&t},y=e=>{if(!n)return!1;let t=n[e];return typeof t==`string`?!t.trim():!t},b=()=>!n||!n.contactInfo?!0:!n.contactInfo.phone?.trim(),x=t===`new`,S=e=>{p(t=>({...t,[e]:!t[e]}))},C=e=>{h(t=>({...t,[e]:!t[e]}))},w=(e,t)=>{_(n=>{let r=new Set(n[e]);return r.has(t)?r.delete(t):r.add(t),{...n,[e]:r}})};return(0,M.useEffect)(()=>{if(!P.isAdmin()){e(`/myResume/`);return}if(x){let e=R();r(e),a(!1)}else U.loadResume(t).then(()=>{U.currentResume?r(U.currentResume):e(`/myResume/`),a(!1)})},[t,x,e]),i?(0,G.jsx)(`div`,{className:`resume-edit`,children:(0,G.jsxs)(`div`,{className:`loading`,children:[(0,G.jsx)(`div`,{className:`spinner`}),(0,G.jsx)(`p`,{children:`Оптимизация покинула чат...`})]})}):n?(0,G.jsxs)(`div`,{className:`resume-edit`,children:[(0,G.jsx)(`nav`,{className:`resume-edit__nav`,children:(0,G.jsxs)(`div`,{className:`nav-container`,children:[(0,G.jsxs)(`button`,{className:`nav__back`,onClick:()=>e(`/myResume/`),children:[(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,G.jsx)(`path`,{d:`M19 12H5M12 19l-7-7 7-7`})}),`Назад`]}),(0,G.jsx)(`h1`,{className:`nav__title`,children:x?`Создание нового резюме`:`Редактирование: ${n.profession}`}),(0,G.jsxs)(`div`,{className:`nav__actions`,children:[!x&&(0,G.jsxs)(`button`,{className:`nav__delete`,onClick:()=>d(!0),disabled:o,title:`Удалить резюме`,children:[(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`polyline`,{points:`3,6 5,6 21,6`}),(0,G.jsx)(`path`,{d:`M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2`}),(0,G.jsx)(`line`,{x1:`10`,y1:`11`,x2:`10`,y2:`17`}),(0,G.jsx)(`line`,{x1:`14`,y1:`11`,x2:`14`,y2:`17`})]}),`Удалить`]}),(0,G.jsx)(`button`,{className:`nav__save`,onClick:async()=>{if(n){c(!0);try{if(x){let e=`resume_${O()}`,t={...n,id:e};await U.loadResumeList();let r={name:t.name,profession:t.profession,avatar:t.avatar,visible:t.visible??!0};await U.setData(`/resume-list/${e}`,r);let i={...t,petProjects:[],personalProjects:[],commercialProjects:[]};await U.setData(`/resumes/${e}`,i);for(let n of t.petProjects)await U.setData(`/resumes/${e}/petProjects/${n.id}`,n);for(let n of t.personalProjects)await U.setData(`/resumes/${e}/personalProjects/${n.id}`,n);for(let n of t.commercialProjects)await U.setData(`/resumes/${e}/commercialProjects/${n.id}`,n)}else{let e={...n,petProjects:[],personalProjects:[],commercialProjects:[]};await U.setData(`/resumes/${n.id}`,e);let t={name:n.name,profession:n.profession,avatar:n.avatar,visible:n.visible??!0};await U.setData(`/resume-list/${n.id}`,t);for(let e of n.petProjects)await U.setData(`/resumes/${n.id}/petProjects/${e.id}`,e);for(let e of n.personalProjects)await U.setData(`/resumes/${n.id}/personalProjects/${e.id}`,e);for(let e of n.commercialProjects)await U.setData(`/resumes/${n.id}/commercialProjects/${e.id}`,e)}e(`/myResume/`)}catch(e){console.error(`Ошибка сохранения резюме:`,e),alert(`Ошибка при сохранении резюме`)}finally{c(!1)}}},disabled:o||!v(),title:v()?``:`Заполните обязательные поля`,children:o?`Сохранение...`:`Сохранить`})]})]})}),(0,G.jsx)(`main`,{className:`resume-edit__content`,children:(0,G.jsxs)(`div`,{className:`container`,children:[(0,G.jsxs)(`section`,{className:`section`,children:[(0,G.jsx)(`h2`,{children:`Базовая информация`}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group ${y(`name`)?`form-group--required`:``}`,children:[(0,G.jsx)(`label`,{className:`form-group__label`,children:`Имя`}),(0,G.jsx)(q,{value:n.name,onSave:e=>r({...n,name:e}),placeholder:`Введите имя`})]}),(0,G.jsxs)(`div`,{className:`form-group ${y(`profession`)?`form-group--required`:``}`,children:[(0,G.jsx)(`label`,{className:`form-group__label`,children:`Профессия`}),(0,G.jsx)(q,{value:n.profession,onSave:e=>r({...n,profession:e}),placeholder:`Frontend Developer`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Email`}),(0,G.jsx)(q,{value:n.email,onSave:e=>r({...n,email:e}),placeholder:`email@example.com`})]}),(0,G.jsxs)(`div`,{className:`form-group ${y(`phone`)?`form-group--required`:``}`,children:[(0,G.jsx)(`label`,{className:`form-group__label`,children:`Телефон`}),(0,G.jsx)(q,{value:n.phone,onSave:e=>r({...n,phone:e}),placeholder:`+7 (999) 123-45-67`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Расположение`}),(0,G.jsx)(q,{value:n.location,onSave:e=>r({...n,location:e}),placeholder:`Москва, Россия`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Аватар`}),(0,G.jsx)(X,{currentValue:n.avatar,onFileSelect:e=>r({...n,avatar:e||`data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBmaWxsPSIjMzMzIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iMzgiIHI9IjEyIiBmaWxsPSIjZmZmIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNjIiIHI9IjE4IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPg==`}),accept:`image/*`,label:`Выберите аватар`})]})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Биография`}),(0,G.jsx)(q,{value:n.bio,onSave:e=>r({...n,bio:e}),type:`textarea`,multiline:!0,rows:4,placeholder:`Краткое описание опыта и специализации`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Лозунг резюме`}),(0,G.jsx)(q,{value:n.slogan||``,onSave:e=>r({...n,slogan:e}),placeholder:`Всегда открыт для амбициозных вызовов`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Специализация`}),(0,G.jsx)(q,{value:n.specialization||``,onSave:e=>r({...n,specialization:e}),placeholder:`Информационные системы и программирование`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Грейд`}),(0,G.jsx)(Q,{value:n.grade??``,onChange:e=>r({...n,grade:e}),options:[{value:``,label:`Выберите грейд`},{value:`Junior`,label:`Junior`},{value:`Junior+`,label:`Junior+`},{value:`Middle`,label:`Middle`},{value:`Middle+`,label:`Middle+`},{value:`Senior`,label:`Senior`},{value:`Senior+`,label:`Senior+`}],placeholder:`Выберите грейд`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Видимость`}),(0,G.jsx)(Q,{value:n.visible===!1?`false`:`true`,onChange:e=>r({...n,visible:e===`true`}),options:[{value:`true`,label:`Публичное`},{value:`false`,label:`Скрыть`}],placeholder:`Выберите видимость`})]}),(0,G.jsx)(`div`,{className:`form-grid`,children:(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Желаемый заработок`}),(0,G.jsx)(q,{value:H(n.desiredSalary,n.desiredSalaryUnit),onSave:e=>r({...n,desiredSalary:Ee(e)}),placeholder:`100000`}),(0,G.jsx)(Q,{value:n.desiredSalaryUnit||`₽/мес`,onChange:e=>r({...n,desiredSalaryUnit:e}),options:[{value:`₽/мес`,label:`₽/мес`},{value:`₽/час`,label:`₽/час`}],placeholder:`Выберите единицу измерения`})]})}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Тип занятости`}),(0,G.jsx)(`div`,{className:`checkbox-group`,children:[`Постоянная работа`,`Подработка`,`Стажировка`,`Волонтёрство`].map(e=>(0,G.jsx)(Z,{label:e,checked:n.employmentType?.includes(e)||!1,onChange:t=>{let i=n.employmentType||[];r(t?{...n,employmentType:[...i,e]}:{...n,employmentType:i.filter(t=>t!==e)})}},e))})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Командировки`}),(0,G.jsx)(Q,{value:n.businessTrips??``,onChange:e=>r({...n,businessTrips:e}),options:[{value:``,label:`Выберите готовность к командировкам`},{value:`Не могу`,label:`Не могу`},{value:`Могу`,label:`Могу`},{value:`Могу иногда`,label:`Могу иногда`}],placeholder:`Выберите готовность к командировкам`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Дата рождения`}),(0,G.jsxs)(`div`,{className:`birth-date-container`,children:[(0,G.jsx)(q,{value:V(n.birthDate||``,`full`),onSave:e=>r({...n,birthDate:B(e)}),placeholder:`23.01.1993`}),n.birthDate&&(0,G.jsxs)(`span`,{className:`age-display`,children:[`(`,xe(be(n.birthDate)),`)`]})]})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Регионы поиска работы`}),(0,G.jsxs)(`div`,{className:`regions-list`,children:[(n.jobSearchRegions||[]).map((e,t)=>(0,G.jsxs)(`div`,{className:`region-item`,children:[(0,G.jsx)(q,{value:e,onSave:e=>{let i=[...n.jobSearchRegions||[]];i[t]=e,r({...n,jobSearchRegions:i})},className:`region-tag`}),(0,G.jsx)(Y,{onClick:()=>{let e=(n.jobSearchRegions||[]).filter((e,n)=>n!==t);r({...n,jobSearchRegions:e})},className:`region-remove-btn`,title:`Удалить регион`})]},t)),(0,G.jsx)(J,{onAdd:e=>{r({...n,jobSearchRegions:[...n.jobSearchRegions||[],e]})},placeholder:`Новый регион`,className:`regions-add-btn`})]})]})]}),(0,G.jsxs)(`section`,{className:`section`,children:[(0,G.jsx)($,{title:`Навыки`,isVisible:f.skills,onToggle:()=>S(`skills`)}),f.skills&&(0,G.jsxs)(`div`,{className:`skills-list`,children:[(0,G.jsx)(`div`,{className:`skills-sortable`,children:(0,G.jsx)(K.ReactSortable,{list:(n.skills||[]).map((e,t)=>({id:t,value:e})),setList:e=>{let t=e.map(e=>e.value);r({...n,skills:t})},animation:150,children:(n.skills||[]).map((e,t)=>(0,G.jsxs)(`div`,{className:`skill-item`,children:[(0,G.jsx)(q,{value:e,onSave:e=>{let i=[...n.skills];i[t]=e,r({...n,skills:i})},className:`skill-tag`}),(0,G.jsx)(Y,{onClick:()=>{let e=n.skills.filter((e,n)=>n!==t);r({...n,skills:e})},className:`skill-remove-btn`,title:`Удалить навык`})]},`skill-${t}-${e}`))})}),(0,G.jsx)(J,{onAdd:e=>{r({...n,skills:[...n.skills,e]})},placeholder:`Новый навык`,className:`skills-add-btn`})]})]}),(0,G.jsxs)(`section`,{className:`section`,children:[(0,G.jsx)($,{title:`Опыт работы`,isVisible:f.experience,onToggle:()=>S(`experience`)}),f.experience&&(0,G.jsxs)(`div`,{className:`experience-list`,children:[(n.experience||[]).map((e,t)=>(0,G.jsxs)(`div`,{className:`experience-item`,children:[(0,G.jsxs)(`div`,{className:`item-header`,children:[(0,G.jsxs)(`h4`,{children:[`Опыт работы #`,t+1]}),(0,G.jsx)(Y,{onClick:()=>{let e=n.experience.filter((e,n)=>n!==t);r({...n,experience:e})},className:`item-remove-btn`,title:`Удалить опыт работы`})]}),(0,G.jsxs)(`div`,{className:`experience-header`,children:[(0,G.jsx)(q,{value:e.company,onSave:i=>{let a=[...n.experience];a[t]={...e,company:i},r({...n,experience:a})},className:`experience-company`}),(0,G.jsx)(q,{value:e.position,onSave:i=>{let a=[...n.experience];a[t]={...e,position:i},r({...n,experience:a})},className:`experience-position`})]}),(0,G.jsxs)(`div`,{className:`experience-dates`,children:[(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Дата начала`}),(0,G.jsx)(q,{value:V(e.startDate,`month`)||``,onSave:i=>{let a=[...n.experience];a[t]={...e,startDate:B(i)},r({...n,experience:a})},placeholder:`01.2020`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Дата окончания`}),e.isCurrentJob?(0,G.jsx)(`div`,{className:`readonly-field`,children:`Работаю сейчас`}):(0,G.jsx)(q,{value:V(e.endDate||``,`month`)||``,onSave:i=>{let a=[...n.experience];a[t]={...e,endDate:B(i)},r({...n,experience:a})},placeholder:`12.2025`})]})]}),(0,G.jsx)(Z,{label:`Работаю сейчас`,checked:e.isCurrentJob||!1,onChange:i=>{let a=[...n.experience];a[t]={...e,isCurrentJob:i,endDate:i?null:e.endDate},r({...n,experience:a})}})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Зарплата на этом месте`}),(0,G.jsx)(q,{value:H(e.salary,e.salaryUnit),onSave:i=>{let a=[...n.experience];a[t]={...e,salary:Ee(i)},r({...n,experience:a})},placeholder:`80000`}),(0,G.jsx)(Q,{value:e.salaryUnit||`₽/мес`,onChange:i=>{let a=[...n.experience];a[t]={...e,salaryUnit:i},r({...n,experience:a})},options:[{value:`₽/мес`,label:`₽/мес`},{value:`₽/час`,label:`₽/час`}],placeholder:`Выберите единицу измерения`})]}),e.salaryUnit===`₽/час`&&(0,G.jsxs)(`div`,{className:`form-group ${!e.monthlyHours||e.monthlyHours<=0?`form-group--required`:``}`,children:[(0,G.jsx)(`label`,{className:`form-group__label`,children:`Среднее количество часов в месяц`}),(0,G.jsx)(q,{value:e.monthlyHours?.toString()||``,onSave:i=>{let a=[...n.experience];a[t]={...e,monthlyHours:i?parseInt(i):null},r({...n,experience:a})},placeholder:`160`})]}),(0,G.jsx)(q,{value:e.description,onSave:i=>{let a=[...n.experience];a[t]={...e,description:i},r({...n,experience:a})},type:`textarea`,multiline:!0,rows:2,className:`experience-description`,placeholder:`Обязанности и достижения`}),(0,G.jsxs)(`div`,{className:`experience-technologies`,children:[(e.technologies||[]).map((i,a)=>(0,G.jsxs)(`div`,{className:`tech-item`,children:[(0,G.jsx)(q,{value:i,onSave:i=>{let o=[...n.experience];o[t]={...e,technologies:(e.technologies||[]).map((e,t)=>t===a?i:e)},r({...n,experience:o})},className:`experience-tech`}),(0,G.jsx)(Y,{onClick:()=>{let i=[...n.experience];i[t]={...e,technologies:(e.technologies||[]).filter((e,t)=>t!==a)},r({...n,experience:i})},className:`tech-remove-btn`,title:`Удалить технологию`})]},a)),(0,G.jsx)(J,{onAdd:i=>{let a=[...n.experience];a[t]={...e,technologies:[...e.technologies||[],i]},r({...n,experience:a})},placeholder:`Новая технология`,className:`experience-add-tech`})]})]},e.id)),(0,G.jsx)(J,{onAdd:e=>{let t={id:`exp_${O()}`,company:e,position:``,startDate:``,endDate:``,isCurrentJob:!1,description:``,technologies:[],salary:null,salaryUnit:`₽/мес`,monthlyHours:null};r({...n,experience:[...n.experience,t]})},placeholder:`Название компании`,className:`experience-add-btn`})]})]}),(0,G.jsxs)(`section`,{className:`section`,children:[(0,G.jsx)(`h2`,{children:`Общий опыт работы`}),(0,G.jsxs)(`div`,{className:`total-experience`,children:[(0,G.jsx)(`div`,{className:`total-experience__display`,children:_e(ge(n.experience))}),(0,G.jsx)(`div`,{className:`total-experience__note`,children:`* рассчитывается автоматически на основе опыта работы`})]})]}),(0,G.jsxs)(`section`,{className:`section`,children:[(0,G.jsx)($,{title:`Рекомендации`,isVisible:f.recommendations,onToggle:()=>S(`recommendations`)}),f.recommendations&&(0,G.jsxs)(`div`,{className:`recommendations-list`,children:[(0,G.jsx)(K.ReactSortable,{list:n.recommendations||[],setList:e=>r({...n,recommendations:e}),animation:150,handle:`.item-header`,children:(n.recommendations||[]).map((e,t)=>(0,G.jsxs)(`div`,{className:`recommendation-item`,children:[(0,G.jsxs)(`div`,{className:`item-header`,children:[(0,G.jsxs)(`h4`,{children:[`Рекомендация #`,t+1]}),(0,G.jsx)(Y,{onClick:()=>{let e=n.recommendations.filter((e,n)=>n!==t);r({...n,recommendations:e})},className:`item-remove-btn`,title:`Удалить рекомендацию`})]}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Имя`}),(0,G.jsx)(q,{value:e.name,onSave:i=>{let a=[...n.recommendations];a[t]={...e,name:i},r({...n,recommendations:a})},placeholder:`Имя рекомендателя`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Должность`}),(0,G.jsx)(q,{value:e.position,onSave:i=>{let a=[...n.recommendations];a[t]={...e,position:i},r({...n,recommendations:a})},placeholder:`Должность рекомендателя`})]})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Организация`}),(0,G.jsx)(q,{value:e.organization,onSave:i=>{let a=[...n.recommendations];a[t]={...e,organization:i},r({...n,recommendations:a})},placeholder:`Название компании`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Аватар`}),(0,G.jsx)(X,{currentValue:e.avatar,onFileSelect:i=>{let a=[...n.recommendations];a[t]={...e,avatar:i||`data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBmaWxsPSIjMzMzIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iMzgiIHI9IjEyIiBmaWxsPSIjZmZmIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNjIiIHI9IjE4IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPg==`},r({...n,recommendations:a})},accept:`image/*`,label:`Выберите аватар рекомендателя`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Telegram URL`}),(0,G.jsx)(q,{value:e.telegramUrl,onSave:i=>{let a=[...n.recommendations];a[t]={...e,telegramUrl:i},r({...n,recommendations:a})},placeholder:`https://t.me/username`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Текст рекомендации`}),(0,G.jsx)(q,{value:e.message,onSave:i=>{let a=[...n.recommendations];a[t]={...e,message:i},r({...n,recommendations:a})},type:`textarea`,multiline:!0,rows:4,placeholder:`Текст рекомендации`})]})]},e.id))}),(0,G.jsx)(J,{onAdd:e=>{let t={id:`rec_${O()}`,name:e,position:``,organization:``,avatar:`data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBmaWxsPSIjMzMzIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iMzgiIHI9IjEyIiBmaWxsPSIjZmZmIi8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNjIiIHI9IjE4IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPg==`,telegramUrl:``,message:``};r({...n,recommendations:[...n.recommendations,t]})},placeholder:`Имя рекомендателя`,className:`recommendations-add-btn`})]})]}),(0,G.jsxs)(`section`,{className:`section`,children:[(0,G.jsx)($,{title:`Образование`,isVisible:f.education,onToggle:()=>S(`education`)}),f.education&&(0,G.jsxs)(`div`,{className:`education-list`,children:[(n.education||[]).map((e,t)=>(0,G.jsxs)(`div`,{className:`education-item`,children:[(0,G.jsxs)(`div`,{className:`item-header`,children:[(0,G.jsxs)(`h4`,{children:[`Образование #`,t+1]}),(0,G.jsx)(Y,{onClick:()=>{let e=n.education.filter((e,n)=>n!==t);r({...n,education:e})},className:`item-remove-btn`,title:`Удалить образование`})]}),(0,G.jsxs)(`div`,{className:`education-header`,children:[(0,G.jsx)(q,{value:e.institution,onSave:i=>{let a=[...n.education];a[t]={...e,institution:i},r({...n,education:a})},className:`education-institution`}),(0,G.jsx)(q,{value:e.graduationYear?.toString()||``,onSave:i=>{let a=[...n.education];a[t]={...e,graduationYear:i?parseInt(i):null},r({...n,education:a})},className:`education-year`,placeholder:`2020`})]}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Факультет`}),(0,G.jsx)(q,{value:e.faculty||``,onSave:i=>{let a=[...n.education];a[t]={...e,faculty:i},r({...n,education:a})},placeholder:`Факультет информатики`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Специализация`}),(0,G.jsx)(q,{value:e.specialization,onSave:i=>{let a=[...n.education];a[t]={...e,specialization:i},r({...n,education:a})},placeholder:`Программная инженерия`})]})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Уровень образования`}),(0,G.jsx)(Q,{value:e.degree,onChange:i=>{let a=[...n.education];a[t]={...e,degree:i},r({...n,education:a})},options:[{value:``,label:`Выберите уровень образования`},{value:`Среднее`,label:`Среднее`},{value:`Среднее специальное`,label:`Среднее специальное`},{value:`Неоконченное высшее`,label:`Неоконченное высшее`},{value:`Высшее`,label:`Высшее`},{value:`Бакалавр`,label:`Бакалавр`},{value:`Магистр`,label:`Магистр`},{value:`Кандидат наук`,label:`Кандидат наук`},{value:`Доктор наук`,label:`Доктор наук`}],placeholder:`Выберите уровень образования`})]}),(0,G.jsx)(q,{value:e.description||``,onSave:i=>{let a=[...n.education];a[t]={...e,description:i},r({...n,education:a})},type:`textarea`,multiline:!0,rows:2,className:`education-description`,placeholder:`Дополнительная информация`})]},e.id)),(0,G.jsx)(J,{onAdd:e=>{let t={id:`edu_${O()}`,institution:e,faculty:``,degree:`Высшее`,specialization:``,graduationYear:null,description:``};r({...n,education:[...n.education,t]})},placeholder:`Название учебного заведения`,className:`education-add-btn`})]})]}),(0,G.jsxs)(`section`,{className:`section`,children:[(0,G.jsx)($,{title:`Курсы`,isVisible:f.courses,onToggle:()=>S(`courses`)}),f.courses&&(0,G.jsxs)(`div`,{className:`courses-list`,children:[n.courses?.map((e,t)=>(0,G.jsxs)(`div`,{className:`course-item`,children:[(0,G.jsxs)(`div`,{className:`item-header`,children:[(0,G.jsxs)(`h4`,{children:[`Курс #`,t+1]}),(0,G.jsx)(Y,{onClick:()=>{let e=(n.courses||[]).filter((e,n)=>n!==t);r({...n,courses:e})},className:`item-remove-btn`,title:`Удалить курс`})]}),(0,G.jsxs)(`div`,{className:`course-header`,children:[(0,G.jsx)(q,{value:e.name,onSave:i=>{let a=[...n.courses||[]];a[t]={...e,name:i},r({...n,courses:a})},className:`course-name`}),(0,G.jsx)(q,{value:e.completionYear?.toString()||``,onSave:i=>{let a=[...n.courses||[]];a[t]={...e,completionYear:i?parseInt(i):null},r({...n,courses:a})},className:`course-year`,placeholder:`2025`})]}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Организация`}),(0,G.jsx)(q,{value:e.organization,onSave:i=>{let a=[...n.courses||[]];a[t]={...e,organization:i},r({...n,courses:a})},placeholder:`Название организации`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Специализация`}),(0,G.jsx)(q,{value:e.specialization,onSave:i=>{let a=[...n.courses||[]];a[t]={...e,specialization:i},r({...n,courses:a})},placeholder:`React, Node.js и т.д.`})]})]})]},e.id))||[],(0,G.jsx)(J,{onAdd:e=>{let t={id:`course_${O()}`,name:e,organization:``,specialization:``,completionYear:null};r({...n,courses:[...n.courses||[],t]})},placeholder:`Название курса`,className:`courses-add-btn`})]})]}),(0,G.jsxs)(`section`,{className:`section`,children:[(0,G.jsx)($,{title:`Проекты`,isVisible:f.projects,onToggle:()=>S(`projects`)}),f.projects&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(`div`,{className:`projects-section`,children:[(0,G.jsx)(je,{title:`Пет-проекты`,isVisible:m.petProjects,onToggle:()=>C(`petProjects`)}),m.petProjects&&(0,G.jsxs)(`div`,{className:`projects-list`,children:[(0,G.jsx)(K.ReactSortable,{list:n.petProjects||[],setList:e=>{let t=e.map((e,t)=>({...e,order:t}));r({...n,petProjects:t})},animation:150,handle:`.project-header`,children:(n.petProjects||[]).map((e,t)=>(0,G.jsxs)(`div`,{className:`project-item`,children:[(0,G.jsxs)(`div`,{className:`project-header`,children:[(0,G.jsx)(Me,{title:e.title||`Без названия`,isExpanded:g.petProjects.has(t),onToggle:()=>w(`petProjects`,t)}),(0,G.jsxs)(`div`,{className:`project-actions`,children:[(0,G.jsx)(Z,{label:`Избранное`,checked:e.featured||!1,onChange:i=>{let a=[...n.petProjects];a[t]={...e,featured:i},r({...n,petProjects:a})}}),(0,G.jsx)(Y,{onClick:()=>{let e=n.petProjects.filter((e,n)=>n!==t);r({...n,petProjects:e})},className:`project-delete`,title:`Удалить проект`})]})]}),(0,G.jsx)(`div`,{className:`project-category`,children:(0,G.jsx)(`span`,{className:`category-badge category-pet`,children:`Пет-проект`})}),g.petProjects.has(t)&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Краткое описание`}),(0,G.jsx)(q,{value:e.description,onSave:i=>{let a=[...n.petProjects];a[t]={...e,description:i},r({...n,petProjects:a})},type:`textarea`,multiline:!0,rows:2,placeholder:`Краткое описание проекта`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Подробное описание`}),(0,G.jsx)(q,{value:e.longDescription,onSave:i=>{let a=[...n.petProjects];a[t]={...e,longDescription:i},r({...n,petProjects:a})},type:`textarea`,multiline:!0,rows:4,placeholder:`Подробное описание проекта, особенности реализации`})]})]}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Дата начала`}),(0,G.jsx)(q,{value:V(e.startDate,`month`)||``,onSave:i=>{let a=[...n.petProjects];a[t]={...e,startDate:B(i),updatedAt:new Date().toISOString()},r({...n,petProjects:a})},placeholder:`01.2025`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Дата окончания`}),(0,G.jsx)(q,{value:V(e.endDate||``,`month`)||``,onSave:i=>{let a=[...n.petProjects];a[t]={...e,endDate:B(i),updatedAt:new Date().toISOString()},r({...n,petProjects:a})},placeholder:`12.2025`})]})]}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`GitHub URL`}),(0,G.jsx)(q,{value:e.githubUrl||``,onSave:i=>{let a=[...n.petProjects];a[t]={...e,githubUrl:i},r({...n,petProjects:a})},placeholder:`https://github.com/username/project`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Website URL`}),(0,G.jsx)(q,{value:e.websiteUrl||``,onSave:i=>{let a=[...n.petProjects];a[t]={...e,websiteUrl:i},r({...n,petProjects:a})},placeholder:`https://project-demo.com`})]})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Статус`}),(0,G.jsx)(Q,{value:e.status,onChange:i=>{let a=[...n.petProjects];a[t]={...e,status:i,updatedAt:new Date().toISOString()},r({...n,petProjects:a})},options:[{value:`В разработке`,label:`В разработке`},{value:`Завершён`,label:`Завершён`},{value:`Заморожен`,label:`Заморожен`},{value:`Заброшен`,label:`Заброшен`},{value:`На доработке`,label:`На доработке`},{value:`В ожидании`,label:`В ожидании`}],placeholder:`Выберите статус проекта`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Технологии`}),(0,G.jsxs)(`div`,{className:`technologies-list`,children:[(0,G.jsx)(`div`,{className:`technologies-sortable`,children:(0,G.jsx)(K.ReactSortable,{list:(e.technologies||[]).map((e,t)=>({id:t,value:e})),setList:i=>{let a=[...n.petProjects];a[t]={...e,technologies:i.map(e=>e.value)},r({...n,petProjects:a})},animation:150,children:(e.technologies||[]).map((i,a)=>(0,G.jsxs)(`div`,{className:`tech-item`,children:[(0,G.jsx)(q,{value:i,onSave:i=>{let o=[...n.petProjects];o[t]={...e,technologies:(e.technologies||[]).map((e,t)=>t===a?i:e)},r({...n,petProjects:o})},className:`technology-tag`}),(0,G.jsx)(Y,{onClick:()=>{let i=[...n.petProjects];i[t]={...e,technologies:e.technologies.filter((e,t)=>t!==a)},r({...n,petProjects:i})},className:`tech-remove-btn`,title:`Удалить технологию`})]},a))})}),(0,G.jsx)(J,{onAdd:i=>{let a=[...n.petProjects];a[t]={...e,technologies:[...e.technologies,i]},r({...n,petProjects:a})},placeholder:`Новая технология`,className:`technology-add-btn`})]})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Изображения`}),(0,G.jsxs)(`div`,{className:`images-upload`,children:[(0,G.jsx)(`div`,{className:`images-sortable`,children:(0,G.jsx)(K.ReactSortable,{list:(e.images||[]).map((e,t)=>({id:t,value:e})),setList:i=>{let a=[...n.petProjects];a[t]={...e,images:i.map(e=>e.value)},r({...n,petProjects:a})},animation:150,children:(e.images||[]).map((i,a)=>(0,G.jsxs)(`div`,{className:`image-item`,children:[(0,G.jsx)(`img`,{src:i,alt:`Project ${a+1}`,className:`project-image`}),(0,G.jsx)(`button`,{className:`image-delete`,onClick:()=>{let i=[...n.petProjects];i[t]={...e,images:(e.images||[]).filter((e,t)=>t!==a)},r({...n,petProjects:i})},title:`Удалить изображение`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,G.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})})]},a))})}),(0,G.jsx)(X,{currentValue:``,onFileSelect:i=>{if(i){let a=[...n.petProjects];a[t]={...e,images:[...e.images||[],i]},r({...n,petProjects:a})}},accept:`image/*`,label:`Добавить изображение`,className:`image-upload-btn`})]})]})]})]},e.id))}),(0,G.jsx)(J,{onAdd:e=>{let t={id:`pet_${O()}`,title:e,description:``,longDescription:``,technologies:[],status:`В разработке`,startDate:``,endDate:``,githubUrl:``,websiteUrl:``,images:[],featured:!1,category:`pet`,updatedAt:new Date().toISOString()};r({...n,petProjects:[...n.petProjects,t]})},placeholder:`Название пет-проекта`,className:`projects-add-btn`})]})]}),(0,G.jsxs)(`div`,{className:`projects-section`,children:[(0,G.jsx)(je,{title:`Личные проекты`,isVisible:m.personalProjects,onToggle:()=>C(`personalProjects`)}),m.personalProjects&&(0,G.jsxs)(`div`,{className:`projects-list`,children:[(0,G.jsx)(K.ReactSortable,{list:n.personalProjects||[],setList:e=>{let t=e.map((e,t)=>({...e,order:t}));r({...n,personalProjects:t})},animation:150,handle:`.project-header`,children:(n.personalProjects||[]).map((e,t)=>(0,G.jsxs)(`div`,{className:`project-item`,children:[(0,G.jsxs)(`div`,{className:`project-header`,children:[(0,G.jsx)(Me,{title:e.title||`Без названия`,isExpanded:g.personalProjects.has(t),onToggle:()=>w(`personalProjects`,t)}),(0,G.jsxs)(`div`,{className:`project-actions`,children:[(0,G.jsx)(Z,{label:`Избранное`,checked:e.featured||!1,onChange:i=>{let a=[...n.personalProjects];a[t]={...e,featured:i},r({...n,personalProjects:a})}}),(0,G.jsx)(Y,{onClick:()=>{let e=n.personalProjects.filter((e,n)=>n!==t);r({...n,personalProjects:e})},className:`project-delete`,title:`Удалить проект`})]})]}),(0,G.jsx)(`div`,{className:`project-category`,children:(0,G.jsx)(`span`,{className:`category-badge category-personal`,children:`Личный проект`})}),g.personalProjects.has(t)&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Краткое описание`}),(0,G.jsx)(q,{value:e.description,onSave:i=>{let a=[...n.personalProjects];a[t]={...e,description:i},r({...n,personalProjects:a})},type:`textarea`,multiline:!0,rows:2,placeholder:`Краткое описание проекта`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Подробное описание`}),(0,G.jsx)(q,{value:e.longDescription,onSave:i=>{let a=[...n.personalProjects];a[t]={...e,longDescription:i},r({...n,personalProjects:a})},type:`textarea`,multiline:!0,rows:4,placeholder:`Подробное описание проекта, особенности реализации`})]})]}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Дата начала`}),(0,G.jsx)(q,{value:V(e.startDate,`month`)||``,onSave:i=>{let a=[...n.personalProjects];a[t]={...e,startDate:B(i),updatedAt:new Date().toISOString()},r({...n,personalProjects:a})},placeholder:`01.2025`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Дата окончания`}),(0,G.jsx)(q,{value:V(e.endDate||``,`month`)||``,onSave:i=>{let a=[...n.personalProjects];a[t]={...e,endDate:B(i),updatedAt:new Date().toISOString()},r({...n,personalProjects:a})},placeholder:`12.2025`})]})]}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`GitHub URL`}),(0,G.jsx)(q,{value:e.githubUrl||``,onSave:i=>{let a=[...n.personalProjects];a[t]={...e,githubUrl:i},r({...n,personalProjects:a})},placeholder:`https://github.com/username/project`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Website URL`}),(0,G.jsx)(q,{value:e.websiteUrl||``,onSave:i=>{let a=[...n.personalProjects];a[t]={...e,websiteUrl:i},r({...n,personalProjects:a})},placeholder:`https://project-demo.com`})]})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Статус`}),(0,G.jsx)(Q,{value:e.status,onChange:i=>{let a=[...n.personalProjects];a[t]={...e,status:i,updatedAt:new Date().toISOString()},r({...n,personalProjects:a})},options:[{value:`В разработке`,label:`В разработке`},{value:`Завершён`,label:`Завершён`},{value:`Заморожен`,label:`Заморожен`},{value:`Заброшен`,label:`Заброшен`},{value:`На доработке`,label:`На доработке`},{value:`В ожидании`,label:`В ожидании`}],placeholder:`Выберите статус проекта`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Технологии`}),(0,G.jsxs)(`div`,{className:`technologies-list`,children:[(0,G.jsx)(`div`,{className:`technologies-sortable`,children:(0,G.jsx)(K.ReactSortable,{list:(e.technologies||[]).map((e,t)=>({id:t,value:e})),setList:i=>{let a=[...n.personalProjects];a[t]={...e,technologies:i.map(e=>e.value)},r({...n,personalProjects:a})},animation:150,children:(e.technologies||[]).map((i,a)=>(0,G.jsxs)(`div`,{className:`tech-item`,children:[(0,G.jsx)(q,{value:i,onSave:i=>{let o=[...n.personalProjects];o[t]={...e,technologies:(e.technologies||[]).map((e,t)=>t===a?i:e)},r({...n,personalProjects:o})},className:`technology-tag`}),(0,G.jsx)(Y,{onClick:()=>{let i=[...n.personalProjects];i[t]={...e,technologies:e.technologies.filter((e,t)=>t!==a)},r({...n,personalProjects:i})},className:`tech-remove-btn`,title:`Удалить технологию`})]},a))})}),(0,G.jsx)(J,{onAdd:i=>{let a=[...n.personalProjects];a[t]={...e,technologies:[...e.technologies,i]},r({...n,personalProjects:a})},placeholder:`Новая технология`,className:`technology-add-btn`})]})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Изображения`}),(0,G.jsxs)(`div`,{className:`images-upload`,children:[(0,G.jsx)(`div`,{className:`images-sortable`,children:(0,G.jsx)(K.ReactSortable,{list:(e.images||[]).map((e,t)=>({id:t,value:e})),setList:i=>{let a=[...n.personalProjects];a[t]={...e,images:i.map(e=>e.value)},r({...n,personalProjects:a})},animation:150,children:(e.images||[]).map((i,a)=>(0,G.jsxs)(`div`,{className:`image-item`,children:[(0,G.jsx)(`img`,{src:i,alt:`Project ${a+1}`,className:`project-image`}),(0,G.jsx)(`button`,{className:`image-delete`,onClick:()=>{let i=[...n.personalProjects];i[t]={...e,images:(e.images||[]).filter((e,t)=>t!==a)},r({...n,personalProjects:i})},title:`Удалить изображение`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,G.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})})]},a))})}),(0,G.jsx)(X,{currentValue:``,onFileSelect:i=>{if(i){let a=[...n.personalProjects];a[t]={...e,images:[...e.images||[],i]},r({...n,personalProjects:a})}},accept:`image/*`,label:`Добавить изображение`,className:`image-upload-btn`})]})]})]})]},e.id))}),(0,G.jsx)(J,{onAdd:e=>{let t={id:`personal_${O()}`,title:e,description:``,longDescription:``,technologies:[],status:`В разработке`,startDate:``,endDate:``,githubUrl:``,websiteUrl:``,images:[],featured:!1,category:`personal`,updatedAt:new Date().toISOString()};r({...n,personalProjects:[...n.personalProjects,t]})},placeholder:`Название личного проекта`,className:`projects-add-btn`})]})]}),(0,G.jsxs)(`div`,{className:`projects-section`,children:[(0,G.jsx)(je,{title:`Коммерческие проекты`,isVisible:m.commercialProjects,onToggle:()=>C(`commercialProjects`)}),m.commercialProjects&&(0,G.jsxs)(`div`,{className:`projects-list`,children:[(0,G.jsx)(K.ReactSortable,{list:n.commercialProjects||[],setList:e=>{let t=e.map((e,t)=>({...e,order:t}));r({...n,commercialProjects:t})},animation:150,handle:`.project-header`,children:(n.commercialProjects||[]).map((e,t)=>(0,G.jsxs)(`div`,{className:`project-item`,children:[(0,G.jsxs)(`div`,{className:`project-header`,children:[(0,G.jsx)(Me,{title:e.title||`Без названия`,isExpanded:g.commercialProjects.has(t),onToggle:()=>w(`commercialProjects`,t)}),(0,G.jsxs)(`div`,{className:`project-actions`,children:[(0,G.jsx)(Z,{label:`Избранное`,checked:e.featured||!1,onChange:i=>{let a=[...n.commercialProjects];a[t]={...e,featured:i},r({...n,commercialProjects:a})}}),(0,G.jsx)(Y,{onClick:()=>{let e=n.commercialProjects.filter((e,n)=>n!==t);r({...n,commercialProjects:e})},className:`project-delete`,title:`Удалить проект`})]})]}),(0,G.jsx)(`div`,{className:`project-category`,children:(0,G.jsx)(`span`,{className:`category-badge category-commercial`,children:`Коммерческий проект`})}),g.commercialProjects.has(t)&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Краткое описание`}),(0,G.jsx)(q,{value:e.description,onSave:i=>{let a=[...n.commercialProjects];a[t]={...e,description:i},r({...n,commercialProjects:a})},type:`textarea`,multiline:!0,rows:2,placeholder:`Краткое описание проекта`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Подробное описание`}),(0,G.jsx)(q,{value:e.longDescription,onSave:i=>{let a=[...n.commercialProjects];a[t]={...e,longDescription:i},r({...n,commercialProjects:a})},type:`textarea`,multiline:!0,rows:4,placeholder:`Подробное описание проекта, особенности реализации`})]})]}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Дата начала`}),(0,G.jsx)(q,{value:V(e.startDate,`month`)||``,onSave:i=>{let a=[...n.commercialProjects];a[t]={...e,startDate:B(i),updatedAt:new Date().toISOString()},r({...n,commercialProjects:a})},placeholder:`01.2025`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Дата окончания`}),(0,G.jsx)(q,{value:V(e.endDate||``,`month`)||``,onSave:i=>{let a=[...n.commercialProjects];a[t]={...e,endDate:B(i),updatedAt:new Date().toISOString()},r({...n,commercialProjects:a})},placeholder:`12.2026`})]})]}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`GitHub URL`}),(0,G.jsx)(q,{value:e.githubUrl||``,onSave:i=>{let a=[...n.commercialProjects];a[t]={...e,githubUrl:i},r({...n,commercialProjects:a})},placeholder:`https://github.com/username/project`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Website URL`}),(0,G.jsx)(q,{value:e.websiteUrl||``,onSave:i=>{let a=[...n.commercialProjects];a[t]={...e,websiteUrl:i},r({...n,commercialProjects:a})},placeholder:`https://project-demo.com`})]})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Статус`}),(0,G.jsx)(Q,{value:e.status,onChange:i=>{let a=[...n.commercialProjects];a[t]={...e,status:i,updatedAt:new Date().toISOString()},r({...n,commercialProjects:a})},options:[{value:`В разработке`,label:`В разработке`},{value:`Завершён`,label:`Завершён`},{value:`Заморожен`,label:`Заморожен`},{value:`Заброшен`,label:`Заброшен`},{value:`На доработке`,label:`На доработке`},{value:`В ожидании`,label:`В ожидании`}],placeholder:`Выберите статус проекта`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Технологии`}),(0,G.jsxs)(`div`,{className:`technologies-list`,children:[(0,G.jsx)(`div`,{className:`technologies-sortable`,children:(0,G.jsx)(K.ReactSortable,{list:(e.technologies||[]).map((e,t)=>({id:t,value:e})),setList:i=>{let a=[...n.commercialProjects];a[t]={...e,technologies:i.map(e=>e.value)},r({...n,commercialProjects:a})},animation:150,children:(e.technologies||[]).map((i,a)=>(0,G.jsxs)(`div`,{className:`tech-item`,children:[(0,G.jsx)(q,{value:i,onSave:i=>{let o=[...n.commercialProjects];o[t]={...e,technologies:(e.technologies||[]).map((e,t)=>t===a?i:e)},r({...n,commercialProjects:o})},className:`technology-tag`}),(0,G.jsx)(Y,{onClick:()=>{let i=[...n.commercialProjects];i[t]={...e,technologies:e.technologies.filter((e,t)=>t!==a)},r({...n,commercialProjects:i})},className:`tech-remove-btn`,title:`Удалить технологию`})]},a))})}),(0,G.jsx)(J,{onAdd:i=>{let a=[...n.commercialProjects];a[t]={...e,technologies:[...e.technologies,i]},r({...n,commercialProjects:a})},placeholder:`Новая технология`,className:`technology-add-btn`})]})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Изображения`}),(0,G.jsxs)(`div`,{className:`images-upload`,children:[(0,G.jsx)(`div`,{className:`images-sortable`,children:(0,G.jsx)(K.ReactSortable,{list:(e.images||[]).map((e,t)=>({id:t,value:e})),setList:i=>{let a=[...n.commercialProjects];a[t]={...e,images:i.map(e=>e.value)},r({...n,commercialProjects:a})},animation:150,children:(e.images||[]).map((i,a)=>(0,G.jsxs)(`div`,{className:`image-item`,children:[(0,G.jsx)(`img`,{src:i,alt:`Project ${a+1}`,className:`project-image`}),(0,G.jsx)(`button`,{className:`image-delete`,onClick:()=>{let i=[...n.commercialProjects];i[t]={...e,images:(e.images||[]).filter((e,t)=>t!==a)},r({...n,commercialProjects:i})},title:`Удалить изображение`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,G.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})})]},a))})}),(0,G.jsx)(X,{currentValue:``,onFileSelect:i=>{if(i){let a=[...n.commercialProjects];a[t]={...e,images:[...e.images||[],i]},r({...n,commercialProjects:a})}},accept:`image/*`,label:`Добавить изображение`,className:`image-upload-btn`})]})]})]})]},e.id))}),(0,G.jsx)(J,{onAdd:e=>{let t={id:`commercial_${O()}`,title:e,description:``,longDescription:``,technologies:[],status:`В разработке`,startDate:``,endDate:``,githubUrl:``,websiteUrl:``,images:[],featured:!1,category:`commercial`,updatedAt:new Date().toISOString()};r({...n,commercialProjects:[...n.commercialProjects,t]})},placeholder:`Название коммерческого проекта`,className:`projects-add-btn`})]})]})]})]}),(0,G.jsxs)(`section`,{className:`section`,children:[(0,G.jsx)($,{title:`Сертификаты`,isVisible:f.certifications,onToggle:()=>S(`certifications`)}),f.certifications&&(0,G.jsxs)(`div`,{className:`certifications-list`,children:[(n.certifications||[]).map((e,t)=>(0,G.jsxs)(`div`,{className:`certification-item`,children:[(0,G.jsxs)(`div`,{className:`item-header`,children:[(0,G.jsxs)(`h4`,{children:[`Сертификат #`,t+1]}),(0,G.jsx)(Y,{onClick:()=>{let e=(n.certifications||[]).filter((e,n)=>n!==t);r({...n,certifications:e})},className:`item-remove-btn`,title:`Удалить сертификат`})]}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Название сертификата`}),(0,G.jsx)(q,{value:e.name,onSave:i=>{let a=[...n.certifications||[]];a[t]={...e,name:i},r({...n,certifications:a})},placeholder:`Название сертификата`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Год получения`}),(0,G.jsx)(q,{value:e.year?.toString()||``,onSave:i=>{let a=[...n.certifications||[]];a[t]={...e,year:i?parseInt(i):null},r({...n,certifications:a})},placeholder:`2025`})]})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Ссылка на верификацию`}),(0,G.jsx)(q,{value:e.verificationUrl||``,onSave:i=>{let a=[...n.certifications||[]];a[t]={...e,verificationUrl:i},r({...n,certifications:a})},placeholder:`https://verify.example.com/certificate/123`})]})]},e.id)),(0,G.jsx)(J,{onAdd:e=>{let t={id:`cert_${O()}`,name:e,year:null,verificationUrl:``};r({...n,certifications:[...n.certifications||[],t]})},placeholder:`Название сертификата`,className:`certifications-add-btn`})]})]}),(0,G.jsxs)(`section`,{className:`section`,children:[(0,G.jsx)($,{title:`Тесты и экзамены`,isVisible:f.tests,onToggle:()=>S(`tests`)}),f.tests&&(0,G.jsxs)(`div`,{className:`tests-list`,children:[(n.tests||[]).map((e,t)=>(0,G.jsxs)(`div`,{className:`test-item`,children:[(0,G.jsxs)(`div`,{className:`item-header`,children:[(0,G.jsxs)(`h4`,{children:[`Тест #`,t+1]}),(0,G.jsx)(Y,{onClick:()=>{let e=(n.tests||[]).filter((e,n)=>n!==t);r({...n,tests:e})},className:`item-remove-btn`,title:`Удалить тест`})]}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Название теста`}),(0,G.jsx)(q,{value:e.name,onSave:i=>{let a=[...n.tests||[]];a[t]={...e,name:i},r({...n,tests:a})},placeholder:`Название теста`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Организация`}),(0,G.jsx)(q,{value:e.organization,onSave:i=>{let a=[...n.tests||[]];a[t]={...e,organization:i},r({...n,tests:a})},placeholder:`Название организации`})]})]}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Специализация`}),(0,G.jsx)(q,{value:e.specialization,onSave:i=>{let a=[...n.tests||[]];a[t]={...e,specialization:i},r({...n,tests:a})},placeholder:`Специализация теста`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Год прохождения`}),(0,G.jsx)(q,{value:e.completionYear?.toString()||``,onSave:i=>{let a=[...n.tests||[]];a[t]={...e,completionYear:i?parseInt(i):null},r({...n,tests:a})},placeholder:`2025`})]})]})]},e.id)),(0,G.jsx)(J,{onAdd:e=>{let t={id:`test_${O()}`,name:e,organization:``,specialization:``,completionYear:null};r({...n,tests:[...n.tests||[],t]})},placeholder:`Название теста`,className:`tests-add-btn`})]})]}),(0,G.jsxs)(`section`,{className:`section`,children:[(0,G.jsx)($,{title:`Языки`,isVisible:f.languages,onToggle:()=>S(`languages`)}),f.languages&&(0,G.jsxs)(`div`,{className:`languages-list`,children:[(0,G.jsx)(K.ReactSortable,{list:(n.languages||[]).map((e,t)=>({...e,id:t})),setList:e=>{let t=e.map(({id:e,...t})=>t);r({...n,languages:t})},animation:150,handle:`.item-header`,children:(n.languages||[]).map((e,t)=>(0,G.jsxs)(`div`,{className:`language-item`,children:[(0,G.jsxs)(`div`,{className:`item-header`,children:[(0,G.jsxs)(`h4`,{children:[`Язык #`,t+1]}),(0,G.jsx)(Y,{onClick:()=>{let e=(n.languages||[]).filter((e,n)=>n!==t);r({...n,languages:e})},className:`item-remove-btn`,title:`Удалить язык`})]}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Название языка`}),(0,G.jsx)(q,{value:e.name,onSave:i=>{let a=[...n.languages||[]];a[t]={...e,name:i},r({...n,languages:a})},placeholder:`Русский`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Уровень владения`}),(0,G.jsx)(Q,{value:e.level,onChange:i=>{let a=[...n.languages||[]];a[t]={...e,level:i},r({...n,languages:a})},options:[{value:`A1 — Начальный`,label:`A1 — Начальный`},{value:`A2 — Элементарный`,label:`A2 — Элементарный`},{value:`B1 — Средний`,label:`B1 — Средний`},{value:`B2 — Средне-продвинутый`,label:`B2 — Средне-продвинутый`},{value:`C1 — Продвинутый`,label:`C1 — Продвинутый`},{value:`C2 — В совершенстве`,label:`C2 — В совершенстве`}],placeholder:`Выберите уровень владения`})]})]}),(0,G.jsx)(`div`,{className:`form-group`,children:(0,G.jsx)(Z,{label:`Родной язык`,checked:e.isNative||!1,onChange:i=>{let a=[...n.languages||[]];a[t]={...e,isNative:i},r({...n,languages:a})}})})]},t))}),(0,G.jsx)(J,{onAdd:e=>{let t={name:e,level:`B1 — Средний`,isNative:!1};r({...n,languages:[...n.languages||[],t]})},placeholder:`Название языка`,className:`languages-add-btn`})]})]}),(0,G.jsxs)(`section`,{className:`section`,children:[(0,G.jsx)(`h2`,{children:`Контактная информация`}),(0,G.jsxs)(`div`,{className:`form-grid`,children:[(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Email`}),(0,G.jsx)(q,{value:n.contactInfo.email,onSave:e=>r({...n,contactInfo:{...n.contactInfo,email:e}}),placeholder:`email@example.com`})]}),(0,G.jsxs)(`div`,{className:`form-group ${b()?`form-group--required`:``}`,children:[(0,G.jsx)(`label`,{className:`form-group__label`,children:`Телефон`}),(0,G.jsx)(q,{value:n.contactInfo.phone,onSave:e=>r({...n,contactInfo:{...n.contactInfo,phone:e}}),placeholder:`+7 (999) 123-45-67`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`Telegram`}),(0,G.jsx)(q,{value:n.contactInfo.telegram,onSave:e=>r({...n,contactInfo:{...n.contactInfo,telegram:e}}),placeholder:`@username`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`GitHub`}),(0,G.jsx)(q,{value:n.contactInfo.github||``,onSave:e=>r({...n,contactInfo:{...n.contactInfo,github:e}}),placeholder:`https://github.com/username`})]}),(0,G.jsxs)(`div`,{className:`form-group`,children:[(0,G.jsx)(`label`,{children:`LinkedIn`}),(0,G.jsx)(q,{value:n.contactInfo.linkedin||``,onSave:e=>r({...n,contactInfo:{...n.contactInfo,linkedin:e}}),placeholder:`https://linkedin.com/in/username`})]})]})]})]})}),(0,G.jsxs)(Ae,{isOpen:u,onClose:()=>d(!1),onConfirm:async()=>{if(!(!n||x)){c(!0);try{await U.loadResumeList();let t=U.resumeList.filter(e=>e.id!==n.id);await U.setData(`/resume-list`,t),await U.setData(`/resumes/${n.id}`,null);for(let e of n.petProjects)await U.setData(`/resumes/${n.id}/petProjects/${e.id}`,null);for(let e of n.personalProjects)await U.setData(`/resumes/${n.id}/personalProjects/${e.id}`,null);for(let e of n.commercialProjects)await U.setData(`/resumes/${n.id}/commercialProjects/${e.id}`,null);e(`/myResume/`)}catch(e){console.error(`Ошибка удаления резюме:`,e),alert(`Ошибка при удалении резюме`)}finally{c(!1),d(!1)}}},title:`Удаление резюме`,confirmText:`Удалить`,cancelText:`Отмена`,type:`danger`,children:[(0,G.jsxs)(`p`,{children:[`Вы уверены, что хотите удалить резюме `,(0,G.jsx)(`strong`,{children:n?.profession}),`?`]}),(0,G.jsx)(`p`,{className:`text--muted`,children:`Это действие нельзя отменить. Резюме будет удалено из базы данных навсегда.`})]})]}):(0,G.jsx)(`div`,{className:`resume-edit`,children:(0,G.jsxs)(`div`,{className:`error`,children:[(0,G.jsx)(`p`,{children:`Резюме не найдено`}),(0,G.jsx)(`button`,{onClick:()=>e(`/myResume/`),children:`Вернуться на главную`})]})})}),Pe=r(({type:e=`main`,category:t,projectTitle:n,resumeId:r,resume:i})=>{let a=s();if(!i)return null;let o=()=>{switch(e){case`projects`:a(`/myResume/main/${r}`);break;case`project`:a(-1);break;default:a(`/myResume/`)}},c=()=>(0,G.jsxs)(`div`,{className:`nav__brand`,children:[(0,G.jsx)(`button`,{className:`nav__back`,onClick:o,children:(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,G.jsx)(`path`,{d:`M19 12H5M12 19l-7-7 7-7`})})}),(0,G.jsx)(`img`,{src:z(i.avatar),alt:`Avatar`,className:`nav__avatar`}),(0,G.jsxs)(`div`,{className:`nav__info`,children:[(0,G.jsx)(`h3`,{className:`nav__name`,children:i.name}),(0,G.jsx)(`p`,{className:`nav__profession`,children:i.profession})]})]}),l=()=>(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(`div`,{className:`nav__menu`,children:[(0,G.jsx)(`button`,{className:`nav__item active`,onClick:()=>a(`/myResume/main/${r}`),children:`Главная`}),(0,G.jsx)(`button`,{className:`nav__item`,onClick:()=>a(`/myResume/main/${r}/projects/pet`),children:`Пет проекты`}),(0,G.jsx)(`button`,{className:`nav__item`,onClick:()=>a(`/myResume/main/${r}/projects/personal`),children:`Личные проекты`}),(0,G.jsx)(`button`,{className:`nav__item`,onClick:()=>a(`/myResume/main/${r}/projects/commercial`),children:`Коммерческие проекты`})]}),(0,G.jsx)(Q,{className:`nav__category-select-mobile`,value:null,onChange:e=>{e&&a(e===`main`?`/myResume/main/${r}`:`/myResume/main/${r}/projects/${e}`)},options:[{value:`main`,label:`Главная`},{value:`pet`,label:`Пет проекты`},{value:`personal`,label:`Личные проекты`},{value:`commercial`,label:`Коммерческие проекты`}],placeholder:`Выберите категорию`})]}),u=()=>(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(`div`,{className:`nav__menu`,children:[(0,G.jsx)(`button`,{className:`nav__item ${t?``:`active`}`,onClick:()=>a(`/myResume/main/${r}`),children:`Главная`}),(0,G.jsx)(`button`,{className:`nav__item ${t===`pet`?`active`:``}`,onClick:()=>a(`/myResume/main/${r}/projects/pet`),children:`Пет проекты`}),(0,G.jsx)(`button`,{className:`nav__item ${t===`personal`?`active`:``}`,onClick:()=>a(`/myResume/main/${r}/projects/personal`),children:`Личные проекты`}),(0,G.jsx)(`button`,{className:`nav__item ${t===`commercial`?`active`:``}`,onClick:()=>a(`/myResume/main/${r}/projects/commercial`),children:`Коммерческие проекты`})]}),(0,G.jsx)(Q,{className:`nav__category-select-mobile`,value:t||null,onChange:e=>{e&&a(e===`main`?`/myResume/main/${r}`:`/myResume/main/${r}/projects/${e}`)},options:[{value:`main`,label:`Главная`},{value:`pet`,label:`Пет проекты`},{value:`personal`,label:`Личные проекты`},{value:`commercial`,label:`Коммерческие проекты`}],placeholder:`Выберите категорию`})]}),d=()=>(0,G.jsx)(`div`,{className:`nav__project`,children:(0,G.jsx)(`h2`,{className:`nav__project-title`,children:n})}),f=()=>(0,G.jsx)(`div`,{className:`nav__actions`,children:p()}),p=()=>P.isAdmin()&&(0,G.jsxs)(`div`,{className:`nav__admin`,children:[(0,G.jsx)(`span`,{className:`admin-badge`,children:`Admin`}),(0,G.jsx)(`button`,{className:`logout-btn`,onClick:P.logout,title:`Выйти из админ-панели`,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`}),(0,G.jsx)(`polyline`,{points:`16,17 21,12 16,7`}),(0,G.jsx)(`line`,{x1:`21`,y1:`12`,x2:`9`,y2:`12`})]})})]});return(0,G.jsx)(`nav`,{className:(()=>{switch(e){case`projects`:return`projects-nav`;case`project`:return`project-nav`;default:return`main__nav`}})(),children:(0,G.jsxs)(`div`,{className:`nav-container`,children:[c(),e===`main`&&l(),e===`projects`&&u(),e===`project`&&d(),f()]})})});const Fe=new class{constructor(){this.baseUrl=`https://api.github.com`,this.username=null,this.username=`tiodio324`}async makeRequest(e){try{let t=await fetch(`${this.baseUrl}${e}`,{headers:{Accept:`application/vnd.github+json`,"X-GitHub-Api-Version":`2022-11-28`}});if(!t.ok){if(t.status===404)return console.warn(`User not found or no access`),null;throw Error(`GitHub API error: ${t.status}`)}return await t.json()}catch(e){return console.error(`GitHub API request failed: `,e),null}}async getUserEvents(){return this.username?this.makeRequest(`/users/${this.username}/events?per_page=100`):null}async getCommitsPerWeek(){let e=await this.getUserEvents();if(!e)return 0;let t=new Date;t.setDate(t.getDate()-7);let n=0;for(let r of e)if(new Date(r.created_at)>=t)r.type===`PushEvent`&&n++;else break;return n}};E.register(p,te,f,m,g,w);var Ie=r(()=>{let e=U.currentResume,[t,n]=(0,M.useState)({commitsPerWeek:0,loading:!0});if(!e)return null;(0,M.useEffect)(()=>{(async()=>{try{let e=await Fe.getCommitsPerWeek();n({commitsPerWeek:e,loading:!1})}catch(e){console.error(`Failed to load GitHub stats:`,e),n(e=>({...e,loading:!1}))}})()},[]);let r=new Set;[...e.petProjects,...e.personalProjects,...e.commercialProjects].forEach(e=>{e.technologies?.forEach(e=>r.add(e))}),e.experience.forEach(e=>{(e.technologies||[]).forEach(e=>r.add(e))}),e.skills.forEach(e=>r.add(e));let i=e.petProjects.length+e.personalProjects.length+e.commercialProjects.length,a={"Технические навыки":{score:Math.min(r.size*3,100),description:`${r.size} технологий изучено`},"Опыт работы":{score:Math.min(e.experience.length*15,100),description:`${e.experience.length} мест работы`},"Проектная деятельность":{score:Math.min(i*8,100),description:`${i} проектов реализовано`},"Командная работа":{score:Math.min(e.recommendations.length*20+(i>3?20:0),100),description:`${e.recommendations.length} рекомендаций получено`},"Обучение и развитие":{score:Math.min((e.courses?.length||0)*10+(e.certifications?.length||0)*15+(e.tests?.length||0)*10,100),description:`${(e.courses?.length||0)+(e.certifications?.length||0)+(e.tests?.length||0)} образовательных программ`},Активность:{score:(()=>{if(t.loading)return 0;let e=t.commitsPerWeek;return e>=30?100:e>=15?80:e>=10?60:e>=3?40:e>=1?20:0})(),description:(()=>t.loading?`Подгружаем данные...`:`${t.commitsPerWeek} коммитов в неделю`)()}},o=Object.entries(a).map(([e,t])=>({category:e,count:Math.round(t.score/10),score:t.score,description:t.description})),s={labels:o.map(e=>e.category),datasets:[{label:`Уровень экспертизы`,data:o.map(e=>e.score),backgroundColor:`rgba(59, 130, 246, 0.2)`,borderColor:`rgba(59, 130, 246, 1)`,pointBackgroundColor:`rgba(59, 130, 246, 1)`,pointBorderColor:`#fff`,pointHoverBackgroundColor:`#fff`,pointHoverBorderColor:`rgba(59, 130, 246, 1)`,borderWidth:2,pointRadius:6,pointHoverRadius:8}]},c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){let t=e.dataIndex,n=o[t];return[`${n.category}: ${n.score}%`,n.description]}}}},scales:{r:{beginAtZero:!0,max:100,min:0,ticks:{display:!1},grid:{color:`rgba(255, 255, 255, 0.1)`},angleLines:{color:`rgba(255, 255, 255, 0.1)`},pointLabels:{color:`rgba(255, 255, 255, 0.8)`,font:{size:12,weight:500}}}}},l=r.size,u=e.experience.length,d=i>0?Math.round([...e.petProjects,...e.personalProjects,...e.commercialProjects].reduce((e,t)=>e+(t.technologies?.length||0),0)/i):0;return(0,G.jsx)(`section`,{className:`main__stats`,children:(0,G.jsxs)(`div`,{className:`container`,children:[(0,G.jsx)(`h2`,{className:`section__title`,children:`Статистика навыков`}),(0,G.jsxs)(`div`,{className:`stats__content`,children:[(0,G.jsx)(`div`,{className:`stats__chart`,children:(0,G.jsx)(`div`,{className:`stats__chart-container`,children:(0,G.jsx)(T,{data:s,options:c})})}),(0,G.jsxs)(`div`,{className:`stats__info`,children:[(0,G.jsxs)(`div`,{className:`stats__metrics`,children:[(0,G.jsxs)(`div`,{className:`stats__metric`,children:[(0,G.jsx)(`div`,{className:`stats__metric-value`,children:l}),(0,G.jsx)(`div`,{className:`stats__metric-label`,children:`Технологий изучено`})]}),(0,G.jsxs)(`div`,{className:`stats__metric`,children:[(0,G.jsx)(`div`,{className:`stats__metric-value`,children:i}),(0,G.jsx)(`div`,{className:`stats__metric-label`,children:`Проектов реализовано`})]}),(0,G.jsxs)(`div`,{className:`stats__metric`,children:[(0,G.jsx)(`div`,{className:`stats__metric-value`,children:u}),(0,G.jsx)(`div`,{className:`stats__metric-label`,children:`Мест работы`})]}),(0,G.jsxs)(`div`,{className:`stats__metric`,children:[(0,G.jsx)(`div`,{className:`stats__metric-value`,children:d}),(0,G.jsx)(`div`,{className:`stats__metric-label`,children:`Среднее кол-во технологий на проект`})]})]}),(0,G.jsxs)(`div`,{className:`stats__categories`,children:[(0,G.jsx)(`h3`,{className:`stats__categories-title`,children:`Навыки и компетенции`}),(0,G.jsx)(`div`,{className:`stats__categories-list`,children:o.map((e,t)=>(0,G.jsxs)(`div`,{className:`stats__category`,children:[(0,G.jsxs)(`div`,{className:`stats__category-header`,children:[(0,G.jsx)(`span`,{className:`stats__category-name`,children:e.category}),(0,G.jsxs)(`span`,{className:`stats__category-count`,children:[e.score,`%`]})]}),(0,G.jsx)(`div`,{className:`stats__category-bar`,children:(0,G.jsx)(`div`,{className:`stats__category-progress`,style:{width:`${e.score}%`}})})]},t))})]})]})]})]})})}),Le=({selectorId:e=`contact-me-section`,delayTime:t=3e3})=>{let[n,r]=(0,M.useState)(!1),[i,a]=(0,M.useState)(!1),[o,s]=(0,M.useState)(!1),c=(0,M.useRef)(null);return(0,M.useEffect)(()=>{let n=setTimeout(()=>{s(!0)},t),r=document.getElementById(e);return r&&(c.current=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})}),c.current.observe(r)),()=>{clearTimeout(n),c.current&&c.current.disconnect()}},[e,t]),(0,M.useEffect)(()=>{o&&r(!i)},[o,i]),(0,G.jsx)(`div`,{className:`contact-popup ${n?`contact-popup--visible`:`contact-popup--hidden`}`,children:(0,G.jsxs)(`button`,{className:`contact-popup__button`,onClick:()=>{let t=document.getElementById(e);t&&t.scrollIntoView({behavior:`smooth`,block:`start`})},title:`Связаться со мной`,children:[(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,G.jsx)(`path`,{d:`M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z`})}),(0,G.jsx)(`span`,{className:`contact-popup__text`,children:`Связаться со мной`})]})})},Re=r(()=>{let e=s(),{resumeId:t}=l();if((0,M.useEffect)(()=>{if(!t){e(`/myResume/`);return}if(!U.currentResume||U.currentResume.id!==t?U.loadResume(t).then(()=>{U.currentResume&&W.logPageView(`/myResume/main/${t}`,`Резюме: ${U.currentResume.name}`)}):W.logPageView(`/myResume/main/${t}`,`Резюме: ${U.currentResume.name}`),typeof window<`u`&&window.performance){let e=()=>{try{let e=performance.getEntriesByType(`navigation`)[0];if(e){let n=e.loadEventEnd-e.fetchStart,r=e.domContentLoadedEventEnd-e.fetchStart,i=performance.getEntriesByType(`paint`),a=i.find(e=>e.name===`first-paint`),o=i.find(e=>e.name===`first-contentful-paint`);W.logPerformanceMetric({timestamp:Date.now(),pagePath:`/myResume/main/${t}`,loadTime:Math.round(n),domContentLoaded:Math.round(r),firstPaint:a?Math.round(a.startTime):void 0,firstContentfulPaint:o?Math.round(o.startTime):void 0})}else{let e=performance.timing;if(e){let n=e.loadEventEnd-e.navigationStart,r=e.domContentLoadedEventEnd-e.navigationStart,i=performance.getEntriesByType(`paint`),a=i.find(e=>e.name===`first-paint`),o=i.find(e=>e.name===`first-contentful-paint`);W.logPerformanceMetric({timestamp:Date.now(),pagePath:`/myResume/main/${t}`,loadTime:Math.round(n),domContentLoaded:Math.round(r),firstPaint:a?Math.round(a.startTime):void 0,firstContentfulPaint:o?Math.round(o.startTime):void 0})}}}catch(e){console.error(`Error logging performance metrics: `,e)}};document.readyState===`complete`?setTimeout(e,0):window.addEventListener(`load`,e,{once:!0})}},[t,e]),!U.currentResume||U.currentResume.id!==t)return(0,G.jsx)(`div`,{className:`main`,children:(0,G.jsxs)(`div`,{className:`loading`,children:[(0,G.jsx)(`div`,{className:`spinner`}),(0,G.jsx)(`p`,{children:`Оптимизация покинула чат...`})]})});let n=U.currentResume,r=U.getFeaturedProjects(),i=U.getLatestProjects(6);return(0,G.jsxs)(`div`,{className:`main`,children:[(0,G.jsx)(Le,{}),(0,G.jsx)(Pe,{type:`main`,resumeId:t,resume:n}),(0,G.jsx)(`section`,{className:`main__about`,children:(0,G.jsx)(`div`,{className:`container`,children:(0,G.jsxs)(`div`,{className:`about__content`,children:[(0,G.jsx)(`div`,{className:`about__avatar`,children:(0,G.jsx)(`img`,{src:z(n.avatar),alt:`Avatar`,className:`about__avatar-img`})}),(0,G.jsxs)(`div`,{className:`about__info`,children:[(0,G.jsxs)(`h1`,{className:`about__title`,children:[(0,G.jsx)(q,{value:n.name,onSave:e=>U.updateResumeField(`name`,e),className:`about__name`}),(0,G.jsx)(q,{value:n.slogan||``,onSave:e=>U.updateResumeField(`slogan`,e),className:`resume__name-subtitle`}),(0,G.jsx)(q,{value:n.profession,onSave:e=>U.updateResumeField(`profession`,e),className:`about__profession`})]}),(0,G.jsx)(`div`,{className:`about__bio-container`,children:(0,G.jsx)(q,{value:n.bio,onSave:e=>U.updateResumeField(`bio`,e),className:`about__bio`,type:`textarea`,multiline:!0,rows:3})}),(0,G.jsxs)(`div`,{className:`about__details`,children:[n.birthDate&&(0,G.jsxs)(`div`,{className:`about__detail`,children:[(0,G.jsx)(`strong`,{children:`Дата рождения:`}),` `,(0,G.jsx)(q,{value:V(n.birthDate,`full`),onSave:e=>U.updateResumeField(`birthDate`,B(e)),className:`inline-editable`}),(0,G.jsx)(`br`,{}),(0,G.jsxs)(`span`,{className:`age-display`,children:[`(`,xe(be(n.birthDate)),`)`]})]}),n.grade&&(0,G.jsxs)(`div`,{className:`about__detail`,children:[(0,G.jsx)(`strong`,{children:`Грейд:`}),` `,(0,G.jsx)(`span`,{className:`grade-badge grade-${n.grade.toLowerCase().replaceAll(`+`,``)}`,children:n.grade})]}),(0,G.jsxs)(`div`,{className:`about__detail`,children:[(0,G.jsx)(`strong`,{children:`Расположение:`}),` `,(0,G.jsx)(q,{value:n.location,onSave:e=>U.updateResumeField(`location`,e),className:`inline-editable`})]}),(0,G.jsxs)(`div`,{className:`about__detail`,children:[(0,G.jsx)(`strong`,{children:`Телефон:`}),` `,(0,G.jsx)(q,{value:n.phone,onSave:e=>U.updateResumeField(`phone`,e),className:`inline-editable`,linkType:`tel:`}),n.contactInfo.additionalPhones&&n.contactInfo.additionalPhones.length>0&&(0,G.jsx)(`div`,{className:`additional-phones`,children:n.contactInfo.additionalPhones.map((e,t)=>(0,G.jsx)(`div`,{className:`additional-phone`,children:(0,G.jsx)(q,{value:e,onSave:e=>{let r=[...n.contactInfo.additionalPhones];r[t]=e,U.updateResumeField(`contactInfo`,{...n.contactInfo,additionalPhones:r})},className:`inline-editable`})},t))})]}),(n.desiredSalary||n.experience.length>0)&&(0,G.jsxs)(`div`,{className:`about__detail`,children:[(0,G.jsx)(`strong`,{children:`Заработок:`}),` `,n.experience.length>0&&(0,G.jsxs)(`span`,{children:[`текущий: `,De(n.experience)]}),n.experience.length>0&&n.desiredSalary&&`, `,n.desiredSalary&&(0,G.jsxs)(`span`,{children:[`желаемый: `,H(n.desiredSalary,n.desiredSalaryUnit)]})]}),n.employmentType&&n.employmentType.length>0&&(0,G.jsxs)(`div`,{className:`about__detail`,children:[(0,G.jsx)(`strong`,{children:`Тип занятости:`}),` `,(0,G.jsx)(`span`,{children:n.employmentType.join(`, `)})]}),n.education&&n.education.length>0&&(0,G.jsxs)(`div`,{className:`about__detail`,children:[(0,G.jsx)(`strong`,{children:`Образование:`}),` `,(0,G.jsx)(`span`,{children:n.education.map(e=>e.degree).join(`, `)})]}),n.jobSearchRegions&&n.jobSearchRegions.length>0&&(0,G.jsxs)(`div`,{className:`about__detail`,children:[(0,G.jsx)(`strong`,{children:`Регионы поиска:`}),` `,(0,G.jsx)(`span`,{children:n.jobSearchRegions.join(`, `)})]}),n.businessTrips&&(0,G.jsxs)(`div`,{className:`about__detail`,children:[(0,G.jsx)(`strong`,{children:`Командировки:`}),` `,(0,G.jsx)(`span`,{children:n.businessTrips})]})]})]})]})})}),(0,G.jsx)(`section`,{className:`main__experience`,children:(0,G.jsxs)(`div`,{className:`container`,children:[(0,G.jsxs)(`h2`,{className:`section__title`,children:[`Опыт работы (`,_e(ge(n.experience)),`)`]}),(0,G.jsx)(`div`,{className:`experience__list`,children:n.experience.slice().reverse().map(e=>(0,G.jsxs)(`div`,{className:`experience__item`,children:[(0,G.jsxs)(`div`,{className:`experience__header`,children:[(0,G.jsx)(`div`,{className:`experience__company`,children:(0,G.jsx)(q,{value:e.company,onSave:t=>{let r=n.experience.map(n=>n.id===e.id?{...n,company:t}:n);U.updateResumeField(`experience`,r)},className:`experience__company-text`})}),(0,G.jsx)(`div`,{className:`experience__period`,children:(0,G.jsx)(`div`,{className:`experience__period-text`,children:Te(e.startDate,e.endDate??void 0,e.isCurrentJob)})})]}),(0,G.jsxs)(`div`,{className:`experience__position`,children:[(0,G.jsx)(q,{value:e.position,onSave:t=>{let r=n.experience.map(n=>n.id===e.id?{...n,position:t}:n);U.updateResumeField(`experience`,r)},className:`experience__position-text`}),e.salary&&(0,G.jsx)(`div`,{className:`experience__salary`,children:(0,G.jsx)(q,{value:H(e.salary,e.salaryUnit),onSave:t=>{let r=parseInt(t.replace(/[^\d]/g,``)),i=n.experience.map(t=>t.id===e.id?{...t,salary:r}:t);U.updateResumeField(`experience`,i)},className:`experience__salary-text`})})]}),(0,G.jsx)(q,{value:e.description,onSave:t=>{let r=n.experience.map(n=>n.id===e.id?{...n,description:t}:n);U.updateResumeField(`experience`,r)},className:`experience__description`,type:`textarea`,multiline:!0,rows:2}),(0,G.jsx)(`div`,{className:`experience__technologies`,children:(e.technologies||[]).map((t,r)=>(0,G.jsx)(q,{value:t,onSave:t=>{let i=n.experience.map(n=>n.id===e.id?{...n,technologies:n.technologies.map((e,n)=>n===r?t:e)}:n);U.updateResumeField(`experience`,i)},className:`experience__tech`},r))})]},e.id))})]})}),(0,G.jsx)(`section`,{className:`main__skills`,children:(0,G.jsxs)(`div`,{className:`container`,children:[(0,G.jsx)(`h2`,{className:`section__title`,children:`Навыки`}),(0,G.jsxs)(`div`,{className:`skills__list`,children:[n.skills.map((e,t)=>(0,G.jsx)(q,{value:e,onSave:e=>{let r=[...n.skills];r[t]=e,U.updateResumeField(`skills`,r)},className:`skill__tag`},`skill-${t}-${e}`)),(0,G.jsx)(J,{onAdd:e=>{let t=[...n.skills,e];U.updateResumeField(`skills`,t)},placeholder:`Новый навык...`,className:`skills__add-btn`})]})]})}),n.languages&&n.languages.length>0&&(0,G.jsx)(`section`,{className:`main__languages`,children:(0,G.jsxs)(`div`,{className:`container`,children:[(0,G.jsx)(`h2`,{className:`section__title`,children:`Языки`}),(0,G.jsx)(`div`,{className:`languages__list`,children:n.languages.map((e,t)=>(0,G.jsxs)(`div`,{className:`language__item`,children:[(0,G.jsx)(`div`,{className:`language__name`,children:(0,G.jsx)(q,{value:e.name,onSave:r=>{let i=[...n.languages||[]];i[t]={...e,name:r},U.updateResumeField(`languages`,i)},className:`language__name-text`})}),(0,G.jsxs)(`div`,{className:`language__details`,children:[(0,G.jsx)(`span`,{className:`language__level`,children:e.level}),e.isNative&&(0,G.jsx)(`span`,{className:`language__native`,children:`(родной)`})]})]},t))})]})}),(0,G.jsx)(`section`,{className:`main__featured`,children:(0,G.jsxs)(`div`,{className:`container`,children:[(0,G.jsx)(`h2`,{className:`section__title`,children:`Избранные проекты`}),(0,G.jsx)(h,{modules:[A,fe,j],spaceBetween:30,slidesPerView:1,navigation:!0,pagination:{clickable:!0},autoplay:{delay:5e3},breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:3}},className:`featured__swiper`,children:r.map(e=>(0,G.jsx)(u,{children:(0,G.jsx)(ze,{project:e,onUpdateProject:(t,n)=>U.updateProject(e.category,t,n)})},e.id))})]})}),(0,G.jsx)(`section`,{className:`main__latest`,children:(0,G.jsxs)(`div`,{className:`container`,children:[(0,G.jsx)(`h2`,{className:`section__title`,children:`Последние проекты`}),(0,G.jsx)(h,{modules:[A,fe,j],spaceBetween:20,slidesPerView:1,navigation:!0,pagination:{clickable:!0},autoplay:{delay:4e3},breakpoints:{640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4}},className:`latest__swiper`,children:i.map(e=>(0,G.jsx)(u,{children:(0,G.jsx)(ze,{project:e,compact:!0,onUpdateProject:(t,n)=>U.updateProject(e.category,t,n)})},e.id))})]})}),n.courses&&n.courses.length>0&&(0,G.jsx)(`section`,{className:`main__courses`,children:(0,G.jsxs)(`div`,{className:`container`,children:[(0,G.jsx)(`h2`,{className:`section__title`,children:`Курсы`}),(0,G.jsx)(h,{modules:[j],spaceBetween:20,slidesPerView:1,autoplay:{delay:4e3},breakpoints:{640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4}},className:`courses__swiper`,children:n.courses.map(e=>(0,G.jsx)(u,{children:(0,G.jsxs)(`div`,{className:`course-item`,children:[(0,G.jsx)(`div`,{className:`course-item__icon`,children:`📚`}),(0,G.jsxs)(`div`,{className:`course-item__content`,children:[(0,G.jsx)(`h4`,{className:`course-item__title`,children:(0,G.jsx)(q,{value:e.name,onSave:t=>{let r=n.courses?.map(n=>n.id===e.id?{...n,name:t}:n);U.updateResumeField(`courses`,r||[])},className:`course-item__title-text`})}),(0,G.jsxs)(`div`,{className:`course-item__meta`,children:[(0,G.jsx)(`span`,{className:`course-item__org`,children:e.organization}),e.completionYear&&(0,G.jsx)(`span`,{className:`course-item__year`,children:e.completionYear})]})]})]})},e.id))})]})}),n.certifications&&n.certifications.length>0&&(0,G.jsx)(`section`,{className:`main__certifications`,children:(0,G.jsxs)(`div`,{className:`container`,children:[(0,G.jsx)(`h2`,{className:`section__title`,children:`Сертификаты`}),(0,G.jsx)(h,{modules:[j],spaceBetween:20,slidesPerView:1,autoplay:{delay:4e3},breakpoints:{640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4}},className:`certifications__swiper`,children:n.certifications.map(e=>(0,G.jsx)(u,{children:(0,G.jsxs)(`div`,{className:`certification-item`,children:[(0,G.jsx)(`div`,{className:`certification-item__icon`,children:`🏆`}),(0,G.jsxs)(`div`,{className:`certification-item__content`,children:[(0,G.jsx)(`h4`,{className:`certification-item__title`,children:(0,G.jsx)(q,{value:e.name,onSave:t=>{let r=n.certifications?.map(n=>n.id===e.id?{...n,name:t}:n);U.updateResumeField(`certifications`,r||[])},className:`certification-item__title-text`})}),(0,G.jsxs)(`div`,{className:`certification-item__meta`,children:[e.year&&(0,G.jsx)(`span`,{className:`certification-item__year`,children:e.year}),e.verificationUrl&&(0,G.jsx)(`a`,{href:e.verificationUrl,target:`_blank`,rel:`noopener noreferrer`,className:`certification-item__verify`,children:`Проверить`})]})]})]})},e.id))})]})}),n.tests&&n.tests.length>0&&(0,G.jsx)(`section`,{className:`main__tests`,children:(0,G.jsxs)(`div`,{className:`container`,children:[(0,G.jsx)(`h2`,{className:`section__title`,children:`Тесты и экзамены`}),(0,G.jsx)(h,{modules:[j],spaceBetween:20,slidesPerView:1,autoplay:{delay:4e3},breakpoints:{640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4}},className:`tests__swiper`,children:n.tests.map(e=>(0,G.jsx)(u,{children:(0,G.jsxs)(`div`,{className:`test-item`,children:[(0,G.jsx)(`div`,{className:`test-item__icon`,children:`📝`}),(0,G.jsxs)(`div`,{className:`test-item__content`,children:[(0,G.jsx)(`h4`,{className:`test-item__title`,children:(0,G.jsx)(q,{value:e.name,onSave:t=>{let r=n.tests?.map(n=>n.id===e.id?{...n,name:t}:n);U.updateResumeField(`tests`,r||[])},className:`test-item__title-text`})}),(0,G.jsxs)(`div`,{className:`test-item__meta`,children:[(0,G.jsx)(`span`,{className:`test-item__org`,children:e.organization}),e.specialization&&(0,G.jsx)(`span`,{className:`test-item__spec`,children:e.specialization}),e.completionYear&&(0,G.jsx)(`span`,{className:`test-item__year`,children:e.completionYear})]})]})]})},e.id))})]})}),(0,G.jsx)(`section`,{className:`main__recommendations`,children:(0,G.jsxs)(`div`,{className:`container`,children:[(0,G.jsx)(`h2`,{className:`section__title`,children:`Рекомендации`}),(0,G.jsx)(`div`,{className:`recommendations__grid`,children:n.recommendations.map(e=>(0,G.jsx)(Be,{recommendation:e},e.id))})]})}),(0,G.jsx)(Ie,{}),(0,G.jsx)(`section`,{className:`main__contact`,id:`contact-me-section`,children:(0,G.jsxs)(`div`,{className:`container`,children:[(0,G.jsx)(`h2`,{className:`section__title`,children:`Связаться со мной`}),(0,G.jsx)(`div`,{className:`contact__content`,children:(0,G.jsxs)(`div`,{className:`contact__info`,children:[(0,G.jsx)(`p`,{children:`Готов обсудить интересные проекты и возможности сотрудничества.`}),(0,G.jsxs)(`div`,{className:`contact__links`,children:[(0,G.jsxs)(`a`,{href:`mailto:${n.contactInfo.email||`email@example.com`}`,className:`contact__link`,onClick:()=>{t&&W.logContactClick(`email`,t)},children:[(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`path`,{d:`M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z`}),(0,G.jsx)(`polyline`,{points:`22,6 12,13 2,6`})]}),n.contactInfo.email?(0,G.jsx)(q,{value:n.contactInfo.email,onSave:e=>U.updateResumeField(`contactInfo`,{...n.contactInfo,email:e}),className:`inline-editable`}):(0,G.jsx)(J,{onAdd:e=>U.updateResumeField(`contactInfo`,{...n.contactInfo,email:e}),placeholder:`email@example.com`,className:`contact__add-btn`})]}),(0,G.jsxs)(`a`,{href:`tel:${n.contactInfo.phone||`+`}`,className:`contact__link`,onClick:()=>{t&&W.logContactClick(`phone`,t)},children:[(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,G.jsx)(`path`,{d:`M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z`})}),n.contactInfo.phone?(0,G.jsx)(q,{value:n.contactInfo.phone,onSave:e=>U.updateResumeField(`contactInfo`,{...n.contactInfo,phone:e}),className:`inline-editable`}):(0,G.jsx)(J,{onAdd:e=>U.updateResumeField(`contactInfo`,{...n.contactInfo,phone:e}),placeholder:`+7 (999) 123-45-67`,className:`contact__add-btn`})]}),(0,G.jsxs)(`a`,{href:n.contactInfo.telegram.replace(`@`,`https://t.me/`),className:`contact__link contact__link__primary`,target:`_blank`,rel:`noopener noreferrer`,onClick:()=>{t&&W.logContactClick(`telegram`,t)},children:[(0,G.jsxs)(`svg`,{width:`800px`,height:`800px`,viewBox:`0 0 48 48`,id:`Layer_2`,"data-name":`Layer 2`,xmlns:`http://www.w3.org/2000/svg`,fill:`#ffffff`,stroke:`#ffffff`,children:[(0,G.jsx)(`g`,{id:`SVGRepo_bgCarrier`,strokeWidth:`0`}),(0,G.jsx)(`g`,{id:`SVGRepo_tracerCarrier`,strokeLinecap:`round`,strokeLinejoin:`round`}),(0,G.jsxs)(`g`,{id:`SVGRepo_iconCarrier`,children:[(0,G.jsx)(`defs`,{children:(0,G.jsx)(`style`,{children:`.cls-1{fill:none;stroke:#ffffff;strokeLinecap:round;strokeLinejoin:round;}`})}),(0,G.jsx)(`path`,{className:`cls-1`,d:`M40.83,8.48c1.14,0,2,1,1.54,2.86l-5.58,26.3c-.39,1.87-1.52,2.32-3.08,1.45L20.4,29.26a.4.4,0,0,1,0-.65L35.77,14.73c.7-.62-.15-.92-1.07-.36L15.41,26.54a.46.46,0,0,1-.4.05L6.82,24C5,23.47,5,22.22,7.23,21.33L40,8.69a2.16,2.16,0,0,1,.83-.21Z`})]})]}),(0,G.jsx)(q,{value:n.contactInfo.telegram.replace(`https://t.me/`,`@`),onSave:e=>U.updateResumeField(`contactInfo`,{...n.contactInfo,telegram:e}),className:`inline-editable`})]})]})]})})]})})]})});const ze=({project:e,compact:t=!1,onUpdateProject:n})=>{let r=s(),{resumeId:i}=l();return(0,G.jsxs)(`div`,{className:`project-card ${t?`project-card--compact`:``}`,onClick:()=>{r(`/myResume/main/${i}/project/${e.id}`)},children:[(0,G.jsxs)(`div`,{className:`project-card__image`,children:[e.images&&e.images.length>0&&(0,G.jsx)(`img`,{src:e.images[0],alt:e.title,className:`project-card__img`}),(0,G.jsx)(`div`,{className:`project-card__status`,style:{backgroundColor:Se(e.status)},children:e.status})]}),(0,G.jsxs)(`div`,{className:`project-card__content`,children:[(0,G.jsx)(`h3`,{className:`project-card__title`,children:e.title}),!t&&(0,G.jsx)(`p`,{className:`project-card__description`,children:e.description}),(0,G.jsxs)(`div`,{className:`project-card__technologies`,children:[(e.technologies||[]).slice(0,t?2:3).map((e,t)=>(0,G.jsx)(`span`,{className:`project-card__tech`,children:e},t)),e.technologies&&e.technologies.length>(t?2:3)&&(0,G.jsxs)(`span`,{className:`project-card__tech-more`,children:[`+`,e.technologies.length-(t?2:3)]}),P.isAdmin()&&n&&(0,G.jsx)(J,{onAdd:t=>{n(e.id,{technologies:[...e.technologies||[],t]})},placeholder:`Новая технология...`,className:`project-card__add-tech`})]}),(0,G.jsxs)(`div`,{className:`project-card__links`,children:[e.githubUrl&&(0,G.jsx)(`a`,{href:e.githubUrl,className:`project-card__link`,target:`_blank`,rel:`noopener noreferrer`,onClick:t=>{t.preventDefault(),t.stopPropagation(),window.open(e.githubUrl,`_blank`,`noopener,noreferrer`)},children:`GitHub`}),e.websiteUrl&&(0,G.jsx)(`a`,{href:e.websiteUrl,className:`project-card__link`,target:`_blank`,rel:`noopener noreferrer`,onClick:t=>{t.preventDefault(),t.stopPropagation(),window.open(e.websiteUrl,`_blank`,`noopener,noreferrer`)},children:`Website`})]})]})]})},Be=({recommendation:e})=>(0,G.jsxs)(`div`,{className:`recommendation-card`,children:[(0,G.jsx)(`div`,{className:`recommendation-card__avatar`,children:(0,G.jsx)(`img`,{src:z(e.avatar),alt:e.name,className:`recommendation-card__avatar-img`})}),(0,G.jsxs)(`div`,{className:`recommendation-card__content`,children:[(0,G.jsx)(`h4`,{className:`recommendation-card__name`,children:e.name}),(0,G.jsx)(`p`,{className:`recommendation-card__position`,children:e.position}),(0,G.jsx)(`p`,{className:`recommendation-card__organization`,children:e.organization}),e.message&&(0,G.jsxs)(`p`,{className:`recommendation-card__message`,children:[`"`,e.message,`"`]}),e.telegramUrl&&(0,G.jsx)(`a`,{href:e.telegramUrl,className:`recommendation-card__telegram`,target:`_blank`,rel:`noopener noreferrer`,children:`Написать в Telegram`})]})]});var Ve=Re,He=e=>{switch(e){case`pet`:return`Пет проекты`;case`personal`:return`Личные проекты`;case`commercial`:return`Коммерческие проекты`;default:return`Проекты`}},Ue=r(()=>{let e=s(),{resumeId:t,category:n}=l(),r=n;if((0,M.useEffect)(()=>{if(!t){U.currentResume?e(`/myResume/main/${U.currentResume.id}/projects/${n}`,{replace:!0}):e(`/myResume/`);return}!U.currentResume||U.currentResume.id!==t?U.loadResume(t).then(()=>{U.currentResume&&W.logPageView(`/myResume/main/${t}/projects/${n}`,`Проекты: ${He(r)}`)}):W.logPageView(`/myResume/main/${t}/projects/${n}`,`Проекты: ${He(r)}`)},[t,n,e,r]),!U.currentResume||U.currentResume.id!==t)return(0,G.jsx)(`div`,{className:`projects-page`,children:(0,G.jsxs)(`div`,{className:`loading`,children:[(0,G.jsx)(`div`,{className:`spinner`}),(0,G.jsx)(`p`,{children:`Оптимизация покинула чат...`})]})});let i=U.getProjectsByCategory(r),a=U.currentResume;return(0,G.jsxs)(`div`,{className:`projects-page`,children:[(0,G.jsx)(Pe,{type:`projects`,category:r,resumeId:t,resume:a}),(0,G.jsx)(`header`,{className:`projects-header category-title`,children:(0,G.jsx)(`div`,{className:`container`,children:(0,G.jsx)(`h1`,{className:`projects-title`,children:He(r)})})}),(0,G.jsx)(`main`,{className:`projects-content`,children:(0,G.jsx)(`div`,{className:`container`,children:i.length===0?(0,G.jsx)(`div`,{className:`projects-empty`,children:(0,G.jsx)(`p`,{children:`Проекты в этой категории пока отсутствуют.`})}):(0,G.jsx)(`div`,{className:`projects-grid`,children:i.map(e=>(0,G.jsx)(We,{project:e},e.id))})})})]})}),We=({project:e})=>{let t=s(),{resumeId:n}=l();return(0,G.jsxs)(`div`,{className:`project-card`,onClick:()=>{t(`/myResume/main/${n}/project/${e.id}`)},children:[(0,G.jsxs)(`div`,{className:`project-card__image`,children:[e.images&&e.images.length>0&&(0,G.jsx)(`img`,{src:e.images[0],alt:e.title,className:`project-card__img`}),(0,G.jsx)(`div`,{className:`project-card__status`,style:{backgroundColor:Se(e.status)},children:e.status})]}),(0,G.jsxs)(`div`,{className:`project-card__content`,children:[(0,G.jsx)(`h3`,{className:`project-card__title`,children:e.title}),(0,G.jsx)(`p`,{className:`project-card__description`,children:e.description}),(0,G.jsxs)(`div`,{className:`project-card__technologies`,children:[(e.technologies||[]).slice(0,4).map((e,t)=>(0,G.jsx)(`span`,{className:`project-card__tech`,children:e},t)),e.technologies&&e.technologies.length>4&&(0,G.jsxs)(`span`,{className:`project-card__tech-more`,children:[`+`,e.technologies.length-4]})]}),(0,G.jsxs)(`div`,{className:`project-card__date`,children:[e.startDate&&`Начало: ${V(e.startDate,`month`)}`,e.endDate&&` • Завершение: ${V(e.endDate,`month`)}`]}),(0,G.jsxs)(`div`,{className:`project-card__links`,children:[e.githubUrl&&(0,G.jsx)(`a`,{href:e.githubUrl,className:`project-card__link`,target:`_blank`,rel:`noopener noreferrer`,onClick:t=>{t.preventDefault(),t.stopPropagation(),window.open(e.githubUrl,`_blank`,`noopener,noreferrer`)},children:`GitHub`}),e.websiteUrl&&(0,G.jsx)(`a`,{href:e.websiteUrl,className:`project-card__link`,target:`_blank`,rel:`noopener noreferrer`,onClick:t=>{t.preventDefault(),t.stopPropagation(),window.open(e.websiteUrl,`_blank`,`noopener,noreferrer`)},children:`Website`})]})]})]})},Ge=Ue,Ke=r(()=>{let e=s(),{resumeId:t,projectId:n}=l(),[r,i]=(0,M.useState)(null),[a,o]=(0,M.useState)(!0),[c,d]=(0,M.useState)(null),[f,p]=(0,M.useState)(null),[m,g]=(0,M.useState)(0),[_,v]=(0,M.useState)(1),[y,b]=(0,M.useState)({x:0,y:0}),x=(0,M.useRef)(null),S=(0,M.useCallback)((e,t)=>{p(e),g(t),v(1),b({x:0,y:0})},[]),C=(0,M.useCallback)(()=>{p(null),g(0),v(1),b({x:0,y:0})},[]),w=(0,M.useCallback)(()=>{if(r?.images&&m<r.images.length-1){let e=m+1;g(e),p(r.images[e]),v(1),b({x:0,y:0})}},[r?.images,m]),T=(0,M.useCallback)(()=>{if(r?.images&&m>0){let e=m-1;g(e),p(r.images[e]),v(1),b({x:0,y:0})}},[r?.images,m]);if((0,M.useEffect)(()=>{if(o(!0),x.current!==n&&(x.current=null),!t||!n){U.currentResume?e(`/myResume/main/${U.currentResume.id}/project/${n}`,{replace:!0}):e(`/myResume/`);return}(!U.currentResume||U.currentResume.id!==t)&&U.loadResume(t),o(!1)},[t,n,e]),(0,M.useEffect)(()=>{if(o(!0),!U.currentResume||!n||U.currentResume.id!==t)return;if(x.current===n){o(!1);return}let r=[...U.currentResume.petProjects,...U.currentResume.personalProjects,...U.currentResume.commercialProjects].find(e=>e.id===n);r?(i(r),x.current!==n&&(W.logProjectView(n,r.title,t),W.logPageView(`/myResume/main/${t}/project/${n}`,`Проект: ${r.title}`),x.current=n)):e(`/myResume/main/${t}`),o(!1)},[U.currentResume,t,n,e]),(0,M.useEffect)(()=>{let e=e=>{if(f)switch(e.key){case`Escape`:C();break;case`ArrowLeft`:T();break;case`ArrowRight`:w();break}};return document.addEventListener(`keydown`,e),()=>document.removeEventListener(`keydown`,e)},[f,m,r?.images,w,T,C]),(0,M.useEffect)(()=>{let e=e=>{if(!f)return;e.preventDefault();let t=e.deltaY,n=.1;v(e=>{let r=e+(t>0?-n:n);return Math.max(.5,Math.min(3,r))})};if(f)return document.addEventListener(`wheel`,e,{passive:!1}),()=>document.removeEventListener(`wheel`,e)},[f]),a||!U.currentResume||U.currentResume.id!==t)return(0,G.jsx)(`div`,{className:`project-detail`,children:(0,G.jsxs)(`div`,{className:`loading`,children:[(0,G.jsx)(`div`,{className:`spinner`}),(0,G.jsx)(`p`,{children:`Загрузка проекта...`})]})});if(!r)return(0,G.jsx)(`div`,{className:`project-detail`,children:(0,G.jsxs)(`div`,{className:`error`,children:[(0,G.jsx)(`p`,{children:`Проект не найден`}),(0,G.jsx)(`button`,{onClick:()=>e(`/myResume/main/${t}`),children:`Вернуться на главную`})]})});let E=U.currentResume;return(0,G.jsxs)(`div`,{className:`project-detail`,children:[(0,G.jsx)(Pe,{type:`project`,projectTitle:r.title,resumeId:t,resume:E}),(0,G.jsx)(`main`,{className:`project-content`,children:(0,G.jsxs)(`div`,{className:`container`,children:[r.images&&r.images.length>0&&(0,G.jsxs)(`section`,{className:`project-gallery`,children:[(0,G.jsx)(h,{modules:[A,fe,pe],spaceBetween:10,slidesPerView:1,navigation:!0,pagination:{clickable:!0},thumbs:{swiper:c},className:`gallery-main`,children:(r.images||[]).map((e,t)=>(0,G.jsx)(u,{children:(0,G.jsx)(`img`,{src:e,alt:`${r.title} - изображение ${t+1}`,className:`gallery-image`,onClick:()=>S(e,t),style:{cursor:`pointer`}})},t))}),r.images&&r.images.length>1&&(0,G.jsx)(h,{modules:[pe],onSwiper:d,spaceBetween:10,slidesPerView:4,watchSlidesProgress:!0,className:`gallery-thumbs`,children:(r.images||[]).map((e,t)=>(0,G.jsx)(u,{children:(0,G.jsx)(`img`,{src:e,alt:`${r.title} - миниатюра ${t+1}`,className:`thumb-image`,onClick:()=>S(e,t),style:{cursor:`pointer`}})},t))})]}),(0,G.jsxs)(`section`,{className:`project-info`,children:[(0,G.jsxs)(`div`,{className:`project-header`,children:[(0,G.jsxs)(`div`,{className:`project-title-section`,children:[(0,G.jsx)(q,{value:r.title,onSave:e=>{U.updateProject(r.category,r.id,{title:e}),i({...r,title:e})},className:`project-title`}),(0,G.jsx)(`div`,{className:`project-status`,style:{backgroundColor:Se(r.status)},children:Ce(r.status)})]}),(r.startDate||r.endDate)&&(0,G.jsxs)(`div`,{className:`project-meta`,children:[r.startDate&&(0,G.jsxs)(`div`,{className:`project-date`,children:[(0,G.jsx)(`strong`,{children:`Дата начала:`}),` `,V(r.startDate,`month`)]}),r.endDate&&(0,G.jsxs)(`div`,{className:`project-date`,children:[(0,G.jsx)(`strong`,{children:`Дата завершения:`}),` `,V(r.endDate,`month`)]})]})]}),(0,G.jsxs)(`div`,{className:`project-description`,children:[(0,G.jsx)(`h2`,{children:`Описание проекта`}),(0,G.jsx)(q,{value:r.longDescription||r.description,onSave:e=>{U.updateProject(r.category,r.id,{longDescription:e}),i({...r,longDescription:e})},className:`project-description-text`,type:`textarea`,multiline:!0,rows:4})]}),(0,G.jsxs)(`div`,{className:`project-technologies`,children:[(0,G.jsx)(`h2`,{children:`Используемые технологии`}),(0,G.jsxs)(`div`,{className:`technologies-list`,children:[(r.technologies||[]).map((e,t)=>(0,G.jsx)(q,{value:e,onSave:e=>{let n=[...r.technologies||[]];n[t]=e,U.updateProject(r.category,r.id,{technologies:n}),i({...r,technologies:n})},className:`technology-tag`},t)),(0,G.jsx)(J,{onAdd:e=>{let t=[...r.technologies||[],e];U.updateProject(r.category,r.id,{technologies:t}),i({...r,technologies:t})},placeholder:`Новая технология...`,className:`technologies-add-btn`})]})]}),r.githubUrl&&r.githubUrl!==``||r.websiteUrl&&r.websiteUrl!==``&&(0,G.jsxs)(`div`,{className:`project-links`,children:[(0,G.jsx)(`h2`,{children:`Ссылки`}),(0,G.jsxs)(`div`,{className:`links-list`,children:[r.githubUrl&&r.githubUrl!==``?(0,G.jsxs)(`div`,{className:`link-item`,onClick:()=>window.open(r.githubUrl,`_blank`),children:[(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,G.jsx)(`path`,{d:`M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22`})}),(0,G.jsxs)(`div`,{className:`link-content`,children:[(0,G.jsx)(q,{value:r.githubUrl,onSave:e=>{U.updateProject(r.category,r.id,{githubUrl:e}),i({...r,githubUrl:e})},className:`link-url`,placeholder:`https://github.com/...`}),(0,G.jsx)(`span`,{className:`link-label`,children:`GitHub репозиторий`})]})]}):P.isAdmin()?(0,G.jsxs)(`div`,{className:`link-item`,children:[(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,G.jsx)(`path`,{d:`M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22`})}),(0,G.jsxs)(`div`,{className:`link-content`,children:[(0,G.jsx)(J,{onAdd:e=>{U.updateProject(r.category,r.id,{githubUrl:e}),i({...r,githubUrl:e})},placeholder:`https://github.com/...`,className:`link-add-btn`}),(0,G.jsx)(`span`,{className:`link-label`,children:`GitHub репозиторий`})]})]}):null,r.websiteUrl&&r.websiteUrl!==``?(0,G.jsxs)(`div`,{className:`link-item`,onClick:()=>window.open(r.websiteUrl,`_blank`),children:[(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`path`,{d:`M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6`}),(0,G.jsx)(`polyline`,{points:`15,3 21,3 21,9`}),(0,G.jsx)(`line`,{x1:`10`,y1:`14`,x2:`21`,y2:`3`})]}),(0,G.jsxs)(`div`,{className:`link-content`,children:[(0,G.jsx)(q,{value:r.websiteUrl,onSave:e=>{U.updateProject(r.category,r.id,{websiteUrl:e}),i({...r,websiteUrl:e})},className:`link-url`,placeholder:`https://demo.example.com`}),(0,G.jsx)(`span`,{className:`link-label`,children:`Website`})]})]}):P.isAdmin()?(0,G.jsxs)(`div`,{className:`link-item`,children:[(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`path`,{d:`M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6`}),(0,G.jsx)(`polyline`,{points:`15,3 21,3 21,9`}),(0,G.jsx)(`line`,{x1:`10`,y1:`14`,x2:`21`,y2:`3`})]}),(0,G.jsxs)(`div`,{className:`link-content`,children:[(0,G.jsx)(J,{onAdd:e=>{U.updateProject(r.category,r.id,{websiteUrl:e}),i({...r,websiteUrl:e})},placeholder:`https://demo.example.com`,className:`link-add-btn`}),(0,G.jsx)(`span`,{className:`link-label`,children:`Website`})]})]}):null]})]})]})]})}),f&&(0,G.jsx)(`div`,{className:`image-modal`,onClick:C,children:(0,G.jsx)(`div`,{className:`image-modal__overlay`,children:(0,G.jsxs)(`div`,{className:`image-modal__content`,onClick:e=>e.stopPropagation(),children:[(0,G.jsx)(`button`,{className:`image-modal__close`,onClick:C,children:(0,G.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:[(0,G.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,G.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})}),r?.images&&r.images.length>1&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(`button`,{className:`image-modal__nav image-modal__nav--prev`,onClick:T,disabled:m===0,children:(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,G.jsx)(`polyline`,{points:`15,18 9,12 15,6`})})}),(0,G.jsx)(`button`,{className:`image-modal__nav image-modal__nav--next`,onClick:w,disabled:m===r.images.length-1,children:(0,G.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,children:(0,G.jsx)(`polyline`,{points:`9,18 15,12 9,6`})})})]}),(0,G.jsx)(`img`,{src:f,alt:`${r?.title} - изображение ${m+1}`,className:`image-modal__image`,style:{transform:`scale(${_}) translate(${y.x}px, ${y.y}px)`,transformOrigin:`center center`,transition:`transform 0.1s ease-out`}}),r?.images&&r.images.length>1&&(0,G.jsxs)(`div`,{className:`image-modal__counter`,children:[m+1,` / `,r.images.length]}),_!==1&&(0,G.jsxs)(`div`,{className:`image-modal__zoom`,children:[Math.round(_*100),`%`]})]})})})]})});E.register(C,b,te,f,d,x,g,w,_);var qe=r(()=>{let e=s(),[t,n]=(0,M.useState)(!0),[r,i]=(0,M.useState)([]),[a,o]=(0,M.useState)([]),[c,l]=(0,M.useState)([]),[u,d]=(0,M.useState)([]),[f,p]=(0,M.useState)(`7d`),m=(0,M.useCallback)(async()=>{n(!0);try{let[e,t,n,r]=await Promise.all([W.getResumeViews(),W.getProjectViews(),W.getPerformanceMetrics(),W.getContactClicks()]),a=Date.now()-{today:1440*60*1e3,"3d":4320*60*1e3,"7d":10080*60*1e3,"30d":720*60*60*1e3,"90d":2160*60*60*1e3,year:365*24*60*60*1e3}[f];await W.cleanupOldData(),i(e.filter(e=>e.timestamp>=a)),o(t.filter(e=>e.timestamp>=a)),l(n.filter(e=>e.timestamp>=a)),d(r.filter(e=>e.timestamp>=a))}catch(e){console.error(`Error loading analytics: `,e)}finally{n(!1)}},[f]);(0,M.useEffect)(()=>{if(!P.isAdmin()){e(`/myResume/`);return}m()},[e,m]);let h=(0,M.useMemo)(()=>{let e={};return r.forEach(t=>{let n=new Date(t.timestamp).toLocaleDateString(`ru-RU`);e[n]=(e[n]||0)+1}),e},[r]),g=(0,M.useMemo)(()=>{let e={};return r.forEach(t=>{e[t.resumeId]||(e[t.resumeId]={name:t.resumeName,count:0}),e[t.resumeId].count++}),Object.entries(e).map(([e,t])=>({id:e,...t})).sort((e,t)=>t.count-e.count)},[r]),_=(0,M.useMemo)(()=>{let e={};return a.forEach(t=>{e[t.projectId]||(e[t.projectId]={title:t.projectTitle,resumeId:t.resumeId,count:0}),e[t.projectId].count++}),Object.entries(e).map(([e,t])=>({id:e,...t})).sort((e,t)=>t.count-e.count)},[a]),v=(0,M.useMemo)(()=>{let e={};c.forEach(t=>{let n=new Date(t.timestamp).toLocaleDateString(`ru-RU`);e[n]||(e[n]=[]),e[n].push(t)});let t={};return Object.entries(e).forEach(([e,n])=>{let r=n.reduce((e,t)=>e+t.loadTime,0)/n.length,i=n.reduce((e,t)=>e+t.domContentLoaded,0)/n.length,a=n.filter(e=>e.firstPaint),o=a.length>0?a.reduce((e,t)=>e+(t.firstPaint||0),0)/a.length:void 0,s=n.filter(e=>e.firstContentfulPaint),c=s.length>0?s.reduce((e,t)=>e+(t.firstContentfulPaint||0),0)/s.length:void 0;t[e]={loadTime:r,domContentLoaded:i,firstPaint:o||void 0,firstContentfulPaint:c||void 0}}),t},[c]),y=(0,M.useMemo)(()=>{let e=Object.keys(h).sort((e,t)=>new Date(e.split(`.`).reverse().join(`-`)).getTime()-new Date(t.split(`.`).reverse().join(`-`)).getTime());return{labels:e,datasets:[{label:`Просмотры резюме`,data:e.map(e=>h[e]),borderColor:`rgb(76, 205, 196)`,backgroundColor:`rgba(76, 205, 196, 0.1)`,tension:.4}]}},[h]),b=(0,M.useMemo)(()=>{let e=Object.keys(v).sort((e,t)=>new Date(e.split(`.`).reverse().join(`-`)).getTime()-new Date(t.split(`.`).reverse().join(`-`)).getTime());return{labels:e,datasets:[{label:`Время загрузки (мс)`,data:e.map(e=>v[e].loadTime),borderColor:`rgb(255, 99, 132)`,backgroundColor:`rgba(255, 99, 132, 0.1)`,tension:.4},{label:`DOM Content Loaded (мс)`,data:e.map(e=>v[e].domContentLoaded),borderColor:`rgb(54, 162, 235)`,backgroundColor:`rgba(54, 162, 235, 0.1)`,tension:.4},{label:`First Paint (мс)`,data:e.map(e=>v[e].firstPaint||0),borderColor:`rgb(255, 206, 86)`,backgroundColor:`rgba(255, 206, 86, 0.1)`,tension:.4},{label:`First Contentful Paint (мс)`,data:e.map(e=>v[e].firstContentfulPaint||0),borderColor:`rgb(75, 192, 192)`,backgroundColor:`rgba(75, 192, 192, 0.1)`,tension:.4}]}},[v]),x=(0,M.useMemo)(()=>({labels:g.map(e=>e.name),datasets:[{label:`Просмотры`,data:g.map(e=>e.count),backgroundColor:[`rgba(76, 205, 196, 0.8)`,`rgba(255, 99, 132, 0.8)`,`rgba(54, 162, 235, 0.8)`,`rgba(255, 206, 86, 0.8)`,`rgba(75, 192, 192, 0.8)`,`rgba(153, 102, 255, 0.8)`,`rgba(255, 159, 64, 0.8)`]}]}),[g]),C=(0,M.useMemo)(()=>{if(c.length===0)return{loadTime:0,domContentLoaded:0,firstPaint:0,firstContentfulPaint:0};let e=c.filter(e=>e.firstPaint),t=c.filter(e=>e.firstContentfulPaint);return{loadTime:c.reduce((e,t)=>e+t.loadTime,0)/c.length,domContentLoaded:c.reduce((e,t)=>e+t.domContentLoaded,0)/c.length,firstPaint:e.length>0?e.reduce((e,t)=>e+(t.firstPaint||0),0)/e.length:0,firstContentfulPaint:t.length>0?t.reduce((e,t)=>e+(t.firstContentfulPaint||0),0)/t.length:0}},[c]),w=(0,M.useMemo)(()=>{let e={email:0,phone:0,telegram:0,total:u.length};return u.forEach(t=>{e[t.contactType]++}),e},[u]),T=(0,M.useMemo)(()=>({labels:[`Email`,`Телефон`,`Telegram`],datasets:[{label:`Интересовались контактами`,data:[w.email,w.phone,w.telegram],backgroundColor:[`rgba(76, 205, 196, 0.8)`,`rgba(255, 99, 132, 0.8)`,`rgba(54, 162, 235, 0.8)`]}]}),[w]),E={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:`top`,labels:{color:`#ffffff`}},title:{display:!0,color:`#ffffff`}},scales:{x:{ticks:{color:`#ffffff`},grid:{color:`rgba(255, 255, 255, 0.1)`}},y:{ticks:{color:`#ffffff`},grid:{color:`rgba(255, 255, 255, 0.1)`}}}};return t?(0,G.jsx)(`div`,{className:`analytics-page`,children:(0,G.jsxs)(`div`,{className:`loading`,children:[(0,G.jsx)(`div`,{className:`spinner`}),(0,G.jsx)(`p`,{children:`Загрузка аналитики...`})]})}):(0,G.jsx)(`div`,{className:`analytics-page`,children:(0,G.jsxs)(`div`,{className:`analytics-page__container`,children:[(0,G.jsxs)(`header`,{className:`analytics-page__header`,children:[(0,G.jsx)(`h1`,{className:`analytics-page__title`,children:`Аналитика`}),(0,G.jsxs)(`div`,{className:`analytics-page__controls`,children:[(0,G.jsxs)(`select`,{className:`analytics-page__period-select`,value:f,onChange:e=>p(e.target.value),children:[(0,G.jsx)(`option`,{value:`today`,children:`Сегодня`}),(0,G.jsx)(`option`,{value:`3d`,children:`3 дня`}),(0,G.jsx)(`option`,{value:`7d`,children:`7 дней`}),(0,G.jsx)(`option`,{value:`30d`,children:`30 дней`}),(0,G.jsx)(`option`,{value:`90d`,children:`90 дней`}),(0,G.jsx)(`option`,{value:`year`,children:`Год`})]}),(0,G.jsx)(`button`,{className:`analytics-page__back-btn`,onClick:()=>e(`/myResume/`),children:`Назад`})]})]}),(0,G.jsxs)(`div`,{className:`analytics-page__stats`,children:[(0,G.jsxs)(`div`,{className:`stat-card`,children:[(0,G.jsx)(`h3`,{children:`Всего просмотров`}),(0,G.jsx)(`p`,{className:`stat-value`,children:r.length})]}),(0,G.jsxs)(`div`,{className:`stat-card`,children:[(0,G.jsx)(`h3`,{children:`Количество резюме`}),(0,G.jsx)(`p`,{className:`stat-value`,children:g.length})]}),(0,G.jsxs)(`div`,{className:`stat-card`,children:[(0,G.jsx)(`h3`,{children:`Среднее время загрузки`}),(0,G.jsxs)(`p`,{className:`stat-value`,children:[Math.round(C.loadTime),` мс`]})]}),(0,G.jsxs)(`div`,{className:`stat-card`,children:[(0,G.jsx)(`h3`,{children:`Средний FCP`}),(0,G.jsxs)(`p`,{className:`stat-value`,children:[Math.round(C.firstContentfulPaint),` мс`]})]}),(0,G.jsxs)(`div`,{className:`stat-card`,children:[(0,G.jsx)(`h3`,{children:`Клики по контактам`}),(0,G.jsx)(`p`,{className:`stat-value`,children:w.total})]})]}),(0,G.jsxs)(`div`,{className:`analytics-page__charts`,children:[(0,G.jsxs)(`div`,{className:`chart-card`,children:[(0,G.jsx)(`h2`,{children:`Просмотры резюме по дням`}),(0,G.jsx)(`div`,{className:`chart-container`,children:(0,G.jsx)(S,{data:y,options:E})})]}),(0,G.jsxs)(`div`,{className:`chart-card`,children:[(0,G.jsx)(`h2`,{children:`Распределение просмотров по резюме`}),(0,G.jsx)(`div`,{className:`chart-container chart-container--doughnut`,children:(0,G.jsx)(ee,{data:x,options:E})})]}),(0,G.jsxs)(`div`,{className:`chart-card`,children:[(0,G.jsx)(`h2`,{children:`Топ резюме по просмотрам`}),(0,G.jsx)(`div`,{className:`resume-stats-list`,children:g.slice(0,10).map(e=>(0,G.jsxs)(`div`,{className:`resume-stat-item`,children:[(0,G.jsx)(`span`,{className:`resume-stat-name`,children:e.name}),(0,G.jsxs)(`span`,{className:`resume-stat-count`,children:[e.count,` просмотров`]})]},e.id))})]}),(0,G.jsxs)(`div`,{className:`chart-card`,children:[(0,G.jsx)(`h2`,{children:`Топ проектов по просмотрам`}),(0,G.jsxs)(`div`,{className:`resume-stats-list`,children:[_.slice(0,10).map(e=>(0,G.jsxs)(`div`,{className:`resume-stat-item`,children:[(0,G.jsx)(`span`,{className:`resume-stat-name`,children:e.title}),(0,G.jsxs)(`span`,{className:`resume-stat-count`,children:[e.count,` просмотров`]})]},e.id)),_.length===0&&(0,G.jsx)(`div`,{className:`empty-state`,children:(0,G.jsx)(`p`,{children:`Пока нет просмотров проектов`})})]})]}),(0,G.jsxs)(`div`,{className:`chart-card chart-card--full`,children:[(0,G.jsx)(`h2`,{children:`Метрики производительности`}),(0,G.jsx)(`div`,{className:`chart-container`,children:(0,G.jsx)(S,{data:b,options:E})})]}),(0,G.jsxs)(`div`,{className:`chart-card`,children:[(0,G.jsx)(`h2`,{children:`Средние метрики производительности`}),(0,G.jsxs)(`div`,{className:`performance-metrics`,children:[(0,G.jsxs)(`div`,{className:`performance-metric`,children:[(0,G.jsx)(`span`,{className:`metric-label`,children:`Время загрузки:`}),(0,G.jsxs)(`span`,{className:`metric-value`,children:[Math.round(C.loadTime),` мс`]})]}),(0,G.jsxs)(`div`,{className:`performance-metric`,children:[(0,G.jsx)(`span`,{className:`metric-label`,children:`DOM Content Loaded:`}),(0,G.jsxs)(`span`,{className:`metric-value`,children:[Math.round(C.domContentLoaded),` мс`]})]}),(0,G.jsxs)(`div`,{className:`performance-metric`,children:[(0,G.jsx)(`span`,{className:`metric-label`,children:`First Paint:`}),(0,G.jsxs)(`span`,{className:`metric-value`,children:[Math.round(C.firstPaint),` мс`]})]}),(0,G.jsxs)(`div`,{className:`performance-metric`,children:[(0,G.jsx)(`span`,{className:`metric-label`,children:`First Contentful Paint:`}),(0,G.jsxs)(`span`,{className:`metric-value`,children:[Math.round(C.firstContentfulPaint),` мс`]})]})]})]}),(0,G.jsxs)(`div`,{className:`chart-card`,children:[(0,G.jsx)(`h2`,{children:`Распределение потенциальных работодателей`}),(0,G.jsx)(`div`,{className:`chart-container chart-container--doughnut`,children:(0,G.jsx)(ee,{data:T,options:E})})]}),(0,G.jsxs)(`div`,{className:`chart-card`,children:[(0,G.jsx)(`h2`,{children:`Статистика потенциальных работодателей`}),(0,G.jsxs)(`div`,{className:`contact-stats-list`,children:[(0,G.jsxs)(`div`,{className:`contact-stat-item`,children:[(0,G.jsx)(`span`,{className:`contact-stat-type`,children:`Email`}),(0,G.jsxs)(`span`,{className:`contact-stat-count`,children:[w.email,` кликов`]})]}),(0,G.jsxs)(`div`,{className:`contact-stat-item`,children:[(0,G.jsx)(`span`,{className:`contact-stat-type`,children:`Телефон`}),(0,G.jsxs)(`span`,{className:`contact-stat-count`,children:[w.phone,` кликов`]})]}),(0,G.jsxs)(`div`,{className:`contact-stat-item`,children:[(0,G.jsx)(`span`,{className:`contact-stat-type`,children:`Telegram`}),(0,G.jsxs)(`span`,{className:`contact-stat-count`,children:[w.telegram,` кликов`]})]})]})]})]})]})})}),Je=r(({children:e})=>{let{resumeId:n}=l(),[r,i]=(0,M.useState)(!0),[a,o]=(0,M.useState)(null);return(0,M.useEffect)(()=>{(async()=>{if(!n){i(!1);return}try{await U.loadResumeList();let e=U.resumeList.find(e=>e.id===n);o(e||null)}catch(e){console.error(`Ошибка при проверке видимости резюме: `,e),o(null)}finally{i(!1)}})()},[n]),r?(0,G.jsxs)(`div`,{className:`loading-container`,children:[(0,G.jsx)(`div`,{className:`spinner`}),(0,G.jsx)(`p`,{children:`Проверка доступа...`})]}):!a||!a.visible&&!P.isAdmin()?(0,G.jsx)(t,{to:`/myResume/`,replace:!0}):(0,G.jsx)(G.Fragment,{children:e})}),Ye=r(()=>(0,G.jsx)(y,{children:(0,G.jsxs)(o,{children:[(0,G.jsx)(v,{path:`/myResume/`,element:(0,G.jsx)(ke,{})}),(0,G.jsx)(v,{path:`/myResume/resume/edit/:resumeId`,element:(0,G.jsx)(Ne,{})}),(0,G.jsx)(v,{path:`/myResume/analytics`,element:(0,G.jsx)(qe,{})}),(0,G.jsx)(v,{path:`/myResume/main/:resumeId`,element:(0,G.jsx)(Je,{children:(0,G.jsx)(Ve,{})})}),(0,G.jsx)(v,{path:`/myResume/main/:resumeId/projects/:category`,element:(0,G.jsx)(Je,{children:(0,G.jsx)(Ge,{})})}),(0,G.jsx)(v,{path:`/myResume/main/:resumeId/project/:projectId`,element:(0,G.jsx)(Je,{children:(0,G.jsx)(Ke,{})})}),(0,G.jsx)(v,{path:`*`,element:(0,G.jsx)(t,{to:`/myResume/`,replace:!0})})]})})),Xe=r(()=>(0,G.jsx)(Ye,{}));(0,me.createRoot)(document.getElementById(`root`)).render((0,G.jsx)(M.StrictMode,{children:(0,G.jsx)(Xe,{})}));